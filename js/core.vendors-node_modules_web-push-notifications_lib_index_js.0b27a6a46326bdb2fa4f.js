/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_web-push-notifications_lib_index_js"],{

/***/ "../../../node_modules/web-push-notifications/lib/index.js":
/*!*****************************************************************!*\
  !*** ../../../node_modules/web-push-notifications/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module) {

eval("!function(root,factory){if(true)module.exports=factory();else { var i, a; }}(this,function(){return function(modules){var installedModules={};function __nested_webpack_require_318__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_318__),module.l=!0,module.exports}return __nested_webpack_require_318__.m=modules,__nested_webpack_require_318__.c=installedModules,__nested_webpack_require_318__.d=function(exports,name,getter){__nested_webpack_require_318__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_318__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_318__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_318__.d(getter,\"a\",getter),getter},__nested_webpack_require_318__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_318__.p=\"\",__nested_webpack_require_318__(__nested_webpack_require_318__.s=78)}([function(module,exports,__nested_webpack_require_1351__){\"use strict\";var support=__nested_webpack_require_1351__(7),base64=__nested_webpack_require_1351__(59),nodejsUtils=__nested_webpack_require_1351__(31),setImmediate=__nested_webpack_require_1351__(100),external=__nested_webpack_require_1351__(26);function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i)array[i]=255&str.charCodeAt(i);return array}exports.newBlob=function(part,type){exports.checkSupport(\"blob\");try{return new Blob([part],{type:type})}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return builder.append(part),builder.getBlob(type)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk)return String.fromCharCode.apply(null,array);for(;k<len;)\"array\"===type||\"nodebuffer\"===type?result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len)))):result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len)))),k+=chunk;return result.join(\"\")},stringifyByChar:function(array){for(var resultStr=\"\",i=0;i<array.length;i++)resultStr+=String.fromCharCode(array[i]);return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0;if(\"uint8array\"===type?canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array:\"nodebuffer\"===type&&(canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer),canUseApply)for(;chunk>1;)try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}return arrayToStringHelper.stringifyByChar(array)}function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++)arrayTo[i]=arrayFrom[i];return arrayTo}exports.applyFromCharCode=arrayLikeToString;var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}},transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}},transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity},exports.transformTo=function(outputType,input){if(input||(input=\"\"),!outputType)return input;exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);return transform[inputType][outputType](input)},exports.getTypeOf=function(input){return\"string\"==typeof input?\"string\":\"[object Array]\"===Object.prototype.toString.call(input)?\"array\":support.nodebuffer&&nodejsUtils.isBuffer(input)?\"nodebuffer\":support.uint8array&&input instanceof Uint8Array?\"uint8array\":support.arraybuffer&&input instanceof ArrayBuffer?\"arraybuffer\":void 0},exports.checkSupport=function(type){if(!support[type.toLowerCase()])throw new Error(type+\" is not supported by this platform\")},exports.MAX_VALUE_16BITS=65535,exports.MAX_VALUE_32BITS=-1,exports.pretty=function(str){var code,i,res=\"\";for(i=0;i<(str||\"\").length;i++)res+=\"\\\\x\"+((code=str.charCodeAt(i))<16?\"0\":\"\")+code.toString(16).toUpperCase();return res},exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})},exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype,ctor.prototype=new Obj},exports.extend=function(){var i,attr,result={};for(i=0;i<arguments.length;i++)for(attr in arguments[i])arguments[i].hasOwnProperty(attr)&&void 0===result[attr]&&(result[attr]=arguments[i][attr]);return result},exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){return external.Promise.resolve(inputData).then(function(data){return support.blob&&(data instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(data)))&&\"undefined\"!=typeof FileReader?new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)},reader.onerror=function(e){reject(e.target.error)},reader.readAsArrayBuffer(data)}):data}).then(function(data){var dataType=exports.getTypeOf(data);return dataType?(\"arraybuffer\"===dataType?data=exports.transformTo(\"uint8array\",data):\"string\"===dataType&&(isBase64?data=base64.decode(data):isBinary&&!0!==isOptimizedBinaryString&&(data=function(str){return stringToArrayLike(str,support.uint8array?new Uint8Array(str.length):new Array(str.length))}(data))),data):external.Promise.reject(new Error(\"Can't read the data of '\"+name+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_SERVICE_WORKER_URL=\"/pushwoosh-service-worker.js\",exports.DEFAULT_API_URL=\"https://cp.pushwoosh.com/json/1.3/\",exports.FACEBOOK_APP_ID=\"436711767081797\",exports.FACEBOOK_HWID_KEY=\"FACEBOOK_HWID_KEY\",exports.PERIOD_SEND_APP_OPEN=36e5,exports.PERIOD_GOAL_EVENT=864e5,exports.DEFAULT_NOTIFICATION_DURATION=10,exports.MIN_NOTIFICATION_DURATION=10,exports.MAX_NOTIFICATION_DURATION=55,exports.WAKE_UP_SERVICE_WORKER_INTERVAL=20,exports.DEFAULT_NOTIFICATION_TITLE=\"Pushwoosh notification\",exports.DEFAULT_NOTIFICATION_IMAGE=\"https://cp.pushwoosh.com/img/logo-medium.png\",exports.DEFAULT_NOTIFICATION_URL=\"/\",exports.KEY_API_PARAMS=\"API_PARAMS\",exports.KEY_INIT_PARAMS=\"INIT_PARAMS\",exports.KEY_SDK_VERSION=\"SDK_VERSION\",exports.KEY_WORKER_VERSION=\"WORKER_VERSION\",exports.KEY_LAST_SENT_APP_OPEN=\"LAST_SENT_APP_OPEN\",exports.KEY_LAST_OPEN_MESSAGE=\"LAST_OPEN_MESSAGE\",exports.KEY_API_BASE_URL=\"API_BASE_URL\",exports.KEY_SHOW_SUBSCRIBE_WIDGET=\"WIDGET_SHOWED\",exports.KEY_CLICK_SUBSCRIBE_WIDGET=\"WIDGET_CLICKED\",exports.KEY_DELAYED_EVENT=\"DELAYED_EVENT\",exports.KEY_COMMUNICATION_ENABLED=\"COMMUNICATION_ENABLED\",exports.KEY_DEVICE_DATA_REMOVED=\"DEVICE_DATA_REMOVED\",exports.KEY_INTERNAL_EVENTS=\"INTERNAL_EVENTS\",exports.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS=\"UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS\",exports.KEY_FAKE_PUSH_TOKEN=\"fakePushToken\",exports.KEY_DEVICE_REGISTRATION_STATUS=\"deviceRegistrationStatus\",exports.KEY_SAFARI_PREVIOUS_PERMISSION=\"safariPreviousPermission\",exports.MANUAL_SET_LOGGER_LEVEL=\"PW_SET_LOGGER_LEVEL\",exports.DEVICE_REGISTRATION_STATUS_REGISTERED=\"registered\",exports.DEVICE_REGISTRATION_STATUS_UNREGISTERED=\"unregistered\",exports.KEY_SENDER_ID=\"GCM_SENDER_ID\",exports.KEY_FCM_SUBSCRIPTION=\"FCM_SUBSCRIPTION\",exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.PERMISSION_PROMPT=\"default\",exports.EVENT_ON_LOAD=\"onLoad\",exports.EVENT_ON_READY=\"onReady\",exports.EVENT_ON_SUBSCRIBE=\"onSubscribe\",exports.EVENT_ON_UNSUBSCRIBE=\"onUnsubscribe\",exports.EVENT_ON_REGISTER=\"onRegister\",exports.EVENT_ON_PERMISSION_PROMPT=\"onPermissionPrompt\",exports.EVENT_ON_PERMISSION_DENIED=\"onPermissionDenied\",exports.EVENT_ON_PERMISSION_GRANTED=\"onPermissionGranted\",exports.EVENT_ON_SW_INIT_ERROR=\"onSWInitError\",exports.EVENT_ON_PUSH_DELIVERY=\"onPushDelivery\",exports.EVENT_ON_NOTIFICATION_CLICK=\"onNotificationClick\",exports.EVENT_ON_NOTIFICATION_CLOSE=\"onNotificationClose\",exports.EVENT_ON_CHANGE_COMMUNICATION_ENABLED=\"onChangeCommunicationEnabled\",exports.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE=\"onPutNewMessageToInboxStore\",exports.EVENT_ON_UPDATE_INBOX_MESSAGES=\"onUpdateInboxMessages\",exports.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG=\"onShowNotificationPermissionDialog\",exports.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG=\"onHideNotificationPermissionDialog\",exports.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET=\"onShowSubscriptionWidget\",exports.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET=\"onHideSubscriptionWidget\",exports.EVENT_SHOW_SUBSCRIBE_BUTTON=\"showSubscribeButton\",exports.EVENT_CLICK_SUBSCRIBE_BUTTON=\"clickSubscribeButton\",exports.EVENT_GDPR_CONSENT=\"GDPRConsent\",exports.EVENT_GDPR_DELETE=\"GDPRDelete\",exports.EVENT_PW_SITE_OPENED=\"PW_SiteOpened\",exports.MANUAL_UNSUBSCRIBE=\"MANUAL_UNSUBSCRIBE\",exports.PAGE_VISITED_URL=\"PAGE_VISITED_URL\",exports.CHANNELS=\"CHANNELS\",exports.SUBSCRIPTION_SEGMENT_EVENT=\"Subscription Segments\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET=\"not-set\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_USED=\"not-used\",exports.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT=\"default\",exports.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED=\"topic-based\",exports.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG={headerText:\"Subscribe to our news\",headerTextColor:\"#000000\",subheaderText:\"Don't miss out on the latest news and updates!\",subheaderTextColor:\"#000000\",buttonAcceptText:\"Agree\",buttonAcceptTextColor:\"#1A72E8\",buttonAcceptRound:\"4px\",buttonAcceptBackgroundColor:\"#FFFFFF\",buttonAcceptBorderColor:\"#E3E4E8\",buttonCancelText:\"Deny\",buttonCancelTextColor:\"#1A72E8\",buttonCancelRound:\"4px\",buttonCancelBackgroundColor:\"#FFFFFF\",buttonCancelBorderColor:\"#E3E4E8\",cappingCount:3,cappingDelay:144e5,backgroundColor:\"#FFFFFF\"}},function(module,exports,__webpack_require__){\"use strict\";function GenericWorker(name){this.name=name||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit(\"data\",chunk)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(name,listener){return this._listeners[name].push(listener),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(name,arg){if(this._listeners[name])for(var i=0;i<this._listeners[name].length;i++)this._listeners[name][i].call(this,arg)},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=previous.streamInfo,this.mergeStreamInfo(),this.previous=previous;var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var withError=!1;return this.generatedError&&(this.error(this.generatedError),withError=!0),this.previous&&this.previous.resume(),!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){return this.extraStreamInfo[key]=value,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(key)&&(this.streamInfo[key]=this.extraStreamInfo[key])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var me=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+me:me}},module.exports=GenericWorker},function(module,exports,__nested_webpack_require_14166__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var databasePromise,version_1=__nested_webpack_require_14166__(18),MigrationExecutor_1=__nested_webpack_require_14166__(19),constants_1=__nested_webpack_require_14166__(9);function onversionchange(database,event){console.info(\"onversionchange\",event),database.close()}function getInstance(){return databasePromise||(databasePromise=new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),resolve(database)},request.onerror=function(){return reject(request.error)},request.onupgradeneeded=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),new MigrationExecutor_1.default(database).applyMigrations()}})),databasePromise}function getInstanceWithPromise(executor){return getInstance().then(function(database){return new Promise(function(resolve,reject){return executor(database,resolve,reject)})})}exports.getInstance=getInstance;var LogBase=function(){function LogBase(){}return LogBase.prototype._add=function(obj){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).add(obj);request.onsuccess=function(){resolve(obj)},request.onerror=function(){reject(request.error)}}).then(function(obj){return _this.getAll().then(function(items){if(Array.isArray(items)){var ids=items.map(function(i){return i.id}).sort(function(a,b){return a==b?0:a<b?1:-1});if(ids.length>_this.maxItems)return Promise.all(ids.slice(_this.maxItems).map(function(id){return _this.delete(id)})).then(function(){return obj})}return obj})})},LogBase.prototype.delete=function(key){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).delete(key);request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}})},LogBase.prototype.getAll=function(){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var result=[],cursor=database.transaction(_this.name).objectStore(_this.name).openCursor();cursor.onsuccess=function(ev){var cursorResult=ev.target.result;cursorResult?(cursorResult.value&&result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},LogBase}();exports.LogBase=LogBase;var LogLog=function(_super){function LogLog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MAIN_LOG,_this.maxItems=100,_this.environment=\"undefined\"!=typeof self&&self.registration?\"worker\":\"browser\",_this}return __extends(LogLog,_super),LogLog.prototype.add=function(type,message,additional){var obj={type:type,environment:this.environment,message:\"\"+message,date:new Date};return message instanceof Error&&(obj.stack=message.stack),additional&&(obj.additional=additional),this._add(obj)},LogLog}(LogBase);exports.LogLog=LogLog;var LogMessage=function(_super){function LogMessage(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MESSAGE_LOG,_this.maxItems=25,_this}return __extends(LogMessage,_super),LogMessage.prototype.add=function(log){return this._add(__assign(__assign({},log),{date:new Date}))},LogMessage}(LogBase);exports.LogMessage=LogMessage,exports.keyValue=function(name){return{get:function(key,defaultValue){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction(name).objectStore(name).get(key),isComplete=!1,isError=!1,check=function(){if(clearTimeout(timeout),isComplete){var result=request.result;resolve(result&&result.value||defaultValue)}else isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})},getAll:function(){return getInstanceWithPromise(function(database,resolve,reject){var timeout,result={},cursor=database.transaction(name).objectStore(name).openCursor(),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(result):isError?reject(cursor.error):timeout=setTimeout(check,0)};cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result[cursorResult.key]=cursorResult.value.value,cursorResult.continue()):isComplete=!0},cursor.onerror=function(){return isError=!0},check()})},extend:function(key,value){return __awaiter(this,void 0,void 0,function(){var oldValues,newValues;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.get(key)];case 1:return oldValues=_a.sent(),newValues=__rest(value,[]),[4,this.set(key,__assign(__assign({},oldValues),newValues))];case 2:return _a.sent(),[2]}})})},set:function(key,value){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction([name],\"readwrite\").objectStore(name).put({key:key,value:value}),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(key):isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})}}}(constants_1.STORE_NAME_KEY_VALUE),exports.log=new LogLog,exports.message=new LogMessage},function(module,exports,__nested_webpack_require_22402__){\"use strict\";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_22402__(3),levels={error:1,info:2,debug:3},limitLevel=3;__nested_webpack_require_22402__(10).patchConsole();var Logger={setLevel:function(level){levels[level]||(level=\"error\"),limitLevel=levels[level]},write:function(type,message,additional){return\"error\"===type?this.error(message):this.info(message),storage_1.log.add(type,message,additional)}};exports.Logger=Logger,Object.keys(levels).forEach(function(levelName){var levelNumber=levels[levelName];Logger[levelName]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];levelNumber<=limitLevel&&(console.groupCollapsed(levelName),console.info.apply(console,__spreadArrays([\"\"],args)),console.trace(\"trace\"),console.groupEnd())}}),exports.logAndThrowError=function(error){var logText=new Error(error);throw Logger.write(\"error\",logText,\"logAndThrowError\"),logText},exports.logAndRejectError=function(error,reject){var logText=new Error(error);Logger.write(\"error\",logText,\"logAndRejectError\"),reject(logText)}},function(module,exports,__nested_webpack_require_23750__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_23750__(3),CONSTANTS=__nested_webpack_require_23750__(1),Data=function(){function Data(store){void 0===store&&(store=storage_1.keyValue),this.store=store}return Data.prototype.clearAll=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",void 0)];case 1:return _a.sent(),[4,this.store.set(\"params.hwid\",void 0)];case 2:return _a.sent(),[4,this.store.set(\"params.deviceType\",void 0)];case 3:return _a.sent(),[4,this.store.set(\"params.deviceModel\",void 0)];case 4:return _a.sent(),[4,this.store.set(\"params.language\",void 0)];case 5:return _a.sent(),[4,this.store.set(\"params.apiEntrypoint\",void 0)];case 6:return _a.sent(),[4,this.store.set(\"params.tokens\",void 0)];case 7:return _a.sent(),[4,this.store.set(\"params.applicationServerKey\",void 0)];case 8:return _a.sent(),[4,this.store.set(\"params.senderId\",void 0)];case 9:return _a.sent(),[4,this.store.set(\"params.webSitePushId\",void 0)];case 10:return _a.sent(),[4,this.store.set(\"params.defaultNotificationImage\",void 0)];case 11:return _a.sent(),[4,this.store.set(\"params.defaultNotificationTitle\",void 0)];case 12:return _a.sent(),[4,this.store.set(\"params.userId\",void 0)];case 13:return _a.sent(),[4,this.store.set(\"params.userIdWasChanged\",void 0)];case 14:return _a.sent(),[4,this.store.set(\"params.isLastPermissionStatus\",void 0)];case 15:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",void 0)];case 16:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",void 0)];case 17:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",void 0)];case 18:return _a.sent(),[4,this.store.set(\"params.sdkVersion\",void 0)];case 19:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",void 0)];case 20:return _a.sent(),[4,this.store.set(\"params.serviceWorkerUrl\",void 0)];case 21:return _a.sent(),[4,this.store.set(\"params.serviceWorkerScope\",void 0)];case 22:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",void 0)];case 23:return _a.sent(),[4,this.store.set(\"params.lastOpenApplicationTime\",void 0)];case 24:return _a.sent(),[4,this.store.set(\"params.features\",void 0)];case 25:return _a.sent(),[4,this.store.set(\"params.init\",void 0)];case 26:return _a.sent(),[4,this.store.set(\"API_PARAMS\",void 0)];case 27:return _a.sent(),[4,this.store.set(\"SENDER_ID\",void 0)];case 28:return _a.sent(),[4,this.store.set(\"COMMUNICATION_ENABLED\",void 0)];case 29:return _a.sent(),[4,this.store.set(\"DEVICE_DATA_REMOVED\",void 0)];case 30:return _a.sent(),[4,this.store.set(\"LAST_OPEN_MESSAGE\",void 0)];case 31:return _a.sent(),[4,this.store.set(\"DELAYED_EVENT\",void 0)];case 32:return _a.sent(),[2]}})})},Data.prototype.setApplicationCode=function(application){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",application)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationCode\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setHwid=function(hwid){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.hwid\",hwid)];case 1:return _a.sent(),[2]}})})},Data.prototype.getHwid=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.hwid\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceType=function(type){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceType\",type)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceType=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceType\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceModel=function(model){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceModel\",model)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceModel=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceModel\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLanguage=function(language){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.language\",language)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLanguage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.language\",\"en\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setApiEntrypoint=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.apiEntrypoint\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApiEntrypoint=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.apiEntrypoint\",CONSTANTS.DEFAULT_API_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setTokens=function(tokens){return __awaiter(this,void 0,void 0,function(){var hwid;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getHwid()];case 1:return hwid=_a.sent(),[4,this.store.set(\"API_PARAMS\",__assign({hwid:hwid},tokens))];case 2:return _a.sent(),[4,this.store.set(\"params.tokens\",tokens)];case 3:return _a.sent(),[2]}})})},Data.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"API_PARAMS\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.tokens\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setApplicationServerKey=function(key){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationServerKey\",key)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationServerKey\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setSenderId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"GCM_SENDER_ID\",senderId)];case 1:return _a.sent(),[4,this.store.set(\"params.senderId\",senderId)];case 2:return _a.sent(),[2]}})})},Data.prototype.getSenderId=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"GCM_SENDER_ID\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.senderId\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setWebSitePushId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.webSitePushId\",senderId)];case 1:return _a.sent(),[2]}})})},Data.prototype.getWebSitePushId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.webSitePushId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationImage=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationImage\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationImage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationImage\",CONSTANTS.DEFAULT_NOTIFICATION_IMAGE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationTitle=function(text){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationTitle\",text)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationTitle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationTitle\",CONSTANTS.DEFAULT_NOTIFICATION_TITLE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setUserId=function(userId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return userId?[3,2]:[4,this.store.set(\"params.userId\",void 0)];case 1:return _a.sent(),[2];case 2:return[4,this.store.set(\"params.userId\",userId.toString())];case 3:return _a.sent(),[2]}})})},Data.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusUserIdWasChanged=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.userIdWasChanged\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getStatusUserIdWasChanged=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userIdWasChanged\",!1)];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastPermissionStatus=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.isLastPermissionStatus\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastPermissionStatus=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.isLastPermissionStatus\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusManualUnsubscribed=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"MANUAL_UNSUBSCRIBE\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"MANUAL_UNSUBSCRIBE\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isManualUnsubscribed\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setStatusCommunicationDisabled=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"COMMUNICATION_ENABLED\",status?0:1)];case 1:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusCommunicationDisabled=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"COMMUNICATION_ENABLED\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isCommunicationDisabled\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:0==oldValue]}})})},Data.prototype.setStatusDropAllData=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DEVICE_DATA_REMOVED\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusDropAllData=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DEVICE_DATA_REMOVED\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isDropAllData\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setSdkVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.sdkVersion\",version)];case 1:return _a.sent(),[2]}})})},Data.prototype.getSdkVersion=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.sdkVersion\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"WORKER_VERSION\",version)];case 1:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",version)];case 2:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerVersion=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"WORKER_VERSION\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.serviceWorkerVersion\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setServiceWorkerUrl=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return url?[4,this.store.set(\"params.serviceWorkerUrl\",url)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerUrl=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerUrl\",CONSTANTS.DEFAULT_SERVICE_WORKER_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerScope=function(scope){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return scope?[4,this.store.set(\"params.serviceWorkerScope\",scope)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerScope=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerScope\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastOpenMessage=function(message){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"LAST_OPEN_MESSAGE\",message)];case 1:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",message)];case 2:return _a.sent(),[2]}})})},Data.prototype.getLastOpenMessage=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"LAST_OPEN_MESSAGE\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.lastOpenMessage\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setLastOpenApplicationTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.lastOpenApplicationTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastOpenApplicationTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.lastOpenApplicationTime\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setFeatures=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.features\",features)];case 1:return _a.sent(),[2]}})})},Data.prototype.getFeatures=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.features\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInitParams=function(params){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.init\",params)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInitParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.init\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestCode=function(lastCode){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestCode\",lastCode)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.inbox.lastRequestCode\",\"\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestTime=function(lastRequestTime){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestTime\",lastRequestTime)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.lastRequestTime\",0)]})})},Data.prototype.setInboxNewMessagesCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.newMessagesCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxNewMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.newMessagesCount\",0)]})})},Data.prototype.setDelayedEvent=function(event){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DELAYED_EVENT\",event)];case 1:return _a.sent(),[4,this.store.set(\"params.delayedEvent\",event)];case 2:return _a.sent(),[2]}})})},Data.prototype.getDelayedEvent=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DELAYED_EVENT\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.delayedEvent\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setInApps=function(inApps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inApps\",inApps)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inApps\")]})})},Data.prototype.setPromptDisplayCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptDisplayCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptDisplayCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptDisplayCount\",0)]})})},Data.prototype.setPromptLastSeenTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptLastSeenTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptLastSeenTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptLastSeenTime\",0)]})})},Data}();exports.Data=Data},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule=function(){function DateModule(date){void 0===date&&(date=new Date),this._date=date}return Object.defineProperty(DateModule.prototype,\"date\",{get:function(){return this._date},set:function(date){this._date=date},enumerable:!0,configurable:!0}),DateModule.prototype.getUtcTimestamp=function(){return Math.floor((this.date.getTime()+60*this.date.getTimezoneOffset()*1e3)/1e3)},DateModule.prototype.getTimestamp=function(){return Math.round(this.date.getTime()/1e3)},DateModule.prototype.setLocal=function(){var newDateTimestamp=this._date.getTime()-60*this.date.getTimezoneOffset()*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.addDays=function(days){var newDateTimestamp=this._date.getTime()+24*days*60*60*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.getInboxFakeOrder=function(){return(100*this._date.getTime()+9e9).toString()},DateModule}();exports.default=DateModule},function(module,exports,__nested_webpack_require_47437__){\"use strict\";(function(Buffer){if(exports.base64=!0,exports.array=!0,exports.string=!0,exports.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,exports.nodebuffer=void 0!==Buffer,exports.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)exports.blob=!1;else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:\"application/zip\"}).size}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);builder.append(buffer),exports.blob=0===builder.getBlob(\"application/zip\").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!__nested_webpack_require_47437__(52).Readable}catch(e){exports.nodestream=!1}}).call(this,__nested_webpack_require_47437__(23).Buffer)},function(module,exports,__webpack_require__){\"use strict\";var TYPED_OK=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if(\"object\"!=typeof source)throw new TypeError(source+\"must be non-object\");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.STORE_NAME_KEY_VALUE=\"keyValue\",exports.STORE_NAME_MESSAGE_LOG=\"messages\",exports.STORE_NAME_MAIN_LOG=\"log\",exports.STORE_NAME_INBOX_MESSAGES=\"inboxMessages\",exports.KEY_PATH_BASE_INCREMENT=\"id\"},function(module,exports,__nested_webpack_require_50133__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_50133__(3),constants_1=__nested_webpack_require_50133__(1),PlatformChecker_1=__nested_webpack_require_50133__(21);function getGlobal(){return Function(\"return this\")()}function createUUID(pushToken){for(var s=\"\",i=0;i<32;i++){var l=pushToken.length-i-1,charCode=0;l>=0&&(charCode=pushToken.charCodeAt(l)),s+=\"0123456789abcdef\".substr(charCode%\"0123456789abcdef\".length,1)}return s}function getFakePushToken(){return localStorage.getItem(constants_1.KEY_FAKE_PUSH_TOKEN)}function generateFakePushToken(){var token=function(len){len=len||32;for(var text=\"\",possible=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",i=0;i<len;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text}();return localStorage.setItem(constants_1.KEY_FAKE_PUSH_TOKEN,token),token}function getSubsKey(pushSubscription,key){var rawKey=pushSubscription&&pushSubscription.getKey&&pushSubscription.getKey(key);return rawKey?btoa(String.fromCharCode.apply(String,new Uint8Array(rawKey))):\"\"}exports.getGlobal=getGlobal,exports.getVersion=function(){return\"3.24.0\"},exports.parseSerializedNotificationParams=function(param,defaultValue){if(\"string\"==typeof param)try{return JSON.parse(param)}catch(e){console.log(e)}return void 0===param&&void 0!==defaultValue?defaultValue:param},exports.urlB64ToUint8Array=function(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/-/g,\"+\").replace(/_/g,\"/\"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray},exports.createUUID=createUUID,exports.generateHwid=function(applicationCode,pushToken){return applicationCode+\"_\"+createUUID(pushToken=getFakePushToken()||pushToken||generateFakePushToken())},exports.getFakePushToken=getFakePushToken,exports.generateFakePushToken=generateFakePushToken,exports.getPushToken=function(pushSubscription){return pushSubscription?pushSubscription.subscriptionId?pushSubscription.subscriptionId:12===PlatformChecker_1.default.platform?pushSubscription.endpoint:pushSubscription.endpoint.split(\"/\").pop()||\"\":\"\"},exports.getFcmKey=function(pushSubscription,key){return pushSubscription?new Promise(function(resolve){storage_1.keyValue.get(constants_1.KEY_FCM_SUBSCRIPTION).then(function(fcmSubscription){resolve(fcmSubscription&&fcmSubscription[key]||\"\")}).catch(function(){resolve(\"\")})}):Promise.resolve(\"\")},exports.getAuthToken=function(pushSubscription){return getSubsKey(pushSubscription,\"auth\")},exports.getPublicKey=function(pushSubscription){return getSubsKey(pushSubscription,\"p256dh\")},exports.getPushwooshUrl=function(applicationCode){var url=applicationCode&&!~applicationCode.indexOf(\".\")?\"https://\"+applicationCode+\".api.pushwoosh.com/json/1.3/\":\"https://cp.pushwoosh.com/json/1.3/\";return storage_1.keyValue.get(constants_1.KEY_API_BASE_URL).then(function(base_url){return void 0===base_url&&(base_url=null),base_url||url}).catch(function(){return url})},exports.patchConsole=function(){for(var method,noop=function(){},methods=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"],len=methods.length,global=getGlobal(),console=global.console=global.console||{};len--;)console[method=methods[len]]||(console[method]=noop)},exports.clearLocationHash=function(){\"history\"in getGlobal()&&history.pushState?history.pushState(null,\"\",\"#\"):location.hash=\"#\"},exports.validateParams=function(params){var result=__rest(params,[]);return result.userId&&\"user_id\"===result.userId&&delete result.userId,result},exports.sendInternalPostEvent=function(params){storage_1.keyValue.get(constants_1.KEY_INTERNAL_EVENTS).then(function(events){var _a;void 0===events&&(events={}),0===Object.keys(events).length&&storage_1.keyValue.set(constants_1.KEY_INTERNAL_EVENTS,{});var currentDate=(new Date).setHours(0,0,0,0),dateFromStore=events[params.event];if(!dateFromStore||currentDate>dateFromStore){storage_1.keyValue.extend(constants_1.KEY_INTERNAL_EVENTS,((_a={})[params.event]=currentDate,_a));var xhr=new XMLHttpRequest,request=__assign({application:\"DD275-06947\"},params);xhr.open(\"POST\",\"https://cp.pushwoosh.com/json/1.3/postEvent\",!0),xhr.setRequestHeader(\"Content-Type\",\"text/plain;charset=UTF-8\"),xhr.send(JSON.stringify({request:request}))}})},exports.generateUUID=function(){var d=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(d+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),(\"x\"===c?r:3&r|8).toString(16)})}},function(module,exports){var g;g=function(){return this}();try{g=g||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(g=window)}module.exports=g},function(module,exports,__nested_webpack_require_55770__){\"use strict\";var pna=__nested_webpack_require_55770__(29),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=Object.create(__nested_webpack_require_55770__(25));util.inherits=__nested_webpack_require_55770__(15);var Readable=__nested_webpack_require_55770__(53),Writable=__nested_webpack_require_55770__(43);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},function(module,exports,__nested_webpack_require_57387__){var v1=__nested_webpack_require_57387__(32),v4=__nested_webpack_require_57387__(33),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__nested_webpack_require_57541__){\"use strict\";for(var utils=__nested_webpack_require_57541__(0),support=__nested_webpack_require_57541__(7),nodejsUtils=__nested_webpack_require_57541__(31),GenericWorker=__nested_webpack_require_57541__(2),_utf8len=new Array(256),i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;function Utf8DecodeWorker(){GenericWorker.call(this,\"utf-8 decode\"),this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,\"utf-8 encode\")}exports.utf8encode=function(str){return support.nodebuffer?nodejsUtils.newBufferFrom(str,\"utf-8\"):function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=support.uint8array?new Uint8Array(buf_len):new Array(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf}(str)},exports.utf8decode=function(buf){return support.nodebuffer?utils.transformTo(\"nodebuffer\",buf).toString(\"utf-8\"):function(buf){var i,out,c,c_len,len=buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return utf16buf.length!==out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out),utils.applyFromCharCode(utf16buf)}(buf=utils.transformTo(support.uint8array?\"uint8array\":\"array\",buf))},utils.inherits(Utf8DecodeWorker,GenericWorker),Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?\"uint8array\":\"array\",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;(data=new Uint8Array(previousData.length+this.leftOver.length)).set(this.leftOver,0),data.set(previousData,this.leftOver.length)}else data=this.leftOver.concat(data);this.leftOver=null}var nextBoundary=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}(data),usableData=data;nextBoundary!==data.length&&(support.uint8array?(usableData=data.subarray(0,nextBoundary),this.leftOver=data.subarray(nextBoundary,data.length)):(usableData=data.slice(0,nextBoundary),this.leftOver=data.slice(nextBoundary,data.length))),this.push({data:exports.utf8decode(usableData),meta:chunk.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},exports.Utf8DecodeWorker=Utf8DecodeWorker,utils.inherits(Utf8EncodeWorker,GenericWorker),Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})},exports.Utf8EncodeWorker=Utf8EncodeWorker},function(module,exports){\"function\"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports){var getRandomValues=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join(\"\")}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=7},function(module,exports,__nested_webpack_require_62560__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Migrations_1=__nested_webpack_require_62560__(37),MigrationExecutor=function(){function MigrationExecutor(db,migrationsBuilder){void 0===migrationsBuilder&&(migrationsBuilder=new Migrations_1.default),this.db=db,this.migrationsBuilder=migrationsBuilder}return MigrationExecutor.prototype.applyMigrations=function(){var _this=this;this.applyMigrationsPack(this.migrationsBuilder.initial),this.migrationsBuilder.dateSorted.forEach(function(migrationsPack){_this.applyMigrationsPack(migrationsPack)})},MigrationExecutor.prototype.applyMigrationsPack=function(migrationsPack){var _this=this;migrationsPack.forEach(function(migration){migration(_this.db)})},MigrationExecutor}();exports.default=MigrationExecutor},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.storeCreatorDecorator=function(name,storeCreator){return function(database){database.objectStoreNames.contains(name)||storeCreator(database)}}},function(module,exports,__nested_webpack_require_63638__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker_1=__nested_webpack_require_63638__(22),PlatformChecker_2=__nested_webpack_require_63638__(22);exports.PlatformChecker=PlatformChecker_2.PlatformChecker,exports.default=PlatformChecker_1.platformChecker},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker=function(){function PlatformChecker(global){void 0===global&&(global=window),this.global=global,this._isSafari=this.isSafariBrowser(),this._isOpera=this.isOperaBrowser(),this._isEdge=this.isEdgeBrowser(),this._isFirefox=this.isFirefoxBrowser(),this._isChrome=this.isChromeBrowser(),this._isMacOS=this.isMacOS(),this._isAvailablePromise=this.canUsePromise(),this._isAvailableServiceWorker=this.canUseServiceWorkers(),this._isAvailableNotifications=this.canReceiveNotifications(),this._platform=this.getPlatformType(),this._browserVersion=this.getBrowserVersion()}return Object.defineProperty(PlatformChecker.prototype,\"isEdge\",{get:function(){return this._isEdge},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isSafari\",{get:function(){return this._isSafari},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isOpera\",{get:function(){return this._isOpera},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailablePromise\",{get:function(){return this._isAvailablePromise},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableServiceWorker\",{get:function(){return this._isAvailableServiceWorker},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableNotifications\",{get:function(){return this._isAvailableNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"platform\",{get:function(){return this._platform},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"browserVersion\",{get:function(){return this._browserVersion},enumerable:!0,configurable:!0}),PlatformChecker.prototype.isSafariBrowser=function(){return\"safari\"in this.global&&navigator.userAgent.indexOf(\"Safari\")>-1},PlatformChecker.prototype.isOperaBrowser=function(){return-1!==navigator.userAgent.indexOf(\"Opera\")||-1!==navigator.userAgent.indexOf(\"OPR\")},PlatformChecker.prototype.isEdgeBrowser=function(){return navigator.userAgent.indexOf(\"Edge\")>-1},PlatformChecker.prototype.isFirefoxBrowser=function(){return-1!==navigator.userAgent.toLowerCase().indexOf(\"firefox\")},PlatformChecker.prototype.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&!this._isOpera&&!this._isEdge},PlatformChecker.prototype.isMacOS=function(){return\"platform\"in navigator&&-1!==navigator.platform.toLowerCase().indexOf(\"mac\")},PlatformChecker.prototype.canUseServiceWorkers=function(){return!!navigator.serviceWorker&&\"PushManager\"in this.global&&\"Notification\"in this.global},PlatformChecker.prototype.canUsePromise=function(){return\"Promise\"in this.global},PlatformChecker.prototype.canReceiveNotifications=function(){return this._isSafari&&this._isMacOS||this._isAvailableServiceWorker&&!this._isEdge},PlatformChecker.prototype.getPlatformType=function(){var platform=11;switch(!0){case this._isSafari:platform=10;break;case this._isOpera||this._isChrome:platform=11;break;case this._isFirefox:platform=12;break;case this._isEdge:platform=150}return platform},PlatformChecker.prototype.getBrowserVersion=function(){var userAgent=navigator.userAgent,matchOperaVersion=userAgent.match(/\\bOPR\\/(\\d+)/);if(null!==matchOperaVersion)return\"Opera \"+matchOperaVersion[1];var matchEdgeVersion=userAgent.match(/\\bEdge\\/(\\d+)/);if(null!==matchEdgeVersion)return\"Edge \"+matchEdgeVersion[1];var matchEdgVersion=userAgent.match(/\\bEdg\\/(\\d+)/);if(null!==matchEdgVersion)return\"Edge \"+matchEdgVersion[1];var match=userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[],_a=(match[0],match[1]),browser=void 0===_a?\"\":_a;if(/trident/i.test(userAgent)){var matchIeVersion=/trident\\/([.\\d]+)/gi.exec(userAgent)||[];return\"IE \"+((\"7.0\"===matchIeVersion[1]?\"11\":matchIeVersion[1])||\"\")}match=match[2]?[browser,match[2]]:[navigator.appName,navigator.appVersion,\"-?\"];var version=userAgent.match(/version\\/([.\\d]+)/i);return null!==version&&match.splice(1,1,version[1]),match.join(\" \")},PlatformChecker}();exports.PlatformChecker=PlatformChecker,exports.platformChecker=new PlatformChecker(Function(\"return this\")())},function(module,exports,__nested_webpack_require_68255__){\"use strict\";(function(global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar base64=__nested_webpack_require_68255__(87),ieee754=__nested_webpack_require_68255__(88),isArray=__nested_webpack_require_68255__(51);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError(\"Invalid typed array length\");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(\"number\"==typeof arg){if(\"string\"==typeof encodingOrOffset)throw new Error(\"If encoding is specified then the first argument must be a string\");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if(\"number\"==typeof value)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError(\"'offset' is out of bounds\");if(array.byteLength<byteOffset+(length||0))throw new RangeError(\"'length' is out of bounds\");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):\"string\"==typeof value?function(that,string,encoding){\"string\"==typeof encoding&&\"\"!==encoding||(encoding=\"utf8\");if(!Buffer.isEncoding(encoding))throw new TypeError('\"encoding\" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if(\"undefined\"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||\"length\"in obj)return\"number\"!=typeof obj.length||function(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if(\"Buffer\"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(that,value)}function assertSize(size){if(\"number\"!=typeof size)throw new TypeError('\"size\" argument must be a number');if(size<0)throw new RangeError('\"size\" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+kMaxLength().toString(16)+\" bytes\");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;\"string\"!=typeof string&&(string=\"\"+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case\"ascii\":case\"latin1\":case\"binary\":return len;case\"utf8\":case\"utf-8\":case void 0:return utf8ToBytes(string).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*len;case\"hex\":return len>>>1;case\"base64\":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if(\"string\"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if(\"string\"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if(\"number\"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(\"ucs2\"===(encoding=String(encoding).toLowerCase())||\"ucs-2\"===encoding||\"utf16le\"===encoding||\"utf-16le\"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError(\"Invalid hex string\");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res=\"\",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&\"function\"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?\"string\"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\"Arguments must be Buffers\");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('\"list\" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?\"\":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return\"\";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return\"\";if((end>>>=0)<=(start>>>=0))return\"\";for(encoding||(encoding=\"utf8\");;)switch(encoding){case\"hex\":return hexSlice(this,start,end);case\"utf8\":case\"utf-8\":return utf8Slice(this,start,end);case\"ascii\":return asciiSlice(this,start,end);case\"latin1\":case\"binary\":return latin1Slice(this,start,end);case\"base64\":return base64Slice(this,start,end);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(encoding+\"\").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError(\"Argument must be a Buffer\");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str=\"\",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString(\"hex\",0,max).match(/.{2}/g).join(\" \"),this.length>max&&(str+=\" ... \")),\"<Buffer \"+str+\">\"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError(\"Argument must be a Buffer\");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError(\"out of range index\");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding=\"utf8\",length=this.length,offset=0;else if(void 0===length&&\"string\"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding=\"utf8\")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");encoding||(encoding=\"utf8\");for(var loweredCase=!1;;)switch(encoding){case\"hex\":return hexWrite(this,string,offset,length);case\"utf8\":case\"utf-8\":return utf8Write(this,string,offset,length);case\"ascii\":return asciiWrite(this,string,offset,length);case\"latin1\":case\"binary\":return latin1Write(this,string,offset,length);case\"base64\":return base64Write(this,string,offset,length);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out=\"\",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res=\"\",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError(\"offset is not uint\");if(offset+ext>length)throw new RangeError(\"Trying to access beyond buffer length\")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('\"value\" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError(\"Index out of range\")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError(\"Index out of range\");if(offset<0)throw new RangeError(\"Index out of range\")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError(\"targetStart out of bounds\");if(start<0||start>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(end<0)throw new RangeError(\"sourceEnd out of bounds\");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if(\"string\"==typeof val){if(\"string\"==typeof start?(encoding=start,start=0,end=this.length):\"string\"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&\"string\"!=typeof encoding)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError(\"Unknown encoding: \"+encoding)}else\"number\"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError(\"Out of range index\");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),\"number\"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\\/0-9A-Za-z-_]/g;function toHex(n){return n<16?\"0\"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error(\"Invalid code point\");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\\s+|\\s+$/g,\"\")}(str).replace(INVALID_BASE64_RE,\"\")).length<2)return\"\";for(;str.length%4!=0;)str+=\"=\";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__nested_webpack_require_68255__(11))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0}},function(module,exports,__nested_webpack_require_100866__){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):\"[object Array]\"===objectToString(arg)},exports.isBoolean=function(arg){return\"boolean\"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return\"number\"==typeof arg},exports.isString=function(arg){return\"string\"==typeof arg},exports.isSymbol=function(arg){return\"symbol\"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return\"[object RegExp]\"===objectToString(re)},exports.isObject=function(arg){return\"object\"==typeof arg&&null!==arg},exports.isDate=function(d){return\"[object Date]\"===objectToString(d)},exports.isError=function(e){return\"[object Error]\"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return\"function\"==typeof arg},exports.isPrimitive=function(arg){return null===arg||\"boolean\"==typeof arg||\"number\"==typeof arg||\"string\"==typeof arg||\"symbol\"==typeof arg||void 0===arg},exports.isBuffer=__nested_webpack_require_100866__(23).Buffer.isBuffer},function(module,exports,__nested_webpack_require_102074__){\"use strict\";var ES6Promise=null;ES6Promise=\"undefined\"!=typeof Promise?Promise:__nested_webpack_require_102074__(101),module.exports={Promise:ES6Promise}},function(module,exports,__nested_webpack_require_102261__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule_1=__nested_webpack_require_102261__(6),InboxMessages=function(){function InboxMessages(data,api,inboxModel,dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.data=data,this.api=api,this.inboxModel=inboxModel,this.dateModule=dateModule,this.publicMessageBuilder=this.publicMessageBuilder.bind(this)}return InboxMessages.prototype.messageTypeFactory=function(actionParams){var messageType=0;return\"h\"in actionParams||\"rm\"in actionParams||\"r\"in actionParams?messageType=1:\"l\"in actionParams&&null!=actionParams.l&&(messageType=actionParams.l.startsWith(\"http\")?2:3),messageType},InboxMessages.prototype.updateMessagesStatusWithCodes=function(codes,messages,status){return __awaiter(this,void 0,void 0,function(){var updatedMessages,inboxStatusQueries,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return updatedMessages=[],inboxStatusQueries=[],messages.forEach(function(msg){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return-1===codes.indexOf(msg.inbox_id)?[2]:(msg.status=status,updatedMessages.push(msg),inboxStatusQueries.push(this.api.inboxStatus(msg.order,msg.status)),[2])})})}),[4,this.inboxModel.putBulkMessages(updatedMessages)];case 1:return _a.sent(),[4,Promise.all(inboxStatusQueries)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.publicMessageBuilder=function(message){return __awaiter(this,void 0,void 0,function(){var imageUrl,_a,title,_b;return __generator(this,function(_c){switch(_c.label){case 0:return(_a=message.image)?[3,2]:[4,this.data.getDefaultNotificationImage()];case 1:_a=_c.sent(),_c.label=2;case 2:return imageUrl=_a,(_b=message.title)?[3,4]:[4,this.data.getDefaultNotificationTitle()];case 3:_b=_c.sent(),_c.label=4;case 4:return title=_b,this.dateModule.date=new Date(1e3*parseInt(message.send_date)),this.dateModule.setLocal(),[2,{title:title,imageUrl:imageUrl,code:message.inbox_id,message:message.text,sendDate:this.dateModule.date.toISOString(),type:this.messageTypeFactory(JSON.parse(message.action_params)),isRead:2===message.status||3===message.status,isActionPerformed:3===message.status}]}})})},InboxMessages.prototype.messagesWithNoActionPerformedCount=function(){return this.inboxModel.getDeliveredReadMessagesCount()},InboxMessages.prototype.unreadMessagesCount=function(){return this.inboxModel.getDeliveredMessagesCount()},InboxMessages.prototype.messagesCount=function(){return this.inboxModel.messagesCount()},InboxMessages.prototype.loadMessages=function(){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,buildMessagePromises;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),buildMessagePromises=__spreadArrays(readMessages,unreadMessages).sort(function(msgA,msgB){return parseInt(msgB.send_date,10)-parseInt(msgA.send_date,10)}).sort(function(msgA,msgB){return parseInt(msgB.order||\"0\",10)-parseInt(msgA.order||\"0\",10)}).map(this.publicMessageBuilder),[2,Promise.all(buildMessagePromises)]}})})},InboxMessages.prototype.readMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var unreadMessages,statusRead;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getDeliveredMessages()];case 1:return unreadMessages=_a.sent(),statusRead=2,[4,this.updateMessagesStatusWithCodes(codes,unreadMessages,statusRead)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.performActionForMessageWithCode=function(code){return __awaiter(this,void 0,void 0,function(){var message,actionParams,messageType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getMessage(code)];case 1:return message=_a.sent(),actionParams=JSON.parse(message.action_params),2===(messageType=this.messageTypeFactory(actionParams))&&null!=actionParams.l?document.location.href=actionParams.l:3===messageType&&null!=actionParams.l&&window.history.go(actionParams.l),message.status=3,[4,this.inboxModel.putMessage(message)];case 2:return _a.sent(),[4,this.api.inboxStatus(message.order,message.status)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.deleteMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,statusDeleted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),statusDeleted=4,[4,this.updateMessagesStatusWithCodes(codes,__spreadArrays(readMessages,unreadMessages),statusDeleted)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.syncMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.updateMessages()];case 1:return _a.sent(),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_109380__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_109380__(5),logger_1=__nested_webpack_require_109380__(4),ApiClient=function(){function ApiClient(data,logger){void 0===data&&(data=new Data_1.Data),void 0===logger&&(logger=logger_1.Logger),this.data=data,this.logger=logger}return ApiClient.prototype.checkDevice=function(options){return this.createRequest(\"checkDevice\",options)},ApiClient.prototype.getConfig=function(options){return this.createRequest(\"getConfig\",options)},ApiClient.prototype.applicationOpen=function(options){return this.createRequest(\"applicationOpen\",options)},ApiClient.prototype.registerDevice=function(options){return this.createRequest(\"registerDevice\",options)},ApiClient.prototype.unregisterDevice=function(options){return this.createRequest(\"unregisterDevice\",options)},ApiClient.prototype.deleteDevice=function(options){return this.createRequest(\"deleteDevice\",options)},ApiClient.prototype.messageDeliveryEvent=function(options){return this.createRequest(\"messageDeliveryEvent\",options)},ApiClient.prototype.pushStat=function(options){return this.createRequest(\"pushStat\",options)},ApiClient.prototype.setTags=function(options){return this.createRequest(\"setTags\",options)},ApiClient.prototype.getTags=function(options){return this.createRequest(\"getTags\",options)},ApiClient.prototype.registerUser=function(options){return this.createRequest(\"registerUser\",options)},ApiClient.prototype.postEvent=function(options){return this.createRequest(\"postEvent\",options)},ApiClient.prototype.getInboxMessages=function(options){return this.createRequest(\"getInboxMessages\",options)},ApiClient.prototype.inboxStatus=function(options){return this.createRequest(\"inboxStatus\",options)},ApiClient.prototype.pageVisit=function(options,url){return this.createRequest(\"pageVisit\",options,url)},ApiClient.prototype.getInApps=function(options){return this.createRequest(\"getInApps\",options)},ApiClient.prototype.setPurchase=function(options){return this.createRequest(\"setPurchase\",options)},ApiClient.prototype.createRequest=function(methodName,request,customUrl){return __awaiter(this,void 0,void 0,function(){var entrypoint,response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),[4,fetch(customUrl||entrypoint+methodName,{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({request:request})})];case 2:return response=_a.sent(),[4,this.checkResponse(response)];case 3:return(result=_a.sent()).base_url?[4,this.data.setApiEntrypoint(result.base_url)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[4,this.logger.write(\"apirequest\",methodName+\" call with arguments: \"+JSON.stringify(request)+\" to Pushwoosh has been successful. Result: \"+JSON.stringify(result.response))];case 6:return _a.sent(),[2,result.response]}})})},ApiClient.prototype.checkResponse=function(response){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:if(200!==response.status)throw new Error(\"Error code: \"+response.status+\". Error text: \"+response.statusText);return[4,response.json()];case 1:if(200!==(data=_a.sent()).status_code)throw new Error(\"Error code: \"+data.status_code+\". Error text: \"+data.status_message);return[2,data]}})})},ApiClient}();exports.ApiClient=ApiClient},function(module,exports,__nested_webpack_require_114514__){\"use strict\";(function(process){void 0===process||!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if(\"function\"!=typeof fn)throw new TypeError('\"callback\" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process}).call(this,__nested_webpack_require_114514__(24))},function(module,exports,__nested_webpack_require_115363__){var buffer=__nested_webpack_require_115363__(23),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if(\"number\"==typeof arg)throw new TypeError(\"Argument must not be a number\");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");var buf=Buffer(size);return void 0!==fill?\"string\"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(size)}},function(module,exports,__nested_webpack_require_116497__){\"use strict\";(function(Buffer){module.exports={isNode:void 0!==Buffer,newBufferFrom:function(data,encoding){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(data,encoding);if(\"number\"==typeof data)throw new Error('The \"data\" argument must not be a number');return new Buffer(data,encoding)},allocBuffer:function(size){if(Buffer.alloc)return Buffer.alloc(size);var buf=new Buffer(size);return buf.fill(0),buf},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&\"function\"==typeof obj.on&&\"function\"==typeof obj.pause&&\"function\"==typeof obj.resume}}}).call(this,__nested_webpack_require_116497__(23).Buffer)},function(module,exports,__nested_webpack_require_117184__){var _nodeId,_clockseq,rng=__nested_webpack_require_117184__(16),bytesToUuid=__nested_webpack_require_117184__(17),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__nested_webpack_require_118531__){var rng=__nested_webpack_require_118531__(16),bytesToUuid=__nested_webpack_require_118531__(17);module.exports=function(options,buf,offset){var i=buf&&offset||0;\"string\"==typeof options&&(buf=\"binary\"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__nested_webpack_require_118979__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var EventBus_1=__nested_webpack_require_118979__(35);exports.EventBus=EventBus_1.EventBus},function(module,exports,__nested_webpack_require_119169__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_119169__(13),EventBus=function(){return function(){var _this=this;this.addEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers||(savedEventHandlers=[]),savedEventHandlers.push(handler),_this.savedEventHandlersMap[name]=savedEventHandlers},this.removeEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers&&(_this.savedEventHandlersMap[name]=savedEventHandlers.filter(function(savedEventHandler){return savedEventHandler!==handler}))},this.dispatchEvent=function(name,payload){var eventId=payload.eventId||uuid_1.v4(),savedEventHandlers=_this.savedEventHandlersMap[name];return savedEventHandlers?(savedEventHandlers.forEach(function(element){\"function\"==typeof element&&setTimeout(function(){element(__assign(__assign({},payload),{eventId:eventId}))},0)}),eventId):eventId},this.savedEventHandlersMap={}}}();exports.EventBus=EventBus},function(module,exports,__nested_webpack_require_120501__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_120501__(5),ApiClient_1=__nested_webpack_require_120501__(28),CONSTANTS=__nested_webpack_require_120501__(1),Api=function(){function Api(eventBus,data,apiClient){void 0===data&&(data=new Data_1.Data),void 0===apiClient&&(apiClient=new ApiClient_1.ApiClient),this.eventBus=eventBus,this.data=data,this.apiClient=apiClient}return Api.prototype.checkDevice=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.checkDevice(params)];case 2:return[2,_a.sent()]}})})},Api.prototype.checkDeviceSubscribeForPushNotifications=function(useCache){return void 0===useCache&&(useCache=!0),__awaiter(this,void 0,void 0,function(){var status,_a,exist,push_token_exist;return __generator(this,function(_b){switch(_b.label){case 0:return void 0!==(status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS))&&useCache?[3,2]:[4,this.checkDevice()];case 1:_a=_b.sent(),exist=_a.exist,push_token_exist=_a.push_token_exist,localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,exist&&push_token_exist?CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED:CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS),_b.label=2;case 2:return[2,status===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED]}})})},Api.prototype.getConfig=function(features){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getConfig(__assign(__assign({},params),{features:features}))]}})})},Api.prototype.applicationOpen=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.setLastOpenApplicationTime(Date.now())];case 2:return _a.sent(),[2,this.apiClient.applicationOpen(params)]}})})},Api.prototype.registerDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,tokens,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:if(_a.sent())throw new Error(\"Can't register device: Communication is disabled!\");return[4,this.getRequestParams()];case 2:return params=_a.sent(),[4,this.data.getTokens()];case 3:if(!(tokens=_a.sent()).pushToken)throw new Error(\"Can't register device: pushToken is not exist!\");return[4,this.apiClient.registerDevice(__assign(__assign({},params),{push_token:tokens.pushToken,auth_token:tokens.authToken,public_key:tokens.publicKey,fcm_push_set:tokens.fcmPushSet,fcm_token:tokens.fcmToken}))];case 4:return response=_a.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 5:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED),this.eventBus.dispatchEvent(\"register\",{}),[2,response]}})})},Api.prototype.unregisterDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.unregisterDevice(params),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.deleteDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.deleteDevice(params),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.messageDeliveryEvent=function(hash,isTrackingLogOnFailure,metaData){return void 0===metaData&&(metaData={}),__awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return Math.round(+new Date),[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.messageDeliveryEvent(__assign(__assign({},params),{hash:hash,metaData:metaData}))];case 2:return[2,_a.sent()]}})})},Api.prototype.pushStat=function(hash,isTrackingLogOnFailure,metaData){return void 0===metaData&&(metaData={}),__awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return Math.round(+new Date),[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.pushStat(__assign(__assign({},params),{hash:hash,metaData:metaData}))];case 2:return[2,_a.sent()]}})})},Api.prototype.setTags=function(tags){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setTags(__assign(__assign({},params),{tags:tags}))]}})})},Api.prototype.getTags=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getTags(params)]}})})},Api.prototype.registerUser=function(userId){return __awaiter(this,void 0,void 0,function(){var params,deviceType,id,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getDeviceType()];case 2:return deviceType=_a.sent(),id=\"\"+userId,[4,this.apiClient.registerUser(__assign(__assign({},params),{userId:id,ts_offset:60*-(new Date).getTimezoneOffset(),device_type:deviceType}))];case 3:return response=_a.sent(),[4,this.data.setUserId(\"\"+userId)];case 4:return _a.sent(),[4,this.data.setStatusUserIdWasChanged(!0)];case 5:return _a.sent(),[2,response]}})})},Api.prototype.postEvent=function(event,attributes){return __awaiter(this,void 0,void 0,function(){var params,date,time,timestampUTC,timestampCurrent,lastOpenMessage,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.data.getLastOpenMessage()];case 2:if((lastOpenMessage=_a.sent())&&lastOpenMessage.expiry>Date.now()){if(attributes.msgHash)return[2,Promise.reject(\"attribute msgHash already defined\")];attributes=__assign(__assign({},attributes),{msgHash:lastOpenMessage.messageHash})}return[4,this.data.setLastOpenMessage(void 0)];case 3:return _a.sent(),[4,this.apiClient.postEvent(__assign(__assign({},params),{event:event,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,attributes:attributes}))];case 4:return(response=_a.sent())&&response.code&&this.eventBus.dispatchEvent(\"receive-in-app-code\",{code:response.code}),[2,response]}})})},Api.prototype.getInboxMessages=function(count){return void 0===count&&(count=0),__awaiter(this,void 0,void 0,function(){var params,lastCode,lastRequestTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getInboxLastRequestCode()];case 2:return lastCode=_a.sent(),[4,this.data.getInboxLastRequestTime()];case 3:return lastRequestTime=_a.sent(),[2,this.apiClient.getInboxMessages(__assign(__assign({},params),{count:count,last_code:lastCode,last_request_time:lastRequestTime}))]}})})},Api.prototype.inboxStatus=function(order,status){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.inboxStatus(__assign(__assign({},params),{inbox_code:order,status:status,time:(new Date).getTime()}))]}})})},Api.prototype.triggerEvent=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){throw new Error(\"Method has been deprecated, because we don't aggregate this statistics.\")})})},Api.prototype.pageVisit=function(config){return __awaiter(this,void 0,void 0,function(){var params,features,url;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getFeatures()];case 2:return features=_a.sent(),(url=features&&features.page_visit&&features.page_visit.entrypoint)?[2,this.apiClient.pageVisit(__assign(__assign({},params),config),url)]:[2]}})})},Api.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getInApps(params)]}})})},Api.prototype.setPurchase=function(attributes){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setPurchase(__assign(__assign({},params),attributes))]}})})},Api.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,apiParams,initParams;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getTokens()];case 3:return apiParams=_a.sent(),[4,this.data.getInitParams()];case 4:return initParams=_a.sent(),[2,__assign(__assign({applicationCode:applicationCode,hwid:hwid},apiParams),initParams)]}})})},Object.defineProperty(Api.prototype,\"params\",{get:function(){throw new Error('Property \"Pushwoosh.api.params\" have been deprecated. Use the async method \"Pushwoosh.api.getParams()\"')},enumerable:!0,configurable:!0}),Api.prototype.getRequestParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,userId,deviceType,deviceModel,language,version,timezone;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),[2,{application:applicationCode,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,timezone:timezone,language:language,v:version}]}})})},Api}();exports.Api=Api},function(module,exports,__nested_webpack_require_133624__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var initial_1=__nested_webpack_require_133624__(38),_26_11_2018_1=__nested_webpack_require_133624__(39),DateModule_1=__nested_webpack_require_133624__(6),Migrations=function(){function Migrations(dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.migrations={initial:initial_1.default,\"2018/11/26\":_26_11_2018_1.default},this.dateModule=dateModule}return Object.defineProperty(Migrations.prototype,\"initial\",{get:function(){return this.migrations.initial},enumerable:!0,configurable:!0}),Object.defineProperty(Migrations.prototype,\"dateSorted\",{get:function(){var _this=this;return Object.keys(this.migrations).filter(function(key){return\"initial\"!==key}).sort(function(a,b){var dateA=new DateModule_1.default(new Date(a)),dateB=new DateModule_1.default(new Date(b));return dateA.getTimestamp()-dateB.getTimestamp()}).map(function(key){return _this.migrations[key]})},enumerable:!0,configurable:!0}),Migrations}();exports.default=Migrations},function(module,exports,__nested_webpack_require_134662__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_134662__(20),constants_1=__nested_webpack_require_134662__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_KEY_VALUE,function(database){database.createObjectStore(constants_1.STORE_NAME_KEY_VALUE,{keyPath:\"key\"})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MAIN_LOG,function(database){var logStore=database.createObjectStore(constants_1.STORE_NAME_MAIN_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0});logStore.createIndex(\"environment\",\"environment\",{unique:!1}),logStore.createIndex(\"date\",\"date\",{unique:!1}),logStore.createIndex(\"type\",\"type\",{unique:!1})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MESSAGE_LOG,function(database){database.createObjectStore(constants_1.STORE_NAME_MESSAGE_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0}).createIndex(\"date\",\"date\",{unique:!1})})]},function(module,exports,__nested_webpack_require_135662__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_135662__(20),constants_1=__nested_webpack_require_135662__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_INBOX_MESSAGES,function(database){var store=database.createObjectStore(constants_1.STORE_NAME_INBOX_MESSAGES,{keyPath:\"inbox_id\",autoIncrement:!1});store.createIndex(\"status\",\"status\",{unique:!1,multiEntry:!0}),store.createIndex(\"rt\",\"rt\",{unique:!1,multiEntry:!0})})]},function(module,exports,__nested_webpack_require_136190__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_136190__(13),logger_1=__nested_webpack_require_136190__(4),CONSTANTS=__nested_webpack_require_136190__(1),PushServiceDefault=function(){function PushServiceDefault(api,data,config){this.api=api,this.data=data,this.config=config}return PushServiceDefault.prototype.getPermission=function(){return Notification.permission},PushServiceDefault.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceDefault.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceDefault.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getStatusManualUnsubscribed()]})})},PushServiceDefault.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,Notification.requestPermission()];case 1:return _a.sent(),[2]}})})},PushServiceDefault.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceDefault.prototype.subscribe=function(subscription){return __awaiter(this,void 0,void 0,function(){var currentSubscription,senderId_1,applicationServerKey,senderId,pushToken,_p256dn,_auth,p256dh,auth,_a,token,pushSet;return __generator(this,function(_b){switch(_b.label){case 0:return currentSubscription=subscription,this.checkIsPermissionGranted()?currentSubscription?[3,6]:[4,this.trySubscribe()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return currentSubscription=_b.sent(),[4,this.getSenderIdFromManifest()];case 2:return senderId_1=_b.sent(),[4,this.checkIsChangeSenderId(senderId_1)];case 3:return _b.sent()?[4,this.unsubscribe()]:[3,6];case 4:return _b.sent(),[4,this.data.setSenderId(senderId_1)];case 5:_b.sent(),_b.label=6;case 6:return[4,this.getApplicationServerKey()];case 7:return applicationServerKey=_b.sent(),[4,this.data.getSenderId()];case 8:return senderId=_b.sent(),[4,this.getPushToken(currentSubscription)];case 9:if(pushToken=_b.sent(),_p256dn=currentSubscription.getKey(\"p256dh\"),_auth=currentSubscription.getKey(\"auth\"),!_p256dn||!_auth)throw new Error(\"Can't get subscription keys!\");return p256dh=btoa(String.fromCharCode.apply(String,new Uint8Array(_p256dn))),auth=btoa(String.fromCharCode.apply(String,new Uint8Array(_auth))),[4,this.getFcmKeys({endpoint:currentSubscription.endpoint,application_pub_key:applicationServerKey,encryption_key:p256dh,encryption_auth:auth,authorized_entity:senderId})];case 10:return _a=_b.sent(),token=_a.token,pushSet=_a.pushSet,[4,this.data.setTokens({publicKey:p256dh,pushToken:pushToken,authToken:auth,fcmPushSet:pushSet,fcmToken:token,endpoint:currentSubscription.endpoint})];case 11:return _b.sent(),[4,this.api.registerDevice()];case 12:return _b.sent(),[2]}})})},PushServiceDefault.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return subscription=_a.sent(),[4,this.data.setTokens({})];case 3:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 4:return _a.sent(),[4,this.api.unregisterDevice()];case 5:return _a.sent(),subscription?[4,subscription.unsubscribe()]:[2];case 6:return _a.sent(),[2]}})})},PushServiceDefault.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceDefault.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedSenderId,isExistSavedSenderId,manifestSenderId,isChangeSenderID,lastPermission,permission,credentials,pushTokenFromSubscription,pushTokenFromStore,isEqualPushTokens;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return savedSenderId=_a.sent(),isExistSavedSenderId=void 0!==savedSenderId,[4,this.getSenderIdFromManifest()];case 2:return manifestSenderId=_a.sent(),isChangeSenderID=isExistSavedSenderId&&manifestSenderId!==savedSenderId,[4,this.data.setSenderId(manifestSenderId)];case 3:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 4:return lastPermission=_a.sent(),permission=this.getPermission(),isExistSavedSenderId&&lastPermission!==permission?[4,this.data.setLastPermissionStatus(permission)]:[3,6];case 5:return _a.sent(),[2,!0];case 6:return[4,this.getCredentials()];case 7:return credentials=_a.sent(),[4,this.getPushToken(credentials)];case 8:return pushTokenFromSubscription=_a.sent(),[4,this.data.getTokens()];case 9:return pushTokenFromStore=_a.sent(),isEqualPushTokens=pushTokenFromSubscription===(pushTokenFromStore&&pushTokenFromStore.pushToken),[2,isChangeSenderID||!isEqualPushTokens]}})})},PushServiceDefault.prototype.getServiceWorkerRegistration=function(){return __awaiter(this,void 0,void 0,function(){var url,_a;return __generator(this,function(_b){switch(_b.label){case 0:return this.registration?[3,5]:[4,this.registerServiceWorker()];case 1:return _b.sent(),[4,this.data.getServiceWorkerUrl()];case 2:return url=_b.sent(),_a=this,[4,navigator.serviceWorker.getRegistration(url)];case 3:return _a.registration=_b.sent(),[4,this.registration.update()];case 4:_b.sent(),_b.label=5;case 5:if(!this.registration)throw new Error(\"Internal Error: Can't register service worker!\");return[2,this.registration]}})})},PushServiceDefault.prototype.registerServiceWorker=function(){return __awaiter(this,void 0,void 0,function(){var url,scope,sdkVersion,serviceWorkerVersion,cleanCache;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getServiceWorkerUrl()];case 1:return url=_a.sent(),[4,this.data.getServiceWorkerScope()];case 2:return scope=_a.sent(),[4,this.data.getSdkVersion()];case 3:return sdkVersion=_a.sent(),[4,this.data.getServiceWorkerVersion()];case 4:return serviceWorkerVersion=_a.sent(),cleanCache=\"\",sdkVersion!==serviceWorkerVersion&&(cleanCache=\"?cache_clean=\"+uuid_1.v4()),[4,navigator.serviceWorker.register(\"\"+url+cleanCache,{scope:scope})];case 5:return _a.sent(),[2]}})})},PushServiceDefault.prototype.trySubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,4]),[4,this.subscribePushManager()];case 1:return[2,_a.sent()];case 2:return error_1=_a.sent(),console.error(error_1),[4,this.unsubscribe()];case 3:return _a.sent(),[2,this.subscribePushManager()];case 4:return[2]}})})},PushServiceDefault.prototype.subscribePushManager=function(){return __awaiter(this,void 0,void 0,function(){var registration,applicationServerKey;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return registration=_a.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_a.sent(),[2,registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:applicationServerKey?this.urlBase64ToUint8Array(applicationServerKey):null})]}})})},PushServiceDefault.prototype.getCredentials=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getFcmKeys=function(config){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(this.config.entrypoint||\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify(config)})];case 1:return 200!==(response=_a.sent()).status?[3,3]:[4,response.json()];case 2:return[2,_a.sent()];case 3:throw new Error(\"Internal error: Can't register device in fcm. Status: \"+response.status+\". Message: \"+response.statusText)}})})},PushServiceDefault.prototype.getPushToken=function(subscription){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),subscription?12===deviceType?[2,subscription.endpoint]:[2,subscription.endpoint.split(\"/\").pop()||\"\"]:[2,\"\"]}})})},PushServiceDefault.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return 11!==_a.sent()?[2]:[4,this.data.getApplicationServerKey()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getSenderIdFromManifest=function(){return __awaiter(this,void 0,void 0,function(){var manifest,url,response,data,match;return __generator(this,function(_a){switch(_a.label){case 0:if(!(manifest=document.querySelector('link[rel=\"manifest\"]')))throw new Error(\"Error: manifest.json not found!\");if(!(url=manifest.getAttribute(\"href\")))throw new Error(\"Error: manifest.json url not found!\");return[4,fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})];case 1:if(200!==(response=_a.sent()).status)throw new Error(\"Error: Can't load manifest.json! \"+response.statusText);return[4,response.text()];case 2:if(data=_a.sent(),!(match=data.match(/(\"|')?gcm_sender_id(\"|')?:\\s*(\"|')?(\\d+)(\"|')?/))||\"string\"!=typeof match[4])throw new Error(\"Error: Can't find gcm_sender_id in manifest.json!\");return[2,match[4]]}})})},PushServiceDefault.prototype.checkIsChangeSenderId=function(currentSenderId){return __awaiter(this,void 0,void 0,function(){var senderIdFromIndexedDB;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return senderIdFromIndexedDB=_a.sent(),[2,currentSenderId!==senderIdFromIndexedDB]}})})},PushServiceDefault.prototype.urlBase64ToUint8Array=function(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray},PushServiceDefault}();exports.PushServiceDefault=PushServiceDefault},function(module,exports,__webpack_require__){\"use strict\";var ReflectOwnKeys,R=\"object\"==typeof Reflect?Reflect:null,ReflectApply=R&&\"function\"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&\"function\"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){\"function\"==typeof emitter.removeListener&&emitter.removeListener(\"error\",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),\"error\"!==name&&function(emitter,handler,flags){\"function\"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,\"error\",handler,flags)}(emitter,errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if(\"function\"!=typeof listener)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit(\"newListener\",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if(\"function\"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error(\"Possible EventEmitter memory leak detected. \"+existing.length+\" \"+String(type)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");w.name=\"MaxListenersExceededWarning\",w.emitter=target,w.type=type,w.count=existing.length,function(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:\"function\"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if(\"function\"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if(\"function\"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if(\"function\"!=typeof emitter.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)})}}Object.defineProperty(EventEmitter,\"defaultMaxListeners\",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if(\"number\"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+arg+\".\");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(\"number\"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+n+\".\");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=\"error\"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error(\"Unhandled error.\"+(er?\" (\"+er.message+\")\":\"\"));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if(\"function\"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit(\"removeListener\",type,list.listener||listener));else if(\"function\"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit(\"removeListener\",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)\"removeListener\"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return\"function\"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},function(module,exports,__nested_webpack_require_157111__){(exports=module.exports=__nested_webpack_require_157111__(53)).Stream=exports,exports.Readable=exports,exports.Writable=__nested_webpack_require_157111__(43),exports.Duplex=__nested_webpack_require_157111__(12),exports.Transform=__nested_webpack_require_157111__(58),exports.PassThrough=__nested_webpack_require_157111__(95)},function(module,exports,__nested_webpack_require_157412__){\"use strict\";(function(process,setImmediate,global){var pna=__nested_webpack_require_157412__(29);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=Object.create(__nested_webpack_require_157412__(25));util.inherits=__nested_webpack_require_157412__(15);var internalUtil={deprecate:__nested_webpack_require_157412__(94)},Stream=__nested_webpack_require_157412__(54),Buffer=__nested_webpack_require_157412__(30).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__nested_webpack_require_157412__(55);function nop(){}function WritableState(options,stream){Duplex=Duplex||__nested_webpack_require_157412__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__nested_webpack_require_157412__(12),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&(\"function\"==typeof options.write&&(this._write=options.write),\"function\"==typeof options.writev&&(this._writev=options.writev),\"function\"==typeof options.destroy&&(this._destroy=options.destroy),\"function\"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit(\"drain\"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,\"\",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit(\"error\",err),state.prefinished=!0,stream.emit(\"prefinish\"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||(\"function\"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit(\"prefinish\")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit(\"finish\"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,\"buffer\",{get:internalUtil.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(_){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),\"function\"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding=\"buffer\":encoding||(encoding=state.defaultEncoding),\"function\"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error(\"write after end\");stream.emit(\"error\",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError(\"May not write null values to stream\"):\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\")),er&&(stream.emit(\"error\",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||\"string\"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding=\"buffer\",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if(\"string\"==typeof encoding&&(encoding=encoding.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((encoding+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error(\"_write() is not implemented\"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;\"function\"==typeof chunk?(cb=chunk,chunk=null,encoding=null):\"function\"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once(\"finish\",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,__nested_webpack_require_157412__(24),__nested_webpack_require_157412__(56).setImmediate,__nested_webpack_require_157412__(11))},function(module,exports,__nested_webpack_require_167416__){\"use strict\";var external=__nested_webpack_require_167416__(26),DataWorker=__nested_webpack_require_167416__(62),DataLengthProbe=__nested_webpack_require_167416__(63),Crc32Probe=__nested_webpack_require_167416__(64);DataLengthProbe=__nested_webpack_require_167416__(63);function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize,this.uncompressedSize=uncompressedSize,this.crc32=crc32,this.compression=compression,this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe(\"data_length\")),that=this;return worker.on(\"end\",function(){if(this.streamInfo.data_length!==that.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe(\"uncompressedSize\")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe(\"compressedSize\")).withStreamInfo(\"compression\",compression)},module.exports=CompressedObject},function(module,exports,__nested_webpack_require_168929__){\"use strict\";var utils=__nested_webpack_require_168929__(0);var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(input,crc){return void 0!==input&&input.length?\"string\"!==utils.getTypeOf(input)?function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}(0|crc,input,input.length,0):function(crc,str,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^str.charCodeAt(i))];return-1^crc}(0|crc,input,input.length,0):0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(module,exports,__nested_webpack_require_169843__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Storage_1=__nested_webpack_require_169843__(48),DateModule_1=__nested_webpack_require_169843__(6),InboxMessagesPublic_1=__nested_webpack_require_169843__(27),InboxMessages=function(){function InboxMessages(eventBus,data,api,storage,dateModule){void 0===storage&&(storage=new Storage_1.default),void 0===dateModule&&(dateModule=new DateModule_1.default),this.eventBus=eventBus,this.data=data,this.api=api,this.storage=storage,this.storeName=\"inboxMessages\",this.dateModule=dateModule}return InboxMessages.prototype.getInboxMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getInboxMessages()];case 1:return response=_a.sent(),[4,this.storeGetInboxMessagesRequestParams(response.next,response.new_inbox)];case 2:return _a.sent(),[2,response]}})})},InboxMessages.prototype.storeGetInboxMessagesRequestParams=function(next,newMessagesCount){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,[4,this.data.setInboxLastRequestTime(this.dateModule.getUtcTimestamp())];case 1:return _a.sent(),[4,this.data.setInboxLastRequestCode(next)];case 2:return _a.sent(),[4,this.data.setInboxNewMessagesCount(newMessagesCount)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.putServerMessages=function(messages){return __awaiter(this,void 0,void 0,function(){var putTransactions,_this=this;return __generator(this,function(_a){return putTransactions=messages.map(function(message){return __awaiter(_this,void 0,void 0,function(){var localMessage;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.get(this.storeName,message.inbox_id,{})];case 1:return\"status\"in(localMessage=_a.sent())&&(message.status=localMessage.status),[2,this.putMessage(message)]}})})}),[2,Promise.all(putTransactions)]})})},InboxMessages.prototype.putMessage=function(message){return this.storage.put(this.storeName,message)},InboxMessages.prototype.putBulkMessages=function(messages){var _this=this,putTransactions=messages.map(function(message){return _this.putMessage(message)});return Promise.all(putTransactions)},InboxMessages.prototype.deleteMessages=function(codes){var _this=this,deleteTransactions=codes.map(function(code){return _this.storage.delete(_this.storeName,code)});return Promise.all(deleteTransactions)},InboxMessages.prototype.deleteExpiredMessages=function(){return __awaiter(this,void 0,void 0,function(){var upperBound,allMessages,codesToDelete;return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,upperBound=this.dateModule.getTimestamp().toString(),[4,this.storage.getAll(this.storeName)];case 1:return allMessages=_a.sent(),codesToDelete=allMessages.filter(function(msg){return msg.rt>upperBound}).map(function(msg){return msg.inbox_id}),[2,this.deleteMessages(codesToDelete)]}})})},InboxMessages.prototype.getMessage=function(code){return this.storage.get(this.storeName,code)},InboxMessages.prototype.getReadOpenMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 2===msg.status||3===msg.status})]}})})},InboxMessages.prototype.getDeliveredMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 1===msg.status})]}})})},InboxMessages.prototype.messagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.storage.count(this.storeName)]})})},InboxMessages.prototype.getDeliveredMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var deliveredStatus,statusIndexName;return __generator(this,function(_a){return deliveredStatus=1,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,deliveredStatus)]})})},InboxMessages.prototype.getReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var readStatus,statusIndexName;return __generator(this,function(_a){return readStatus=2,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,readStatus)]})})},InboxMessages.prototype.getDeliveredReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var _a,readStatus,openStatus,keyRange,statusIndexName;return __generator(this,function(_b){return readStatus=(_a=[2,3])[0],openStatus=_a[1],keyRange=IDBKeyRange.bound(readStatus,openStatus),statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,keyRange)]})})},InboxMessages.prototype.updateMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInboxMessages()];case 1:return response=_a.sent(),[4,this.deleteExpiredMessages()];case 2:return _a.sent(),[4,this.deleteMessages(response.deleted)];case 3:return _a.sent(),[4,this.putServerMessages(response.messages)];case 4:return _a.sent(),this.eventBus.dispatchEvent(\"update-inbox-messages\",{messages:new InboxMessagesPublic_1.default(this.data,this.api,this)}),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_177061__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var version_1=__nested_webpack_require_177061__(18),MigrationExecutor_1=__nested_webpack_require_177061__(19),Store_1=__nested_webpack_require_177061__(49),Storage=function(){function Storage(){}return Storage.prototype.dbVersionChangeHandler=function(db,event){console.info(\"onversionchange\",event),db.close()},Storage.prototype.dbRequestSuccessHandler=function(resolve,event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},resolve(database)},Storage.prototype.dbRequestUpgradeNeededHandler=function(event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},new MigrationExecutor_1.default(database).applyMigrations()},Storage.prototype.getDB=function(){var _this=this;return new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){_this.dbRequestSuccessHandler(resolve,event)},request.onupgradeneeded=function(event){_this.dbRequestUpgradeNeededHandler(event)},request.onerror=function(){return reject(request.error)}})},Storage.prototype.put=function(storeName,data,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).put(data,key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.delete=function(storeName,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).delete(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.get=function(storeName,key,defaultValue){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).get(key,defaultValue)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.getAll=function(storeName){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).getAll()];case 2:return result=_a.sent(),db.close(),[2,result||[]]}})})},Storage.prototype.count=function(storeName,query){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).count(query)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.countByIndex=function(storeName,indexName,key){return __awaiter(this,void 0,void 0,function(){var db,store,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),(store=new Store_1.default(db,storeName)).index=indexName,[4,store.countByIndex(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage}();exports.default=Storage},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Store=function(){function Store(db,name){this.name=name,this.store=db.transaction(this.name,\"readwrite\").objectStore(this.name)}return Object.defineProperty(Store.prototype,\"index\",{set:function(index){this.store.indexNames.contains(index)?this._index=this.store.index(index):console.warn('Index \"'+index+'\" in ')},enumerable:!0,configurable:!0}),Store.prototype.writeRequestPromise=function(request,result){return new Promise(function(resolve,reject){request.onsuccess=function(){resolve(result)},request.onerror=function(){reject(request.error)}})},Store.prototype.readRequestPromise=function(request,defaultValue){return new Promise(function(resolve,reject){request.onsuccess=function(event){var target=event.target;resolve(target.result||defaultValue)},request.onerror=function(){reject(request.error)}})},Store.prototype.put=function(data,key){var request=this.store.put(data,key);return this.writeRequestPromise(request,key)},Store.prototype.add=function(data,key){return this.put(data,key)},Store.prototype.delete=function(key){var request=this.store.delete(key);return this.writeRequestPromise(request)},Store.prototype.get=function(key,defaultValue){var request=this.store.get(key);return this.readRequestPromise(request,defaultValue)},Store.prototype.getAll=function(){var cursor=this.store.openCursor(),result=[];return new Promise(function(resolve,reject){cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},Store.prototype.count=function(query){var request=this.store.count(query);return this.readRequestPromise(request,0)},Store.prototype.countByIndex=function(key){var request=this._index.count(key);return this.readRequestPromise(request,0)},Store}();exports.default=Store},function(module,exports,__nested_webpack_require_184055__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var JSZip=__nested_webpack_require_184055__(85);exports.getZip=function(url){return __awaiter(this,void 0,void 0,function(){var response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(url,{method:\"GET\"})];case 1:return 200!==(response=_a.sent()).status&&new Error(response.statusText),[4,response.blob()];case 2:return result=_a.sent(),[2,JSZip.loadAsync(result)]}})})}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return\"[object Array]\"==toString.call(arr)}},function(module,exports,__nested_webpack_require_186392__){module.exports=__nested_webpack_require_186392__(89)},function(module,exports,__nested_webpack_require_186477__){\"use strict\";(function(global,process){var pna=__nested_webpack_require_186477__(29);module.exports=Readable;var Duplex,isArray=__nested_webpack_require_186477__(51);Readable.ReadableState=ReadableState;__nested_webpack_require_186477__(41).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__nested_webpack_require_186477__(54),Buffer=__nested_webpack_require_186477__(30).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=Object.create(__nested_webpack_require_186477__(25));util.inherits=__nested_webpack_require_186477__(15);var debugUtil=__nested_webpack_require_186477__(90),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog(\"stream\"):function(){};var StringDecoder,BufferList=__nested_webpack_require_186477__(91),destroyImpl=__nested_webpack_require_186477__(55);util.inherits(Readable,Stream);var kProxyEvents=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function ReadableState(options,stream){Duplex=Duplex||__nested_webpack_require_186477__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__nested_webpack_require_186477__(57).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__nested_webpack_require_186477__(12),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&(\"function\"==typeof options.read&&(this._read=options.read),\"function\"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\"));return er}(state,chunk)),er?stream.emit(\"error\",er):state.objectMode||chunk&&chunk.length>0?(\"string\"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit(\"error\",new Error(\"stream.unshift() after end event\")):addChunk(stream,state,chunk,!0):state.ended?stream.emit(\"error\",new Error(\"stream.push() after EOF\")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit(\"data\",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:\"string\"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=\"\"),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__nested_webpack_require_186477__(57).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug(\"emitReadable\",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug(\"emit readable\"),stream.emit(\"readable\"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug(\"maybeReadMore read 0\"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug(\"readable nexttick read 0\"),self.read(0)}function resume_(stream,state){state.reading||(debug(\"resume read 0\"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit(\"resume\"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug(\"flow\",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(\"\"):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('\"endReadable()\" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit(\"end\"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug(\"read\",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug(\"read: emitReadable\",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug(\"need readable\",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug(\"length less than watermark\",doRead=!0),state.ended||state.reading?debug(\"reading or ended\",doRead=!1):doRead&&(debug(\"do read\"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit(\"data\",ret),ret},Readable.prototype._read=function(n){this.emit(\"error\",new Error(\"_read() is not implemented\"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug(\"pipe count=%d opts=%j\",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug(\"onunpipe\"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug(\"cleanup\"),dest.removeListener(\"close\",onclose),dest.removeListener(\"finish\",onfinish),dest.removeListener(\"drain\",ondrain),dest.removeListener(\"error\",onerror),dest.removeListener(\"unpipe\",onunpipe),src.removeListener(\"end\",onend),src.removeListener(\"end\",unpipe),src.removeListener(\"data\",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug(\"onend\"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once(\"end\",endFn),dest.on(\"unpipe\",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug(\"pipeOnDrain\",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,\"data\")&&(state.flowing=!0,flow(src))}}(src);dest.on(\"drain\",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug(\"ondata\"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug(\"false write response, pause\",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug(\"onerror\",er),unpipe(),dest.removeListener(\"error\",onerror),0===EElistenerCount(dest,\"error\")&&dest.emit(\"error\",er)}function onclose(){dest.removeListener(\"finish\",onfinish),unpipe()}function onfinish(){debug(\"onfinish\"),dest.removeListener(\"close\",onclose),unpipe()}function unpipe(){debug(\"unpipe\"),src.unpipe(dest)}return src.on(\"data\",ondata),function(emitter,event,fn){if(\"function\"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,\"error\",onerror),dest.once(\"close\",onclose),dest.once(\"finish\",onfinish),dest.emit(\"pipe\",src),state.flowing||(debug(\"pipe resume\"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit(\"unpipe\",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit(\"unpipe\",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit(\"unpipe\",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(\"data\"===ev)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug(\"resume\"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(debug(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on(\"end\",function(){if(debug(\"wrapped end\"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on(\"data\",function(chunk){(debug(\"wrapped data\"),state.decoder&&(chunk=state.decoder.write(chunk)),!state.objectMode||null!==chunk&&void 0!==chunk)&&((state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause())))}),stream)void 0===this[i]&&\"function\"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug(\"wrapped _read\",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,__nested_webpack_require_186477__(11),__nested_webpack_require_186477__(24))},function(module,exports,__nested_webpack_require_201235__){module.exports=__nested_webpack_require_201235__(41).EventEmitter},function(module,exports,__nested_webpack_require_201333__){\"use strict\";var pna=__nested_webpack_require_201333__(29);function emitErrorNT(self,err){self.emit(\"error\",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__nested_webpack_require_202466__){(function(global){var scope=void 0!==global&&global||\"undefined\"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__nested_webpack_require_202466__(93),exports.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__nested_webpack_require_202466__(11))},function(module,exports,__nested_webpack_require_203843__){\"use strict\";var Buffer=__nested_webpack_require_203843__(30).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=\"\"+encoding)&&encoding.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return\"utf8\";for(var retried;;)switch(enc){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return enc;default:if(retried)return;enc=(\"\"+enc).toLowerCase(),retried=!0}}(enc);if(\"string\"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error(\"Unknown encoding: \"+enc);return nenc||enc}(encoding),this.encoding){case\"utf16le\":this.text=utf16Text,this.end=utf16End,nb=4;break;case\"utf8\":this.fillLast=utf8FillLast,nb=4;break;case\"base64\":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,\"\";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,\"\";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,\"\"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString(\"utf16le\",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString(\"utf16le\",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):\"\";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString(\"utf16le\",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString(\"base64\",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString(\"base64\",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+this.lastChar.toString(\"base64\",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):\"\"}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return\"\";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return\"\";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||\"\"},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+\"\":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString(\"utf8\",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString(\"utf8\",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},function(module,exports,__nested_webpack_require_208115__){\"use strict\";module.exports=Transform;var Duplex=__nested_webpack_require_208115__(12),util=Object.create(__nested_webpack_require_208115__(25));function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit(\"error\",new Error(\"write callback called multiple times\"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&(\"function\"==typeof options.transform&&(this._transform=options.transform),\"function\"==typeof options.flush&&(this._flush=options.flush)),this.on(\"prefinish\",prefinish)}function prefinish(){var _this=this;\"function\"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit(\"error\",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(stream._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return stream.push(null)}util.inherits=__nested_webpack_require_208115__(15),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error(\"_transform() is not implemented\")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit(\"close\")})}},function(module,exports,__nested_webpack_require_210568__){\"use strict\";var utils=__nested_webpack_require_210568__(0),support=__nested_webpack_require_210568__(7),_keyStr=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";exports.encode=function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output=[],i=0,len=input.length,remainingBytes=len,isArray=\"string\"!==utils.getTypeOf(input);i<input.length;)remainingBytes=len-i,isArray?(chr1=input[i++],chr2=i<len?input[i++]:0,chr3=i<len?input[i++]:0):(chr1=input.charCodeAt(i++),chr2=i<len?input.charCodeAt(i++):0,chr3=i<len?input.charCodeAt(i++):0),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=remainingBytes>1?(15&chr2)<<2|chr3>>6:64,enc4=remainingBytes>2?63&chr3:64,output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4));return output.join(\"\")},exports.decode=function(input){var chr1,chr2,chr3,enc2,enc3,enc4,i=0,resultIndex=0;if(\"data:\"===input.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var output,totalLength=3*(input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)&&totalLength--,input.charAt(input.length-2)===_keyStr.charAt(64)&&totalLength--,totalLength%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(output=support.uint8array?new Uint8Array(0|totalLength):new Array(0|totalLength);i<input.length;)chr1=_keyStr.indexOf(input.charAt(i++))<<2|(enc2=_keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=_keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=_keyStr.indexOf(input.charAt(i++))),output[resultIndex++]=chr1,64!==enc3&&(output[resultIndex++]=chr2),64!==enc4&&(output[resultIndex++]=chr3);return output}},function(module,exports,__nested_webpack_require_212301__){\"use strict\";(function(Buffer){var utils=__nested_webpack_require_212301__(0),ConvertWorker=__nested_webpack_require_212301__(103),GenericWorker=__nested_webpack_require_212301__(2),base64=__nested_webpack_require_212301__(59),support=__nested_webpack_require_212301__(7),external=__nested_webpack_require_212301__(26),NodejsStreamOutputAdapter=null;if(support.nodestream)try{NodejsStreamOutputAdapter=__nested_webpack_require_212301__(104)}catch(e){}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on(\"data\",function(data,meta){dataArray.push(data),updateCallback&&updateCallback(meta)}).on(\"error\",function(err){dataArray=[],reject(err)}).on(\"end\",function(){try{var result=function(type,content,mimeType){switch(type){case\"blob\":return utils.newBlob(utils.transformTo(\"arraybuffer\",content),mimeType);case\"base64\":return base64.encode(content);default:return utils.transformTo(type,content)}}(resultType,function(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++)totalLength+=dataArray[i].length;switch(type){case\"string\":return dataArray.join(\"\");case\"array\":return Array.prototype.concat.apply([],dataArray);case\"uint8array\":for(res=new Uint8Array(totalLength),i=0;i<dataArray.length;i++)res.set(dataArray[i],index),index+=dataArray[i].length;return res;case\"nodebuffer\":return Buffer.concat(dataArray);default:throw new Error(\"concat : unsupported type '\"+type+\"'\")}}(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case\"blob\":case\"arraybuffer\":internalType=\"uint8array\";break;case\"base64\":internalType=\"string\"}try{this._internalType=internalType,this._outputType=outputType,this._mimeType=mimeType,utils.checkSupport(internalType),this._worker=worker.pipe(new ConvertWorker(internalType)),worker.lock()}catch(e){this._worker=new GenericWorker(\"error\"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;return\"data\"===evt?this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)}):this._worker.on(evt,function(){utils.delay(fn,arguments,self)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(updateCb){if(utils.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new NodejsStreamOutputAdapter(this,{objectMode:\"nodebuffer\"!==this._outputType},updateCb)}},module.exports=StreamHelper}).call(this,__nested_webpack_require_212301__(23).Buffer)},function(module,exports,__webpack_require__){\"use strict\";exports.base64=!1,exports.binary=!1,exports.dir=!1,exports.createFolders=!0,exports.date=null,exports.compression=null,exports.compressionOptions=null,exports.comment=null,exports.unixPermissions=null,exports.dosPermissions=null},function(module,exports,__nested_webpack_require_215412__){\"use strict\";var utils=__nested_webpack_require_215412__(0),GenericWorker=__nested_webpack_require_215412__(2);function DataWorker(dataP){GenericWorker.call(this,\"DataWorker\");var self=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,dataP.then(function(data){self.dataIsReady=!0,self.data=data,self.max=data&&data.length||0,self.type=utils.getTypeOf(data),self.isPaused||self._tickAndRepeat()},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker),DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var data=null,nextIndex=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":data=this.data.substring(this.index,nextIndex);break;case\"uint8array\":data=this.data.subarray(this.index,nextIndex);break;case\"array\":case\"nodebuffer\":data=this.data.slice(this.index,nextIndex)}return this.index=nextIndex,this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})},module.exports=DataWorker},function(module,exports,__nested_webpack_require_216983__){\"use strict\";var utils=__nested_webpack_require_216983__(0),GenericWorker=__nested_webpack_require_216983__(2);function DataLengthProbe(propName){GenericWorker.call(this,\"DataLengthProbe for \"+propName),this.propName=propName,this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker),DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)},module.exports=DataLengthProbe},function(module,exports,__nested_webpack_require_217557__){\"use strict\";var GenericWorker=__nested_webpack_require_217557__(2),crc32=__nested_webpack_require_217557__(45);function Crc32Probe(){GenericWorker.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}__nested_webpack_require_217557__(0).inherits(Crc32Probe,GenericWorker),Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0),this.push(chunk)},module.exports=Crc32Probe},function(module,exports,__nested_webpack_require_217995__){\"use strict\";var GenericWorker=__nested_webpack_require_217995__(2);exports.STORE={magic:\"\\0\\0\",compressWorker:function(compressionOptions){return new GenericWorker(\"STORE compression\")},uncompressWorker:function(){return new GenericWorker(\"STORE decompression\")}},exports.DEFLATE=__nested_webpack_require_217995__(107)},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){\"use strict\";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__nested_webpack_require_218945__){\"use strict\";var utils=__nested_webpack_require_218945__(8),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result=\"\",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){\"use strict\";exports.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",exports.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",exports.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",exports.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",exports.DATA_DESCRIPTOR=\"PK\u0007\\b\"},function(module,exports,__nested_webpack_require_222272__){\"use strict\";var utils=__nested_webpack_require_222272__(0),support=__nested_webpack_require_222272__(7),ArrayReader=__nested_webpack_require_222272__(73),StringReader=__nested_webpack_require_222272__(121),NodeBufferReader=__nested_webpack_require_222272__(122),Uint8ArrayReader=__nested_webpack_require_222272__(75);module.exports=function(data){var type=utils.getTypeOf(data);return utils.checkSupport(type),\"string\"!==type||support.uint8array?\"nodebuffer\"===type?new NodeBufferReader(data):support.uint8array?new Uint8ArrayReader(utils.transformTo(\"uint8array\",data)):new ArrayReader(utils.transformTo(\"array\",data)):new StringReader(data)}},function(module,exports,__nested_webpack_require_222879__){\"use strict\";var DataReader=__nested_webpack_require_222879__(74);function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++)data[i]=255&data[i]}__nested_webpack_require_222879__(0).inherits(ArrayReader,DataReader),ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]},ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3)return i-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]},ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return[];var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=ArrayReader},function(module,exports,__nested_webpack_require_223988__){\"use strict\";var utils=__nested_webpack_require_223988__(0);function DataReader(data){this.data=data,this.length=data.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+newIndex+\"). Corrupted zip ?\")},setIndex:function(newIndex){this.checkIndex(newIndex),this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var i,result=0;for(this.checkOffset(size),i=this.index+size-1;i>=this.index;i--)result=(result<<8)+this.byteAt(i);return this.index+=size,result},readString:function(size){return utils.transformTo(\"string\",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC(1980+(dostime>>25&127),(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(31&dostime)<<1))}},module.exports=DataReader},function(module,exports,__nested_webpack_require_225149__){\"use strict\";var ArrayReader=__nested_webpack_require_225149__(73);function Uint8ArrayReader(data){ArrayReader.call(this,data)}__nested_webpack_require_225149__(0).inherits(Uint8ArrayReader,ArrayReader),Uint8ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return new Uint8Array(0);var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=Uint8ArrayReader},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE=\"pushwoosh-subscription-widget\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BELL_POSITION_BOTTOM_RIGHT=\"bottomRight\",exports.BELL_POSITION_BOTTOM_LEFT=\"bottomLeft\",exports.BELL_POSITION_TOP_RIGHT=\"topRight\",exports.BELL_POSITION_TOP_LEFT=\"topLeft\",exports.WIDGET_CONTAINER_ID=\"pushwooshBellWidget\",exports.SUBSCRIBE_WIDGET_DEFAULT_CONFIG={position:exports.BELL_POSITION_BOTTOM_LEFT,bgColor:\"#12AE7E\",bellColor:\"white\",bellStrokeColor:\"#08754f\",bellButtonBorder:\"1px solid #379676\",shadow:\"0px 0px 6px rgba(0, 0, 0, 0.75)\",size:\"48px\",indent:\"20px\",zIndex:\"999999\",tooltipText:{successSubscribe:\"You are successfully subscribed!\",needSubscribe:\"Get notifications about important news!\",blockSubscribe:\"Click to see how to get notifications\",alreadySubscribed:\"You are already subscribed\"}}},function(module,exports,__nested_webpack_require_226649__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Pushwoosh_1=__nested_webpack_require_226649__(79);exports.Pushwoosh=Pushwoosh_1.default,__nested_webpack_require_226649__(145),__nested_webpack_require_226649__(151),__nested_webpack_require_226649__(153)},function(module,exports,__nested_webpack_require_226916__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_226916__(13),EventBus_1=__nested_webpack_require_226916__(34),Api_1=__nested_webpack_require_226916__(36),Data_1=__nested_webpack_require_226916__(5),ApiClient_1=__nested_webpack_require_226916__(28),PushService_1=__nested_webpack_require_226916__(80),Popup_1=__nested_webpack_require_226916__(82),SubscriptionSegmentsWidget_1=__nested_webpack_require_226916__(84),SubscriptionPromptWidget_1=__nested_webpack_require_226916__(125),CONSTANTS=__nested_webpack_require_226916__(1),functions_1=__nested_webpack_require_226916__(10),PlatformChecker_1=__nested_webpack_require_226916__(21),logger_1=__nested_webpack_require_226916__(4),FacebookModule_1=__nested_webpack_require_226916__(127),InApps_1=__nested_webpack_require_226916__(128),storage_1=__nested_webpack_require_226916__(3),InboxMessages_1=__nested_webpack_require_226916__(47),InboxMessagesPublic_1=__nested_webpack_require_226916__(27),Pushwoosh=function(){function Pushwoosh(){var _this=this;this.ready=!1,this.addEventHandler=function(name,handler){return _this.eventBus.addEventHandler(name,handler)},this.removeEventHandler=function(name,handler){return _this.eventBus.removeEventHandler(name,handler)},this.dispatchEvent=function(name,payload){return _this.eventBus.dispatchEvent(name,payload)},this.debug={showLog:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.log.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showKeyValues:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showMessages:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.message.getAll()];case 1:return _a.sent().forEach(function(i){return console.log(i)}),[2]}})})}},this.eventBus=new EventBus_1.EventBus,this.data=new Data_1.Data,this.apiClient=new ApiClient_1.ApiClient(this.data),this.api=new Api_1.Api(this.eventBus,this.data,this.apiClient),this.platformChecker=new PlatformChecker_1.PlatformChecker,this.inboxModel=new InboxMessages_1.default(this.eventBus,this.data,this.api),this.pwinbox=new InboxMessagesPublic_1.default(this.data,this.api,this.inboxModel),this.onServiceWorkerMessage=this.onServiceWorkerMessage.bind(this);var popup=new Popup_1.Popup(\"subscription-segments\",function(){return _this.eventBus.dispatchEvent(\"hide-subscription-widget\",{})},{position:\"top\"});this.subscriptionSegmentWidget=new SubscriptionSegmentsWidget_1.SubscriptionSegmentsWidget(this.eventBus,this.data,this.apiClient,this.api,popup,this),this.subscriptionPromptWidget=new SubscriptionPromptWidget_1.SubscriptionPromptWidget(this.eventBus,this)}return Pushwoosh.prototype.push=function(command){if(\"function\"!=typeof command){if(!Array.isArray(command))throw new Error(\"Invalid command!\");switch(command[0]){case\"init\":this.initialize(command[1]);break;case CONSTANTS.EVENT_ON_LOAD:case CONSTANTS.EVENT_ON_READY:case CONSTANTS.EVENT_ON_REGISTER:case CONSTANTS.EVENT_ON_SUBSCRIBE:case CONSTANTS.EVENT_ON_UNSUBSCRIBE:case CONSTANTS.EVENT_ON_SW_INIT_ERROR:case CONSTANTS.EVENT_ON_PUSH_DELIVERY:case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_PERMISSION_DENIED:case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.subscribeToLegacyEvents(command[0],command[1]);break;default:throw new Error(\"Unknown command!\")}}else this.subscribeToLegacyEvents(\"onReady\",command)},Pushwoosh.prototype.subscribe=function(isForceSubscribe){return void 0===isForceSubscribe&&(isForceSubscribe=!0),__awaiter(this,void 0,void 0,function(){var permission_1,permission,isManualUnsubscribed,isDeviceRegister;return __generator(this,function(_a){switch(_a.label){case 0:return this.isCommunicationDisabled&&logger_1.Logger.error(\"Communication is disabled!\"),this.driver.checkIsPermissionDefault()?(this.eventBus.dispatchEvent(\"show-notification-permission-dialog\",{}),[4,this.driver.askPermission()]):[3,2];case 1:_a.sent(),permission_1=this.driver.getPermission(),this.eventBus.dispatchEvent(\"hide-notification-permission-dialog\",{permission:permission_1}),_a.label=2;case 2:return permission=this.driver.getPermission(),[4,this.data.getStatusManualUnsubscribed()];case 3:return isManualUnsubscribed=_a.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 4:return isDeviceRegister=_a.sent(),permission!==CONSTANTS.PERMISSION_GRANTED?[3,7]:(this.eventBus.dispatchEvent(\"permission-granted\",{}),!(isForceSubscribe||!isManualUnsubscribed)||isDeviceRegister?[3,6]:[4,this.driver.subscribe()]);case 5:_a.sent(),_a.label=6;case 6:return this.eventBus.dispatchEvent(\"subscribe\",{}),[2];case 7:return permission!==CONSTANTS.PERMISSION_DENIED?[3,10]:(this.eventBus.dispatchEvent(\"permission-denied\",{}),isDeviceRegister?[4,this.driver.unsubscribe()]:[3,9]);case 8:_a.sent(),_a.label=9;case 9:case 10:return[2]}})})},Pushwoosh.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.driver.unsubscribe()];case 1:return _a.sent(),[3,3];case 2:return error_1=_a.sent(),logger_1.Logger.error(error_1,\"Error occurred during the unsubscribe\"),[3,3];case 3:return[2]}})})},Pushwoosh.prototype.forceSubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.subscribe(!0)];case 1:return _a.sent(),[2]}})})},Pushwoosh.prototype.isDeviceRegistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED},Pushwoosh.prototype.isDeviceUnregistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED},Pushwoosh.prototype.isSubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},Pushwoosh.prototype.isCommunicationEnabled=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:return[2,!_a.sent()]}})})},Pushwoosh.prototype.setCommunicationEnabled=function(isEnabled){return void 0===isEnabled&&(isEnabled=!0),__awaiter(this,void 0,void 0,function(){var deviceType,isPermissionGranted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),isPermissionGranted=this.driver.checkIsPermissionGranted(),[4,this.data.setStatusCommunicationDisabled(!isEnabled)];case 2:return _a.sent(),isEnabled?[4,this.data.setStatusDropAllData(!1)]:[3,6];case 3:return _a.sent(),isPermissionGranted?[4,this.api.registerDevice()]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[3,8];case 6:return[4,this.api.unregisterDevice()];case 7:_a.sent(),_a.label=8;case 8:return this.eventBus.dispatchEvent(\"change-enabled-communication\",{isEnabled:isEnabled}),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_CONSENT,{channel:isEnabled,device_type:deviceType})];case 9:return _a.sent(),[2]}})})},Pushwoosh.prototype.removeAllDeviceData=function(){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_DELETE,{status:!0,device_type:deviceType})];case 2:return _a.sent(),[4,this.api.deleteDevice()];case 3:return _a.sent(),[4,this.data.clearAll()];case 4:return _a.sent(),[4,this.data.setStatusDropAllData(!0)];case 5:return _a.sent(),[2]}})})},Pushwoosh.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getHwid()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getPushToken=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getTokens()];case 1:return[2,_a.sent().pushToken]}})})},Pushwoosh.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getUserId()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getParams()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.isAvailableNotifications=function(){return this.platformChecker.isAvailableNotifications},Pushwoosh.prototype.sendStatisticsVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,_a,origin,pathname,href;return __generator(this,function(_b){switch(_b.label){case 0:return title=window.document.title,_a=window.location,origin=_a.origin,pathname=_a.pathname,href=_a.href,[4,this.api.pageVisit({title:title,url_path:\"\"+origin+pathname,url:href})];case 1:return _b.sent(),[2]}})})},Pushwoosh.prototype.isEnableChannels=function(){return __awaiter(this,void 0,void 0,function(){var features,channels;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),channels=features&&features.channels,[2,Array.isArray(channels)&&!!channels.length]}})})},Pushwoosh.prototype.initialize=function(params){return __awaiter(this,void 0,void 0,function(){var manualDebug,applicationCode,notSavedApplicationCode,isChangeApplicationCode,id,config,_a,userIdWasChange,inAppsConfig,error_2,error_3,delayedEvent,type,payload,hashReg,hash;return __generator(this,function(_b){switch(_b.label){case 0:return manualDebug=localStorage.getItem(CONSTANTS.MANUAL_SET_LOGGER_LEVEL),logger_1.Logger.setLevel(manualDebug||params.logLevel||\"error\"),this.platformChecker.isAvailableNotifications?[4,this.data.getApplicationCode()]:[2];case 1:if(applicationCode=_b.sent(),!params.applicationCode)throw new Error(\"Can't find application code!\");return notSavedApplicationCode=!applicationCode,isChangeApplicationCode=applicationCode&&applicationCode!==params.applicationCode,notSavedApplicationCode||isChangeApplicationCode?[4,this.data.clearAll()]:[3,4];case 2:return _b.sent(),[4,this.data.setApplicationCode(params.applicationCode)];case 3:_b.sent(),_b.label=4;case 4:return[4,this.data.getHwid()];case 5:return _b.sent()?[3,7]:(id=params.applicationCode+\"_\"+uuid_1.v4(),[4,this.data.setHwid(id)]);case 6:return _b.sent(),[3,9];case 7:return[4,this.api.checkDevice()];case 8:_b.sent(),_b.label=9;case 9:return[4,this.data.setDeviceType(this.platformChecker.getPlatformType())];case 10:return _b.sent(),[4,this.data.setDeviceModel(this.platformChecker.getBrowserVersion())];case 11:return _b.sent(),[4,this.data.setLanguage(params.tags&&params.tags.Language||navigator.language)];case 12:return _b.sent(),params.pushwooshUrl?[4,this.data.setApiEntrypoint(params.pushwooshUrl)]:[3,14];case 13:_b.sent(),_b.label=14;case 14:return[4,this.data.setSdkVersion(\"3.24.0\")];case 15:return _b.sent(),[4,this.api.getConfig([\"page_visit\",\"vapid_key\",\"web_in_apps\",\"events\",\"subscription_prompt\"])];case 16:return config=_b.sent(),this.onGetConfig(config&&config.features),this.subscribeWidgetConfig=__assign({enable:!1},params.subscribeWidget),this.inboxWidgetConfig=__assign({enable:!1},params.inboxWidget),this.subscribePopupConfig=__assign({enable:!1},params.subscribePopup),_a=this,[4,this.data.getStatusCommunicationDisabled()];case 17:return _a.isCommunicationDisabled=_b.sent(),[4,this.open()];case 18:return _b.sent(),[4,this.data.getStatusUserIdWasChanged()];case 19:return userIdWasChange=_b.sent(),!params.userId||\"user_id\"===params.userId||userIdWasChange?[3,21]:[4,this.api.registerUser(params.userId)];case 20:_b.sent(),_b.label=21;case 21:return params.tags&&this.api.setTags(params.tags),inAppsConfig=__assign({enable:config.features.web_in_apps&&config.features.web_in_apps.enabled},params.inApps),[4,this.initInApp(inAppsConfig)];case 22:return _b.sent(),this.platformChecker.isAvailableNotifications?[4,this.initPushNotifications(params)]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return _b.trys.push([24,26,,27]),[4,this.inboxModel.updateMessages()];case 25:return _b.sent(),[3,27];case 26:return error_2=_b.sent(),logger_1.Logger.write(\"error\",error_2),[3,27];case 27:return _b.trys.push([27,29,,30]),[4,this.initFacebook(params)];case 28:return _b.sent(),[3,30];case 29:return error_3=_b.sent(),logger_1.Logger.write(\"error\",error_3),[3,30];case 30:return this.ready=!0,this.eventBus.dispatchEvent(\"ready\",{}),[4,this.data.getDelayedEvent()];case 31:return(delayedEvent=_b.sent())?(type=delayedEvent.type,payload=delayedEvent.payload,[4,this.emitLegacyEventsFromServiceWorker(type,payload)]):[3,34];case 32:return _b.sent(),[4,this.data.setDelayedEvent(null)];case 33:_b.sent(),_b.label=34;case 34:return\"serviceWorker\"in navigator&&(navigator.serviceWorker.onmessage=this.onServiceWorkerMessage),localStorage.setItem(\"pushwoosh-websdk-status\",\"init\"),document.dispatchEvent(new CustomEvent(\"pushwoosh.initialized\",{detail:{pw:this}})),this.platformChecker.isSafari&&(hashReg=/#P(.*)/,hash=decodeURIComponent(document.location.hash),hashReg.test(hash)&&this.api.pushStat(hashReg.exec(hash)[1]).then(functions_1.clearLocationHash)),[2]}})})},Pushwoosh.prototype.defaultProcess=function(initParams){return __awaiter(this,void 0,void 0,function(){var permission,isCommunicationDisabled,isDropAllData,isNeedResubscribe,features,currentPromptUseCase,autoSubscribe,isManualUnsubscribed,isRegister,widgetConfig,isDefaultUseCase,isNotSetUseCase,result;return __generator(this,function(_b){switch(_b.label){case 0:return\"granted\"!==(permission=this.driver.getPermission())?[3,2]:[4,this.data.setLastPermissionStatus(permission)];case 1:_b.sent(),_b.label=2;case 2:return[4,this.data.getStatusCommunicationDisabled()];case 3:return isCommunicationDisabled=_b.sent(),[4,this.data.getStatusDropAllData()];case 4:return isDropAllData=_b.sent(),[4,this.driver.checkIsNeedResubscribe()];case 5:return isNeedResubscribe=_b.sent(),[4,this.data.getFeatures()];case 6:return features=_b.sent(),currentPromptUseCase=features.subscription_prompt&&features.subscription_prompt.use_case,isCommunicationDisabled||isDropAllData?[4,this.unsubscribe()]:[3,8];case 7:return _b.sent(),[2];case 8:return isNeedResubscribe?[4,this.unsubscribe()]:[3,11];case 9:return _b.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 10:_b.sent(),_b.label=11;case 11:return autoSubscribe=initParams.autoSubscribe,[4,this.data.getStatusManualUnsubscribed()];case 12:return isManualUnsubscribed=_b.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 13:switch(isRegister=_b.sent(),permission){case CONSTANTS.PERMISSION_PROMPT:return[3,14];case CONSTANTS.PERMISSION_DENIED:return[3,22];case CONSTANTS.PERMISSION_GRANTED:return[3,25]}return[3,31];case 14:return this.eventBus.dispatchEvent(\"permission-default\",{}),isRegister?[4,this.unsubscribe()]:[3,16];case 15:_b.sent(),_b.label=16;case 16:return[4,this.getWidgetConfig()];case 17:return widgetConfig=_b.sent(),[4,this.checkCanShowByCapping(widgetConfig)];case 18:return _b.sent()?currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?[4,this.subscriptionSegmentWidget.init()]:[3,20]:[3,31];case 19:_b.sent(),_b.label=20;case 20:return isDefaultUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT,isNotSetUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET&&autoSubscribe,(isDefaultUseCase||isNotSetUseCase)&&(this.subscriptionPromptWidget.init(widgetConfig),this.subscriptionPromptWidget.show()),[4,this.updateCappingParams()];case 21:return _b.sent(),[3,31];case 22:return this.eventBus.dispatchEvent(\"permission-denied\",{}),isRegister?[4,this.unsubscribe()]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return[3,31];case 25:return this.eventBus.dispatchEvent(\"permission-granted\",{}),isManualUnsubscribed&&isRegister?[4,this.unsubscribe()]:[3,27];case 26:_b.sent(),_b.label=27;case 27:return!isRegister&&!isManualUnsubscribed||isNeedResubscribe?[4,this.subscribe(!0)]:[3,30];case 28:return _b.sent(),currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?(result=features.channels.map(function(channel){return channel.code}),[4,this.api.setTags({\"Subscription Segments\":result})]):[3,30];case 29:_b.sent(),_b.label=30;case 30:return[3,31];case 31:return[2]}})})},Pushwoosh.prototype.getWidgetConfig=function(){return __awaiter(this,void 0,void 0,function(){var features,currentConfig,configWithDefaultCapping;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),currentConfig=features.subscription_prompt_widget&&features.subscription_prompt_widget.params,configWithDefaultCapping=__assign({cappingCount:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingCount,cappingDelay:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingDelay},currentConfig),[2,currentConfig?configWithDefaultCapping:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG]}})})},Pushwoosh.prototype.checkCanShowByCapping=function(widgetConfig){return __awaiter(this,void 0,void 0,function(){var currentTime,displayCount,lastSeenTime,canShowByCapping,canShowByLastTime;return __generator(this,function(_a){switch(_a.label){case 0:return currentTime=(new Date).getTime(),[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),[4,this.data.getPromptLastSeenTime()];case 2:return lastSeenTime=_a.sent(),canShowByCapping=widgetConfig.cappingCount>displayCount,canShowByLastTime=currentTime-lastSeenTime>widgetConfig.cappingDelay,[2,canShowByCapping&&canShowByLastTime]}})})},Pushwoosh.prototype.updateCappingParams=function(){return __awaiter(this,void 0,void 0,function(){var displayCount,currentTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),currentTime=(new Date).getTime(),[4,this.data.setPromptDisplayCount(displayCount+1)];case 2:return _a.sent(),[4,this.data.setPromptLastSeenTime(currentTime)];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.initFacebook=function(initParams){var facebook=__assign({enable:!1,pageId:\"\",containerClass:\"\"},initParams.facebook);if(facebook&&facebook.enable)try{new FacebookModule_1.default({pageId:facebook.pageId,containerClass:facebook.containerClass,applicationCode:initParams.applicationCode,userId:initParams.userId||\"\"})}catch(error){logger_1.Logger.error(error,\"facebook module initialization failed\")}},Pushwoosh.prototype.initInApp=function(params){return __awaiter(this,void 0,void 0,function(){var error_4,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:if(!params||!params.enable)return[3,4];_a.label=1;case 1:return _a.trys.push([1,3,,4]),this.InApps=new InApps_1.InApps(params,this,this.eventBus,this.api),[4,this.InApps.init().then(function(){logger_1.Logger.info(\"InApps module has been initialized\"),_this.eventBus.dispatchEvent(\"initialize-in-apps-module\",{})}).catch(function(error){logger_1.Logger.error(error,\"InApps module initialization has been failed\")})];case 2:return _a.sent(),[3,4];case 3:return error_4=_a.sent(),logger_1.Logger.error(error_4,\"InApp module initialization has been failed\"),[3,4];case 4:return[2]}})})},Pushwoosh.prototype.onServiceWorkerMessage=function(event){var _a=(event||{}).data,_b=(void 0===_a?{}:_a)||{},_c=_b.type,type=void 0===_c?\"\":_c,_d=_b.payload,payload=void 0===_d?{}:_d;this.emitLegacyEventsFromServiceWorker(type,payload)},Pushwoosh.prototype.open=function(isForce){return __awaiter(this,void 0,void 0,function(){var lastApplicationOpenTime,currentTime,isSendingPeriodExceeded;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getLastOpenApplicationTime()];case 1:return lastApplicationOpenTime=_a.sent(),currentTime=Date.now(),lastApplicationOpenTime||(lastApplicationOpenTime=0),isSendingPeriodExceeded=currentTime-lastApplicationOpenTime<CONSTANTS.PERIOD_SEND_APP_OPEN,isForce||!isSendingPeriodExceeded?[4,this.data.setLastOpenApplicationTime(currentTime)]:[2];case 2:return _a.sent(),[4,this.api.applicationOpen()];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.onGetConfig=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setFeatures(features)];case 1:return _a.sent(),features?features.page_visit&&features.page_visit.enabled?[4,storage_1.keyValue.set(CONSTANTS.PAGE_VISITED_URL,features.page_visit.entrypoint)]:[3,3]:[3,5];case 2:_a.sent(),this.sendStatisticsVisitedPage(),_a.label=3;case 3:return features.events&&features.events.length&&features.events.some(function(event){return event===CONSTANTS.EVENT_PW_SITE_OPENED})&&this.sendPostEventVisitedPage(),features.vapid_key?[4,this.data.setApplicationServerKey(features.vapid_key)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[2]}})})},Pushwoosh.prototype.initPushNotifications=function(params){return __awaiter(this,void 0,void 0,function(){var error_5;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setDefaultNotificationImage(params.defaultNotificationImage)];case 1:return _a.sent(),[4,this.data.setDefaultNotificationTitle(params.defaultNotificationTitle)];case 2:return _a.sent(),[4,this.data.setServiceWorkerUrl(params.serviceWorkerUrl)];case 3:return _a.sent(),[4,this.data.setServiceWorkerScope(params.scope)];case 4:return _a.sent(),[4,this.data.setInitParams(__assign({autoSubscribe:!0},params))];case 5:return _a.sent(),[4,this.initDriver()];case 6:_a.sent(),_a.label=7;case 7:return _a.trys.push([7,9,,10]),[4,this.defaultProcess(params)];case 8:return _a.sent(),[3,10];case 9:return error_5=_a.sent(),logger_1.Logger.error(error_5,\"Internal error: defaultProcess fail\"),[3,10];case 10:return[2]}})})},Pushwoosh.prototype.initDriver=function(){return __awaiter(this,void 0,void 0,function(){var webSitePushId;return __generator(this,function(_a){switch(_a.label){case 0:return this.platformChecker.isSafari?[4,this.data.getInitParams()]:[3,2];case 1:if(!(webSitePushId=_a.sent().safariWebsitePushID))throw new Error(\"For work with Safari Push Notification add safariWebsitePushID to initParams!\");return this.driver=new PushService_1.PushServiceSafari(this.api,this.data,{webSitePushId:webSitePushId}),[2];case 2:return this.platformChecker.isAvailableServiceWorker?(this.driver=new PushService_1.PushServiceDefault(this.api,this.data,{}),[2]):[2]}})})},Pushwoosh.prototype.sendPostEventVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,href;return __generator(this,function(_a){return title=window.document.title,href=window.location.href,this.api.postEvent(CONSTANTS.EVENT_PW_SITE_OPENED,{url:href,title:title,device_type:this.platformChecker.platform}),[2]})})},Pushwoosh.prototype.subscribeToLegacyEvents=function(type,handler){var _this=this;switch(type){case CONSTANTS.EVENT_ON_LOAD:handler();break;case CONSTANTS.EVENT_ON_READY:if(this.ready){handler(this.api);break}this.eventBus.addEventHandler(\"ready\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_REGISTER:this.eventBus.addEventHandler(\"register\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SUBSCRIBE:this.eventBus.addEventHandler(\"subscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_UNSUBSCRIBE:this.eventBus.addEventHandler(\"unsubscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SW_INIT_ERROR:this.eventBus.addEventHandler(\"initialize-service-worker-error\",function(_a){var error=_a.error;return handler(_this.api,error)});break;case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.addEventHandler(\"receive-push\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.addEventHandler(\"open-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.addEventHandler(\"hide-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:this.eventBus.addEventHandler(\"change-enabled-communication\",function(_a){var isEnabled=_a.isEnabled;return handler(_this.api,isEnabled)});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.addEventHandler(\"receive-inbox-message\",function(_a){var message=_a.message;return handler(_this.api,message)});break;case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:this.eventBus.addEventHandler(\"update-inbox-messages\",function(_a){var messages=_a.messages;return handler(_this.api,messages)});break;case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"show-notification-permission-dialog\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"hide-notification-permission-dialog\",function(_a){var permission=_a.permission;return handler(_this.api,permission)});break;case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"show-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"hide-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_DENIED:this.eventBus.addEventHandler(\"permission-denied\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:this.eventBus.addEventHandler(\"permission-default\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.eventBus.addEventHandler(\"permission-granted\",function(){return handler(_this.api)})}},Pushwoosh.prototype.emitLegacyEventsFromServiceWorker=function(type,payload){switch(type){case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.dispatchEvent(\"receive-push\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.dispatchEvent(\"open-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.dispatchEvent(\"hide-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.dispatchEvent(\"receive-inbox-message\",{message:payload})}},Pushwoosh}();exports.default=Pushwoosh},function(module,exports,__nested_webpack_require_256072__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PushServiceDefault_1=__nested_webpack_require_256072__(40);exports.PushServiceDefault=PushServiceDefault_1.PushServiceDefault;var PushServiceSafari_1=__nested_webpack_require_256072__(81);exports.PushServiceSafari=PushServiceSafari_1.PushServiceSafari},function(module,exports,__nested_webpack_require_256414__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_256414__(4),CONSTANTS=__nested_webpack_require_256414__(1),PushServiceSafari=function(){function PushServiceSafari(api,data,config){this.api=api,this.config=config,this.data=data}return PushServiceSafari.prototype.getPermission=function(){return this.getPermissionInfo().permission},PushServiceSafari.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceSafari.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceSafari.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusManualUnsubscribed()];case 1:return[2,_a.sent()]}})})},PushServiceSafari.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,payload,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),payload={application:application,hwid:hwid},[2,new Promise(function(resolve){safari.pushNotification.requestPermission(_this.config.entrypoint||\"https://cp.pushwoosh.com/json/1.3/safari\",_this.config.webSitePushId,payload,function(){return resolve()})})]}})})},PushServiceSafari.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceSafari.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var deviceToken;return __generator(this,function(_a){switch(_a.label){case 0:return this.checkIsPermissionGranted()?[4,this.getPermissionInfo()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return deviceToken=_a.sent().deviceToken,[4,this.data.setTokens({pushToken:deviceToken})];case 2:return _a.sent(),[4,this.api.registerDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setTokens({})];case 1:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),[4,this.api.unregisterDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceSafari.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedWebSitePushId,isChangeWebSitePushId,lastPermission,permission;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getWebSitePushId()];case 1:return savedWebSitePushId=_a.sent(),isChangeWebSitePushId=void 0!==savedWebSitePushId&&this.config.webSitePushId!==savedWebSitePushId,[4,this.data.setWebSitePushId(this.config.webSitePushId)];case 2:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 3:return lastPermission=_a.sent(),permission=this.getPermission(),lastPermission===permission?[3,5]:[4,this.data.setLastPermissionStatus(permission)];case 4:return _a.sent(),[2,!0];case 5:return[2,isChangeWebSitePushId]}})})},PushServiceSafari.prototype.getPermissionInfo=function(){return safari.pushNotification.permission(this.config.webSitePushId)},PushServiceSafari}();exports.PushServiceSafari=PushServiceSafari},function(module,exports,__nested_webpack_require_261811__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var Popup_helpers_1=__nested_webpack_require_261811__(83),Popup=function(){function Popup(namespace,onClickClose,config){if(this.namespace=namespace,this.onClickClose=onClickClose,this.config=__assign({position:\"center\"},config),!this.getRootElement()){var html=this.createHTML();document.body.insertAdjacentHTML(\"beforeend\",html),this.rootElement=this.getElementWithCheckExist(\"root\");var styles=Popup_helpers_1.getStyles(this.namespace);document.head.appendChild(styles)}this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_position_\"+this.config.position),this.wrapperElement=this.getElementWithCheckExist(\"wrapper\"),this.innerElement=this.getElementWithCheckExist(\"inner\"),this.bodyElement=this.getElementWithCheckExist(\"body\"),this.closeElement=this.getElementWithCheckExist(\"close\"),this.addEventListeners()}return Popup.prototype.updateContent=function(html){this.bodyElement.innerHTML=html},Popup.prototype.removeContent=function(){this.bodyElement.innerHTML=\"\"},Popup.prototype.show=function(){document.body.style.overflow=\"hidden\",this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_show\")},Popup.prototype.hide=function(){document.body.style.overflow=\"auto\",this.rootElement.classList.remove(\"pushwoosh-\"+this.namespace+\"-popup_show\"),this.onClickClose()},Popup.prototype.getRootElement=function(){return document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-root\")},Popup.prototype.createHTML=function(){return'\\n      <div\\n        id=\"pushwoosh-'+this.namespace+'-popup-root\"\\n        class=\"pushwoosh-'+this.namespace+'-popup\"\\n      >\\n        <div\\n          id=\"pushwoosh-'+this.namespace+'-popup-wrapper\"\\n          class=\"pushwoosh-'+this.namespace+'-popup__wrapper\"\\n        >\\n          <div\\n            id=\"pushwoosh-'+this.namespace+'-popup-inner\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__inner\"\\n          >\\n            <div\\n              id=\"pushwoosh-'+this.namespace+'-popup-body\"\\n              class=\"pushwoosh-'+this.namespace+'-popup__body\"\\n            >\\n            </div>\\n          </div>\\n          <button\\n            id=\"pushwoosh-'+this.namespace+'-popup-close\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__close\"\\n            type=\"button\"\\n          >\\n          </button>\\n        </div>\\n      </div>\\n    '},Popup.prototype.getElementWithCheckExist=function(type){var element=document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-\"+type);if(!element)throw new Error(\"Can't find element by id \\\"pushwoosh-\"+this.namespace+\"-popup-\"+type+'\"');return element},Popup.prototype.addEventListeners=function(){var _this=this;this.closeElement.addEventListener(\"click\",function(){_this.hide()}),document.addEventListener(\"click\",function(event){var clickInInner=_this.innerElement.contains(event.target),clickInWrapper=_this.wrapperElement.contains(event.target);!clickInInner&&clickInWrapper&&_this.hide()})},Popup}();exports.Popup=Popup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=function(namespace){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-\"+namespace+\"-popup {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_show {\\n      display: block;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      width: 100%;\\n      height: 100%;\\n      background: rgba(0, 0, 0, .2);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      text-align: center;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper:after {\\n      content: '';\\n      display: inline-block;\\n      width: 1px;\\n      height: 100%;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__inner {\\n      min-width: 320px;\\n      max-width: 380px;\\n      width: 100%;\\n      margin: 0 auto;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__inner {\\n      display: inline-block;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__body {\\n      background: #fff;\\n      text-align: left;\\n      vertical-align: baseline;\\n      box-shadow: 0px 10px 16px rgba(0, 0, 0, 0.1), 0px 0px 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close {\\n      appearance: none;\\n      border: none;\\n      background-color: transparent;\\n      box-shadow: none;\\n      position: absolute;\\n      top: 24px;\\n      right: 24px;\\n      width: 40px;\\n      height: 40px;\\n      cursor: pointer;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:before {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:after {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_267612__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var getZip_1=__nested_webpack_require_267612__(50),logger_1=__nested_webpack_require_267612__(4),SubscriptionSegmentsWidget_helpers_1=__nested_webpack_require_267612__(124),SubscriptionSegmentsWidget=function(){function SubscriptionSegmentsWidget(eventBus,data,apiClient,api,popup,pw){this.eventBus=eventBus,this.data=data,this.apiClient=apiClient,this.api=api,this.popup=popup,this.pw=pw}return SubscriptionSegmentsWidget.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inAppCode,richMediaUrl,content,segments,sortedSegments,html,styles,denyElement,acceptElement,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInAppCode()];case 1:return(inAppCode=_a.sent())?[4,this.getRichMediaUrlByInAppCode(inAppCode)]:(logger_1.Logger.error(\"Internal error: Can't find in-app code for build subscription segment widget!\"),[2]);case 2:return(richMediaUrl=_a.sent())?[4,this.getDynamicContent(richMediaUrl)]:(logger_1.Logger.error(\"Internal error: Can't find rich media url for build subscription segment widget!\"),[2]);case 3:return content=_a.sent(),[4,this.getSegments()];case 4:return segments=_a.sent(),content&&segments?(sortedSegments=segments.sort(function(segment1,segment2){return segment1.position-segment2.position}),html=SubscriptionSegmentsWidget_helpers_1.getHTML(content,sortedSegments),styles=SubscriptionSegmentsWidget_helpers_1.getStyles(content),document.head.appendChild(styles),this.popup.updateContent(html),denyElement=document.getElementById(\"pushwoosh-subscription-segments-deny\"),acceptElement=document.getElementById(\"pushwoosh-subscription-segments-accept\"),denyElement&&denyElement.addEventListener(\"click\",function(){_this.hidePopup()}),acceptElement&&acceptElement.addEventListener(\"click\",function(){var result=[],segments=document.getElementsByClassName(\"pushwoosh-subscription-segments__field\");if(_this.hidePopup(),segments){for(var index=0;index<segments.length;index++){var field=segments[index];field.checked&&result.push(field.value)}_this.api.setTags({\"Subscription Segments\":result}),_this.pw.subscribe()}}),this.showPopup(),[2]):(logger_1.Logger.error(\"Internal error: Can't get content or segments for build subscription segment widget!\"),[2])}})})},SubscriptionSegmentsWidget.prototype.showPopup=function(){this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),this.popup.show()},SubscriptionSegmentsWidget.prototype.hidePopup=function(){this.popup.hide()},SubscriptionSegmentsWidget.prototype.getRichMediaUrlByInAppCode=function(code){return __awaiter(this,void 0,void 0,function(){var inApps,inApp;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getInApps()];case 1:return(inApps=_a.sent())&&(inApp=inApps.find(function(inApp){return inApp.code===code}))?[2,inApp.url]:[2]}})})},SubscriptionSegmentsWidget.prototype.getInAppCode=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,userId,deviceType,deviceModel,language,version,timezone,date,time,timestampUTC,timestampCurrent,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.apiClient.postEvent({application:application,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,language:language,v:version,timezone:timezone,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,event:\"Subscription Segments\",attributes:{}})];case 8:return[2,(response=_a.sent())&&response.code]}})})},SubscriptionSegmentsWidget.prototype.getSegments=function(){return __awaiter(this,void 0,void 0,function(){var features;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return[2,(features=_a.sent())&&features.channels]}})})},SubscriptionSegmentsWidget.prototype.getDynamicContent=function(url){return __awaiter(this,void 0,void 0,function(){var jszip,data,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return[4,getZip_1.getZip(url)];case 1:return jszip=_c.sent(),_b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 2:return[2,(data=_b.apply(_a,[_c.sent()]))&&data.localization&&data.default_language&&data.localization[data.default_language]]}})})},SubscriptionSegmentsWidget}();exports.SubscriptionSegmentsWidget=SubscriptionSegmentsWidget},function(module,exports,__nested_webpack_require_274285__){\"use strict\";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var newObj=new JSZip;for(var i in this)\"function\"!=typeof this[i]&&(newObj[i]=this[i]);return newObj}}JSZip.prototype=__nested_webpack_require_274285__(86),JSZip.prototype.loadAsync=__nested_webpack_require_274285__(119),JSZip.support=__nested_webpack_require_274285__(7),JSZip.defaults=__nested_webpack_require_274285__(61),JSZip.version=\"3.2.0\",JSZip.loadAsync=function(content,options){return(new JSZip).loadAsync(content,options)},JSZip.external=__nested_webpack_require_274285__(26),module.exports=JSZip},function(module,exports,__nested_webpack_require_275046__){\"use strict\";var utf8=__nested_webpack_require_275046__(14),utils=__nested_webpack_require_275046__(0),GenericWorker=__nested_webpack_require_275046__(2),StreamHelper=__nested_webpack_require_275046__(60),defaults=__nested_webpack_require_275046__(61),CompressedObject=__nested_webpack_require_275046__(44),ZipObject=__nested_webpack_require_275046__(105),generate=__nested_webpack_require_275046__(106),nodejsUtils=__nested_webpack_require_275046__(31),NodejsStreamInputAdapter=__nested_webpack_require_275046__(118),fileAdd=function(name,data,originalOptions){var parent,dataType=utils.getTypeOf(data),o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),\"string\"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(name=forceTrailingSlash(name)),o.createFolders&&(parent=parentFolder(name))&&folderAdd.call(this,parent,!0);var isUnicodeString=\"string\"===dataType&&!1===o.binary&&!1===o.base64;originalOptions&&void 0!==originalOptions.binary||(o.binary=!isUnicodeString),(data instanceof CompressedObject&&0===data.uncompressedSize||o.dir||!data||0===data.length)&&(o.base64=!1,o.binary=!0,data=\"\",o.compression=\"STORE\",dataType=\"string\");var zipObjectContent=null;zipObjectContent=data instanceof CompressedObject||data instanceof GenericWorker?data:nodejsUtils.isNode&&nodejsUtils.isStream(data)?new NodejsStreamInputAdapter(name,data):utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64);var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){\"/\"===path.slice(-1)&&(path=path.substring(0,path.length-1));var lastSlash=path.lastIndexOf(\"/\");return lastSlash>0?path.substring(0,lastSlash):\"\"},forceTrailingSlash=function(path){return\"/\"!==path.slice(-1)&&(path+=\"/\"),path},folderAdd=function(name,createFolders){return createFolders=void 0!==createFolders?createFolders:defaults.createFolders,name=forceTrailingSlash(name),this.files[name]||fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders}),this.files[name]};function isRegExp(object){return\"[object RegExp]\"===Object.prototype.toString.call(object)}var out={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files)this.files.hasOwnProperty(filename)&&(file=this.files[filename],(relativePath=filename.slice(this.root.length,filename.length))&&filename.slice(0,this.root.length)===this.root&&cb(relativePath,file))},filter:function(search){var result=[];return this.forEach(function(relativePath,entry){search(relativePath,entry)&&result.push(entry)}),result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}var obj=this.files[this.root+name];return obj&&!obj.dir?obj:null}return name=this.root+name,fileAdd.call(this,name,data,o),this},folder:function(arg){if(!arg)return this;if(isRegExp(arg))return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)});var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone();return ret.root=newFolder.name,ret},remove:function(name){name=this.root+name;var file=this.files[name];if(file||(\"/\"!==name.slice(-1)&&(name+=\"/\"),file=this.files[name]),file&&!file.dir)delete this.files[name];else for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++)delete this.files[kids[i].name];return this},generate:function(options){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(options){var worker,opts={};try{if((opts=utils.extend(options||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:utf8.utf8encode})).type=opts.type.toLowerCase(),opts.compression=opts.compression.toUpperCase(),\"binarystring\"===opts.type&&(opts.type=\"string\"),!opts.type)throw new Error(\"No output type specified.\");utils.checkSupport(opts.type),\"darwin\"!==opts.platform&&\"freebsd\"!==opts.platform&&\"linux\"!==opts.platform&&\"sunos\"!==opts.platform||(opts.platform=\"UNIX\"),\"win32\"===opts.platform&&(opts.platform=\"DOS\");var comment=opts.comment||this.comment||\"\";worker=generate.generateWorker(this,opts,comment)}catch(e){(worker=new GenericWorker(\"error\")).error(e)}return new StreamHelper(worker,opts.type||\"string\",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){return(options=options||{}).type||(options.type=\"nodebuffer\"),this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},function(module,exports,__webpack_require__){\"use strict\";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+\"==\")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+\"=\"));return parts.join(\"\")};for(var lookup=[],revLookup=[],Arr=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var validLen=b64.indexOf(\"=\");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63},function(module,exports){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports,__nested_webpack_require_283642__){module.exports=Stream;var EE=__nested_webpack_require_283642__(41).EventEmitter;function Stream(){EE.call(this)}__nested_webpack_require_283642__(15)(Stream,EE),Stream.Readable=__nested_webpack_require_283642__(42),Stream.Writable=__nested_webpack_require_283642__(96),Stream.Duplex=__nested_webpack_require_283642__(97),Stream.Transform=__nested_webpack_require_283642__(98),Stream.PassThrough=__nested_webpack_require_283642__(99),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on(\"data\",ondata),dest.on(\"drain\",ondrain),dest._isStdio||options&&!1===options.end||(source.on(\"end\",onend),source.on(\"close\",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,\"function\"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,\"error\"))throw er}function cleanup(){source.removeListener(\"data\",ondata),dest.removeListener(\"drain\",ondrain),source.removeListener(\"end\",onend),source.removeListener(\"close\",onclose),source.removeListener(\"error\",onerror),dest.removeListener(\"error\",onerror),source.removeListener(\"end\",cleanup),source.removeListener(\"close\",cleanup),dest.removeListener(\"close\",cleanup)}return source.on(\"error\",onerror),dest.on(\"error\",onerror),source.on(\"end\",cleanup),source.on(\"close\",cleanup),dest.on(\"close\",cleanup),dest.emit(\"pipe\",source),dest}},function(module,exports){},function(module,exports,__nested_webpack_require_285194__){\"use strict\";var Buffer=__nested_webpack_require_285194__(30).Buffer,util=__nested_webpack_require_285194__(92);function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return\"\";for(var p=this.head,ret=\"\"+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+\" \"+obj})},function(module,exports){},function(module,exports,__nested_webpack_require_286774__){(function(global,process){!function(global,undefined){\"use strict\";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,\"[object process]\"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}:function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage(\"\",\"*\"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix=\"setImmediate$\"+Math.random()+\"$\",onGlobalMessage=function(event){event.source===global&&\"string\"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener(\"message\",onGlobalMessage,!1):global.attachEvent(\"onmessage\",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,\"*\")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&\"onreadystatechange\"in doc.createElement(\"script\")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement(\"script\");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)},attachTo.setImmediate=function(callback){\"function\"!=typeof callback&&(callback=new Function(\"\"+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}(\"undefined\"==typeof self?void 0===global?this:global:self)}).call(this,__nested_webpack_require_286774__(11),__nested_webpack_require_286774__(24))},function(module,exports,__nested_webpack_require_289615__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&\"true\"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config(\"noDeprecation\"))return fn;var warned=!1;return function(){if(!warned){if(config(\"throwDeprecation\"))throw new Error(msg);config(\"traceDeprecation\")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__nested_webpack_require_289615__(11))},function(module,exports,__nested_webpack_require_290152__){\"use strict\";module.exports=PassThrough;var Transform=__nested_webpack_require_290152__(58),util=Object.create(__nested_webpack_require_290152__(25));function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__nested_webpack_require_290152__(15),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__nested_webpack_require_290597__){module.exports=__nested_webpack_require_290597__(43)},function(module,exports,__nested_webpack_require_290682__){module.exports=__nested_webpack_require_290682__(12)},function(module,exports,__nested_webpack_require_290767__){module.exports=__nested_webpack_require_290767__(42).Transform},function(module,exports,__nested_webpack_require_290862__){module.exports=__nested_webpack_require_290862__(42).PassThrough},function(module,exports,__nested_webpack_require_290959__){\"use strict\";(function(setImmediate){module.exports=\"function\"==typeof setImmediate?setImmediate:function(){var args=[].slice.apply(arguments);args.splice(1,0,0),setTimeout.apply(null,args)}}).call(this,__nested_webpack_require_290959__(56).setImmediate)},function(module,exports,__nested_webpack_require_291246__){\"use strict\";var immediate=__nested_webpack_require_291246__(102);function INTERNAL(){}var handlers={},REJECTED=[\"REJECTED\"],FULFILLED=[\"FULFILLED\"],PENDING=[\"PENDING\"];function Promise(resolver){if(\"function\"!=typeof resolver)throw new TypeError(\"resolver must be a function\");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,\"function\"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError(\"Cannot resolve promise with itself\")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;if(obj&&(\"object\"==typeof obj||\"function\"==typeof obj)&&\"function\"==typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}var result=tryCatch(function(){thenable(onSuccess,onError)});\"error\"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status=\"success\"}catch(e){out.status=\"error\",out.value=e}return out}module.exports=Promise,Promise.prototype.finally=function(callback){if(\"function\"!=typeof callback)return this;var p=this.constructor;return this.then(function(value){return p.resolve(callback()).then(function(){return value})},function(reason){return p.resolve(callback()).then(function(){throw reason})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if(\"function\"!=typeof onFulfilled&&this.state===FULFILLED||\"function\"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome):this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(\"error\"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},Promise.resolve=function(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)},Promise.reject=function(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)},Promise.all=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);for(;++i<len;)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then(function(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))},function(error){called||(called=!0,handlers.reject(promise,error))})}},Promise.race=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var i=-1,promise=new this(INTERNAL);for(;++i<len;)resolver(iterable[i]);return promise;function resolver(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}}},function(module,exports,__nested_webpack_require_295857__){\"use strict\";(function(global){var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode(\"\");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain=\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")?function(){var scriptEl=global.document.createElement(\"script\");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function(task){1!==queue.push(task)||draining||scheduleDrain()}}).call(this,__nested_webpack_require_295857__(11))},function(module,exports,__nested_webpack_require_297103__){\"use strict\";var GenericWorker=__nested_webpack_require_297103__(2),utils=__nested_webpack_require_297103__(0);function ConvertWorker(destType){GenericWorker.call(this,\"ConvertWorker to \"+destType),this.destType=destType}utils.inherits(ConvertWorker,GenericWorker),ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})},module.exports=ConvertWorker},function(module,exports,__nested_webpack_require_297547__){\"use strict\";var Readable=__nested_webpack_require_297547__(52).Readable;function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options),this._helper=helper;var self=this;helper.on(\"data\",function(data,meta){self.push(data)||self._helper.pause(),updateCb&&updateCb(meta)}).on(\"error\",function(e){self.emit(\"error\",e)}).on(\"end\",function(){self.push(null)})}__nested_webpack_require_297547__(0).inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter},function(module,exports,__nested_webpack_require_298145__){\"use strict\";var StreamHelper=__nested_webpack_require_298145__(60),DataWorker=__nested_webpack_require_298145__(62),utf8=__nested_webpack_require_298145__(14),CompressedObject=__nested_webpack_require_298145__(44),GenericWorker=__nested_webpack_require_298145__(2),ZipObject=function(name,data,options){this.name=name,this.dir=options.dir,this.date=options.date,this.comment=options.comment,this.unixPermissions=options.unixPermissions,this.dosPermissions=options.dosPermissions,this._data=data,this._dataBinary=options.binary,this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType=\"string\";try{if(!type)throw new Error(\"No output type specified.\");var askUnicodeString=\"string\"===(outputType=type.toLowerCase())||\"text\"===outputType;\"binarystring\"!==outputType&&\"text\"!==outputType||(outputType=\"string\"),result=this._decompressWorker();var isUnicodeString=!this._dataBinary;isUnicodeString&&!askUnicodeString&&(result=result.pipe(new utf8.Utf8EncodeWorker)),!isUnicodeString&&askUnicodeString&&(result=result.pipe(new utf8.Utf8DecodeWorker))}catch(e){(result=new GenericWorker(\"error\")).error(e)}return new StreamHelper(result,outputType,\"\")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||\"nodebuffer\").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic)return this._data.getCompressedWorker();var result=this._decompressWorker();return this._dataBinary||(result=result.pipe(new utf8.Utf8EncodeWorker)),CompressedObject.createWorkerFrom(result,compression,compressionOptions)},_decompressWorker:function(){return this._data instanceof CompressedObject?this._data.getContentWorker():this._data instanceof GenericWorker?this._data:new DataWorker(this._data)}};for(var removedMethods=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],removedFn=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;module.exports=ZipObject},function(module,exports,__nested_webpack_require_300443__){\"use strict\";var compressions=__nested_webpack_require_300443__(65),ZipFileWorker=__nested_webpack_require_300443__(117);exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName];if(!compression)throw new Error(compressionName+\" is not a valid compression method !\");return compression}(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo(\"file\",{name:relativePath,dir:dir,date:date,comment:file.comment||\"\",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)}),zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},function(module,exports,__nested_webpack_require_301557__){\"use strict\";var USE_TYPEDARRAY=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,pako=__nested_webpack_require_301557__(108),utils=__nested_webpack_require_301557__(0),GenericWorker=__nested_webpack_require_301557__(2),ARRAY_TYPE=USE_TYPEDARRAY?\"uint8array\":\"array\";function FlateWorker(action,options){GenericWorker.call(this,\"FlateWorker/\"+action),this._pako=null,this._pakoAction=action,this._pakoOptions=options,this.meta={}}exports.magic=\"\\b\\0\",utils.inherits(FlateWorker,GenericWorker),FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}},exports.compressWorker=function(compressionOptions){return new FlateWorker(\"Deflate\",compressionOptions)},exports.uncompressWorker=function(){return new FlateWorker(\"Inflate\",{})}},function(module,exports,__nested_webpack_require_302910__){\"use strict\";var pako={};(0,__nested_webpack_require_302910__(8).assign)(pako,__nested_webpack_require_302910__(109),__nested_webpack_require_302910__(112),__nested_webpack_require_302910__(70)),module.exports=pako},function(module,exports,__nested_webpack_require_303115__){\"use strict\";var zlib_deflate=__nested_webpack_require_303115__(110),utils=__nested_webpack_require_303115__(8),strings=__nested_webpack_require_303115__(68),msg=__nested_webpack_require_303115__(46),ZStream=__nested_webpack_require_303115__(69),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict=\"string\"==typeof opt.dictionary?strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,\"string\"==typeof data?strm.input=strings.string2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||(\"string\"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},function(module,exports,__nested_webpack_require_306184__){\"use strict\";var configuration_table,utils=__nested_webpack_require_306184__(8),trees=__nested_webpack_require_306184__(111),adler32=__nested_webpack_require_306184__(66),crc32=__nested_webpack_require_306184__(67),msg=__nested_webpack_require_306184__(46),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,function(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?function(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):s.strategy===Z_RLE?function(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)},exports.deflateEnd=function(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo=\"pako deflate (from Nodeca project)\"},function(module,exports,__nested_webpack_require_326627__){\"use strict\";var utils=__nested_webpack_require_326627__(8),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function(s){static_init_done||(function(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=function(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),function(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),function(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},function(module,exports,__nested_webpack_require_337205__){\"use strict\";var zlib_inflate=__nested_webpack_require_337205__(113),utils=__nested_webpack_require_337205__(8),strings=__nested_webpack_require_337205__(68),c=__nested_webpack_require_337205__(70),msg=__nested_webpack_require_337205__(46),ZStream=__nested_webpack_require_337205__(69),GZheader=__nested_webpack_require_337205__(116),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&(\"string\"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof data?strm.input=strings.binstring2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__nested_webpack_require_340968__){\"use strict\";var utils=__nested_webpack_require_340968__(8),adler32=__nested_webpack_require_340968__(66),crc32=__nested_webpack_require_340968__(67),inflate_fast=__nested_webpack_require_340968__(114),inflate_table=__nested_webpack_require_340968__(115),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg=\"\",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,DEF_WBITS)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg=\"incorrect header check\",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg=\"invalid window size\",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(57344&state.flags){strm.msg=\"unknown header flags set\",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg=\"header crc mismatch\",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg=\"invalid block type\",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg=\"invalid stored block lengths\",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg=\"too many length or distance symbols\",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid code lengths set\",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg=\"invalid code -- missing end-of-block\",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid literal/lengths set\",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg=\"invalid distances set\",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg=\"invalid literal/length code\",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg=\"invalid distance code\",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg=\"incorrect data check\",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg=\"incorrect length check\",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo=\"pako inflate (from Nodeca project)\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg=\"invalid literal/length code\",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg=\"invalid distance code\",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__nested_webpack_require_361762__){\"use strict\";var utils=__nested_webpack_require_361762__(8),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},function(module,exports,__nested_webpack_require_364508__){\"use strict\";var utils=__nested_webpack_require_364508__(0),GenericWorker=__nested_webpack_require_364508__(2),utf8=__nested_webpack_require_364508__(14),crc32=__nested_webpack_require_364508__(45),signature=__nested_webpack_require_364508__(71),decToHex=function(dec,bytes){var i,hex=\"\";for(i=0;i<bytes;i++)hex+=String.fromCharCode(255&dec),dec>>>=8;return hex},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var dosTime,dosDate,file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo(\"string\",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo(\"string\",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo(\"string\",encodeFileName(comment)),utfEncodedComment=utils.transformTo(\"string\",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,extraFields=\"\",unicodePathExtraField=\"\",unicodeCommentExtraField=\"\",dir=file.dir,date=file.date,dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};streamedContent&&!streamingEnded||(dataInfo.crc32=streamInfo.crc32,dataInfo.compressedSize=streamInfo.compressedSize,dataInfo.uncompressedSize=streamInfo.uncompressedSize);var bitflag=0;streamedContent&&(bitflag|=8),useCustomEncoding||!useUTF8ForFileName&&!useUTF8ForComment||(bitflag|=2048);var extFileAttr=0,versionMadeBy=0;dir&&(extFileAttr|=16),\"UNIX\"===platform?(versionMadeBy=798,extFileAttr|=function(unixPermissions,isDir){var result=unixPermissions;return unixPermissions||(result=isDir?16893:33204),(65535&result)<<16}(file.unixPermissions,dir)):(versionMadeBy=20,extFileAttr|=function(dosPermissions,isDir){return 63&(dosPermissions||0)}(file.dosPermissions)),dosTime=date.getUTCHours(),dosTime<<=6,dosTime|=date.getUTCMinutes(),dosTime<<=5,dosTime|=date.getUTCSeconds()/2,dosDate=date.getUTCFullYear()-1980,dosDate<<=4,dosDate|=date.getUTCMonth()+1,dosDate<<=5,dosDate|=date.getUTCDate(),useUTF8ForFileName&&(unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName,extraFields+=\"up\"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField),useUTF8ForComment&&(unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment,extraFields+=\"uc\"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField);var header=\"\";return header+=\"\\n\\0\",header+=decToHex(bitflag,2),header+=compression.magic,header+=decToHex(dosTime,2),header+=decToHex(dosDate,2),header+=decToHex(dataInfo.crc32,4),header+=decToHex(dataInfo.compressedSize,4),header+=decToHex(dataInfo.uncompressedSize,4),header+=decToHex(encodedFileName.length,2),header+=decToHex(extraFields.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+\"\\0\\0\\0\\0\"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment}};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=comment,this.zipPlatform=platform,this.encodeFileName=encodeFileName,this.streamFiles=streamFiles,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker),ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length;this.accumulate?this.contentBuffer.push(chunk):(this.bytesWritten+=chunk.data.length,GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}}))},ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten,this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(record.dirRecord),streamedContent)this.push({data:function(streamInfo){return signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4)}(streamInfo),meta:{percent:100}});else for(this.push({data:record.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var centralDirLength=this.bytesWritten-localDirLength,dirEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var encodedComment=utils.transformTo(\"string\",encodeFileName(comment));return signature.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment}(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.closedSource(self.previous.streamInfo),self._sources.length?self.prepareNextSource():self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e))return!1;for(var i=0;i<sources.length;i++)try{sources[i].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++)sources[i].lock()},module.exports=ZipFileWorker},function(module,exports,__nested_webpack_require_371435__){\"use strict\";var utils=__nested_webpack_require_371435__(0),GenericWorker=__nested_webpack_require_371435__(2);function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,\"Nodejs stream input adapter for \"+filename),this._upstreamEnded=!1,this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker),NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream,stream.pause(),stream.on(\"data\",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on(\"error\",function(e){self.isPaused?this.generatedError=e:self.error(e)}).on(\"end\",function(){self.isPaused?self._upstreamEnded=!0:self.end()})},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=NodejsStreamInputAdapter},function(module,exports,__nested_webpack_require_372454__){\"use strict\";var utils=__nested_webpack_require_372454__(0),external=__nested_webpack_require_372454__(26),utf8=__nested_webpack_require_372454__(14),ZipEntries=(utils=__nested_webpack_require_372454__(0),__nested_webpack_require_372454__(120)),Crc32Probe=__nested_webpack_require_372454__(64),nodejsUtils=__nested_webpack_require_372454__(31);function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on(\"error\",function(e){reject(e)}).on(\"end\",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(new Error(\"Corrupted zip : CRC32 mismatch\")):resolve()}).resume()})}module.exports=function(data,options){var zip=this;return options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(data)?external.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):utils.prepareContent(\"the loaded zip file\",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);return zipEntries.load(data),zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32)for(var i=0;i<files.length;i++)promises.push(checkEntryCRC32(files[i]));return external.Promise.all(promises)}).then(function(results){for(var zipEntries=results.shift(),files=zipEntries.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}return zipEntries.zipComment.length&&(zip.comment=zipEntries.zipComment),zip})}},function(module,exports,__nested_webpack_require_374350__){\"use strict\";var readerFor=__nested_webpack_require_374350__(72),utils=__nested_webpack_require_374350__(0),sig=__nested_webpack_require_374350__(71),ZipEntry=__nested_webpack_require_374350__(123),support=(__nested_webpack_require_374350__(14),__nested_webpack_require_374350__(7));function ZipEntries(loadOptions){this.files=[],this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+utils.pretty(signature)+\", expected \"+utils.pretty(expectedSignature)+\")\")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var result=this.reader.readString(4)===expectedSignature;return this.reader.setIndex(currentIndex),result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?\"uint8array\":\"array\",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var extraFieldId,extraFieldLength,extraFieldValue,extraDataSize=this.zip64EndOfCentralSize-44;0<extraDataSize;)extraFieldId=this.reader.readInt(2),extraFieldLength=this.reader.readInt(4),extraFieldValue=this.reader.readData(extraFieldLength),this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++)file=this.files[i],this.reader.setIndex(file.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),file.readLocalPart(this.reader),file.handleUTF8(),file.processAttributes()},readCentralDir:function(){var file;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)(file=new ZipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(file);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0)throw!this.isSignature(0,sig.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(offset);var endOfCentralDirOffset=offset;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(offset),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;this.zip64&&(expectedEndOfCentralDirOffset+=20,expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize);var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0)this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=extraBytes);else if(extraBytes<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(extraBytes)+\" bytes.\")},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},module.exports=ZipEntries},function(module,exports,__nested_webpack_require_379849__){\"use strict\";var DataReader=__nested_webpack_require_379849__(74);function StringReader(data){DataReader.call(this,data)}__nested_webpack_require_379849__(0).inherits(StringReader,DataReader),StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero},StringReader.prototype.readAndCheckSignature=function(sig){return sig===this.readData(4)},StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=StringReader},function(module,exports,__nested_webpack_require_380541__){\"use strict\";var Uint8ArrayReader=__nested_webpack_require_380541__(75);function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}__nested_webpack_require_380541__(0).inherits(NodeBufferReader,Uint8ArrayReader),NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=NodeBufferReader},function(module,exports,__nested_webpack_require_380990__){\"use strict\";var readerFor=__nested_webpack_require_380990__(72),utils=__nested_webpack_require_380990__(0),CompressedObject=__nested_webpack_require_380990__(44),crc32fn=__nested_webpack_require_380990__(45),utf8=__nested_webpack_require_380990__(14),compressions=__nested_webpack_require_380990__(65),support=__nested_webpack_require_380990__(7);function ZipEntry(options,loadOptions){this.options=options,this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(reader){var compression,localExtraFieldsLength;if(reader.skip(22),this.fileNameLength=reader.readInt(2),localExtraFieldsLength=reader.readInt(2),this.fileName=reader.readData(this.fileNameLength),reader.skip(localExtraFieldsLength),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(compression=function(compressionMethod){for(var method in compressions)if(compressions.hasOwnProperty(method)&&compressions[method].magic===compressionMethod)return compressions[method];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+utils.pretty(this.compressionMethod)+\" unknown (inner file : \"+utils.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2),reader.skip(2),this.bitFlag=reader.readInt(2),this.compressionMethod=reader.readString(2),this.date=reader.readDate(),this.crc32=reader.readInt(4),this.compressedSize=reader.readInt(4),this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);if(this.extraFieldsLength=reader.readInt(2),this.fileCommentLength=reader.readInt(2),this.diskNumberStart=reader.readInt(2),this.internalFileAttributes=reader.readInt(2),this.externalFileAttributes=reader.readInt(4),this.localHeaderOffset=reader.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");reader.skip(fileNameLength),this.readExtraFields(reader),this.parseZIP64ExtraField(reader),this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===madeBy&&(this.dosPermissions=63&this.externalFileAttributes),3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(reader){if(this.extraFields[1]){var extraReader=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=extraReader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=extraReader.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=extraReader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=extraReader.readInt(4))}},readExtraFields:function(reader){var extraFieldId,extraFieldLength,extraFieldValue,end=reader.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});reader.index<end;)extraFieldId=reader.readInt(2),extraFieldLength=reader.readInt(2),extraFieldValue=reader.readData(extraFieldLength),this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},handleUTF8:function(){var decodeParamType=support.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();if(null!==upath)this.fileNameStr=upath;else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment)this.fileCommentStr=ucomment;else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}},module.exports=ZipEntry},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getHTML=function(content,segments){return'\\n  <div class=\"pushwoosh-subscription-segments\">\\n    <div class=\"pushwoosh-subscription-segments__header\">\\n      '+content.headerText+'\\n    </div>\\n    <div class=\"pushwoosh-subscription-segments__body\">\\n      <div class=\"pushwoosh-subscription-segments__sub-header\">\\n        '+(content.subHeaderText?content.subHeaderText:\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__channels\">\\n        '+segments.reduce(function(result,segment){return result+'<div class=\"pushwoosh-subscription-segments__channel\">\\n            <label class=\"pushwoosh-subscription-segments__label\">\\n              <input\\n                class=\"pushwoosh-subscription-segments__field\" \\n                type=\"checkbox\" \\n                value=\"'+segment.code+'\"\\n                checked=\"true\"\\n              />\\n              <span class=\"pushwoosh-subscription-segments__icon\">\\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n                    <path d=\"M18.0303 8.46967C18.3232 8.76256 18.3232 9.23744 18.0303 9.53033L11.0303 16.5303C10.7374 16.8232 10.2626 16.8232 9.96967 16.5303L6.96967 13.5303C6.67678 13.2374 6.67678 12.7626 6.96967 12.4697C7.26256 12.1768 7.73744 12.1768 8.03033 12.4697L10.5 14.9393L16.9697 8.46967C17.2626 8.17678 17.7374 8.17678 18.0303 8.46967Z\" fill=\"currentColor\"/>\\n                  </svg>\\n              </span>\\n              <span class=\"pushwoosh-subscription-segments__text\">\\n                '+segment.name+\"\\n              </span>\\n            </label>\\n          </div>\"},\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__controls\">\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-deny\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_deny\">\\n          '+content.controlsDenyButtonText+'\\n        </button>\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-accept\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_accept\">\\n          '+content.controlsButtonText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(content){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-subscription-segments * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments {\\n      padding: 24px 16px 16px 24px!important;\\n      user-select: none!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments__header {\\n      font-weight: bold!important;\\n      font-size: 20px!important;\\n      line-height: 23px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n      color: rgba(0, 0, 0, 0.54)!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header:empty {\\n      display:none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channels {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channel + .pushwoosh-subscription-segments__channel {\\n      margin-top: 8px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__label {\\n      display: inline-flex!important;\\n      align-items: flex-start!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field {\\n      display: none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__icon {\\n      display: block!important;\\n      line-height: 0!important;\\n      width: 20px!important;\\n      height: 20px!important;\\n      border: 1px solid #ddd!important;\\n      border-radius: 4px!important;\\n      color: #fff!important;\\n      margin: 2px 8px 0 0!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__text {\\n      color: \"+content.channelsTextColor+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__controls {\\n      margin-top: 24px!important;\\n      text-align: right!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field:checked + .pushwoosh-subscription-segments__icon {\\n      background: \"+content.channelsToggleColor+\"!important;\\n      border: 1px solid transparent!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control {\\n      appearance: none!important;\\n      height: 36px!important;\\n      border-radius: 4px!important;\\n      padding: 0 16px!important;\\n      font-weight: bold!important;\\n      font-size: 14px!important;\\n      line-height: 16px!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control + .pushwoosh-subscription-segments__control {\\n      margin: 0 0 0 4px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_deny {\\n      border: none!important;\\n      color: \"+content.controlsDenyButtonTextColor+\"!important;\\n      background-color: \"+content.controlsDenyButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsDenyButtonRound+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_accept {\\n      border: none!important;\\n      color: \"+content.controlsButtonTextColor+\"!important;\\n      background-color: \"+content.controlsButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsButtonRound+\"!important;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_391575__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscriptionPromptWidget_helpers_1=__nested_webpack_require_391575__(126),SubscriptionPromptWidget_constants_1=__nested_webpack_require_391575__(76),SubscriptionPromptWidget=function(){function SubscriptionPromptWidget(eventBus,pw){this.eventBus=eventBus,this.pw=pw}return SubscriptionPromptWidget.prototype.init=function(params){if(!this.getRootElement()){var html=SubscriptionPromptWidget_helpers_1.getHTML(params),styles=SubscriptionPromptWidget_helpers_1.getStyles(params);document.body.insertAdjacentHTML(\"beforeend\",html),document.head.appendChild(styles)}this.addEventListeners()},SubscriptionPromptWidget.prototype.show=function(){var rootElement=this.getRootElementWithCheckExist();this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),rootElement.classList.add(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")},SubscriptionPromptWidget.prototype.hide=function(){var rootElement=this.getRootElementWithCheckExist();rootElement.classList.contains(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")&&(this.eventBus.dispatchEvent(\"hide-subscription-widget\",{}),rootElement.classList.remove(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\"))},SubscriptionPromptWidget.prototype.getRootElement=function(){return document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-root\")},SubscriptionPromptWidget.prototype.getRootElementWithCheckExist=function(){var element=this.getRootElement();if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getDeclineButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-decline\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getAcceptButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-accept\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\", please use method init first.');return element},SubscriptionPromptWidget.prototype.addEventListeners=function(){var _this=this,rootElement=this.getRootElementWithCheckExist(),declineElement=this.getDeclineButtonWithCheckExist(),acceptElement=this.getAcceptButtonWithCheckExist();document.addEventListener(\"click\",function(event){rootElement.contains(event.target)||_this.hide()}),declineElement.addEventListener(\"click\",function(){_this.hide()}),acceptElement.addEventListener(\"click\",function(){_this.hide(),_this.pw.subscribe()})},SubscriptionPromptWidget}();exports.SubscriptionPromptWidget=SubscriptionPromptWidget},function(module,exports,__nested_webpack_require_394741__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscriptionPromptWidget_constants_1=__nested_webpack_require_394741__(76);exports.getHTML=function(params){return'\\n  <div id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'\">\\n    <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__body\">\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__header\">\\n        '+params.headerText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__description\">\\n        '+params.subheaderText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__controls\">\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_decline\">\\n          '+params.buttonCancelText+'\\n        </button>\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_accept\">\\n          '+params.buttonAcceptText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(params){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      margin: 0 auto;\\n      width: 320px;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show {\\n      display: block;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__body {\\n      width: 320px;\\n      background-color: \"+(params.backgroundColor?params.backgroundColor:\"#FFFFFF\")+\";\\n      box-shadow: 0 9px 15px rgba(0, 0, 0, 0.1), 0 0 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n      padding: 20px 20px 12px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__header {\\n      color: \"+params.headerTextColor+\";\\n      font-size: 18px;\\n      font-weight: bold; \\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description {\\n      color: \"+params.subheaderTextColor+\";\\n      font-size: 14px;\\n      line-height: 1.5;\\n      margin-top: 14px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description:empty {\\n      display: none;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__controls {\\n      display: flex;\\n      flex-wrap: nowrap;\\n      justify-content: flex-end;\\n      margin: 20px 0 0;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control {\\n      -webkit-appearance: none;\\n      border: 1px solid transparent;\\n      font-size: 12px;\\n      font-weight: bold;\\n      padding: 0 20px;\\n      height: 32px;\\n      cursor: pointer;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_decline {\\n      color: \"+params.buttonCancelTextColor+\";\\n      background-color: \"+params.buttonCancelBackgroundColor+\";\\n      border-radius: \"+params.buttonCancelRound+\";\\n      border-color: \"+params.buttonCancelBorderColor+\";\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_accept {\\n      color: \"+params.buttonAcceptTextColor+\";\\n      background-color: \"+params.buttonAcceptBackgroundColor+\";\\n      border-radius: \"+params.buttonAcceptRound+\";\\n      border-color: \"+params.buttonAcceptBorderColor+\";\\n      margin: 0 0 0 12px;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_399254__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_399254__(1),functions_1=__nested_webpack_require_399254__(10),storage_1=__nested_webpack_require_399254__(3),FacebookModule=function(){function FacebookModule(config){this.userRef=functions_1.generateUUID(),this.config=config,this.init()}return FacebookModule.prototype.init=function(){this.renderCheckbox(),this.initFacebookSDK(),this.loadFacebookSDK()},FacebookModule.prototype.renderCheckbox=function(){for(var _a=this.config,pageId=_a.pageId,containerClass=_a.containerClass,attributes=[{name:\"messenger_app_id\",value:constants_1.FACEBOOK_APP_ID},{name:\"class\",value:\"fb-messenger-checkbox\"},{name:\"page_id\",value:pageId},{name:\"origin\",value:window.location.protocol+\"//\"+window.location.hostname},{name:\"user_ref\",value:this.userRef},{name:\"allow_login\",value:\"true\"},{name:\"size\",value:\"large\"},{name:\"skin\",value:\"light\"},{name:\"center_align\",value:\"false\"}],nodes=document.getElementsByClassName(containerClass),_loop_1=function(index){var node=document.createElement(\"div\");attributes.forEach(function(attribute){node.setAttribute(attribute.name,attribute.value)}),nodes[index].appendChild(node)},index=0;index<nodes.length;index++)_loop_1(index)},FacebookModule.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){var hwid,applicationCode,newHWID;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.get(constants_1.FACEBOOK_HWID_KEY)];case 1:return(hwid=_a.sent())?[3,3]:(applicationCode=this.config.applicationCode,newHWID=applicationCode+\"_\"+functions_1.generateUUID()+\"_fb\",[4,storage_1.keyValue.set(constants_1.FACEBOOK_HWID_KEY,newHWID)]);case 2:return _a.sent(),[2,newHWID];case 3:return[2,hwid]}})})},FacebookModule.prototype.userConfirm=function(){return __awaiter(this,void 0,void 0,function(){var _a,pageId,applicationCode,userId,FB,facebookHwid;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.config,pageId=_a.pageId,applicationCode=_a.applicationCode,userId=_a.userId,FB=window.FB,[4,this.getHWID()];case 1:return facebookHwid=_b.sent(),FB&&FB.AppEvents.logEvent(\"MessengerCheckboxUserConfirmation\",null,{app_id:constants_1.FACEBOOK_APP_ID,page_id:pageId,ref:JSON.stringify({applicationCode:applicationCode,userId:userId,hwid:facebookHwid}),user_ref:this.userRef}),[2]}})})},FacebookModule.prototype.initFacebookSDK=function(){var _this=this;window.fbAsyncInit=function(){window.FB.init({appId:constants_1.FACEBOOK_APP_ID,xfbml:!0,version:\"v3.2\"}),window.FB.Event.subscribe(\"messenger_checkbox\",function(_a){\"checkbox\"===_a.event&&_this.userConfirm()})}},FacebookModule.prototype.loadFacebookSDK=function(){var language=navigator.language||\"en_US\";!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||((js=d.createElement(s)).id=id,js.src=\"https://connect.facebook.net/\"+language+\"/sdk.js\",fjs&&fjs.parentNode.insertBefore(js,fjs))}(document,\"script\",\"facebook-jssdk\")},FacebookModule}();exports.default=FacebookModule},function(module,exports,__nested_webpack_require_404017__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Modal_1=__nested_webpack_require_404017__(129),RichMedia_1=__nested_webpack_require_404017__(131),expanders_1=__nested_webpack_require_404017__(141),Data_1=__nested_webpack_require_404017__(5),InApps=function(){function InApps(options,pw,eventBus,api){this.delayInApps=[],this.isLoadedInAppsList=!1,this.pw=pw,this.options=options,this.eventBus=eventBus,this.api=api,this.modal=new Modal_1.Modal(this.options&&this.options.modal?this.options.modal:{}),this.data=new Data_1.Data}return InApps.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inApps,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return this.subscribeToReceiveMessageFromIFrame(),this.eventBus.addEventHandler(\"receive-in-app-code\",function(_a){var code=_a.code;_this.isLoadedInAppsList?_this.showInApp(code):_this.delayInApps.push(code)}),[4,this.getList()];case 1:return inApps=_a.sent().inApps,this.delayInApps.length&&this.delayInApps.forEach(function(code){_this.showInApp(code)}),this.isLoadedInAppsList=!0,[4,this.data.setInApps(inApps)];case 2:return _a.sent(),this.inApps=inApps,[2]}})})},InApps.prototype.subscribeToReceiveMessageFromIFrame=function(){var _this=this;window.addEventListener(\"message\",function(event){if(event.source&&(event.source===window||\"parent\"in event.source&&event.source.parent===window))try{var data=JSON.parse(event.data);data&&\"object\"==typeof data&&_this.onReceiveNewMessageFromIFrame(data)}catch(e){}})},InApps.prototype.onReceiveNewMessageFromIFrame=function(message){var _this=this;switch(message.method){case\"subscribe\":this.pw.subscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"unsubscribe\":this.pw.unsubscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"getTags\":this.pw.api.getTags().then(function(_a){var result=_a.result;_this.modal.postMessage({code:message.code,tags:result})});break;case\"setTags\":this.pw.api.setTags(message.options.tags).then(function(){_this.modal.postMessage({code:message.code})});break;case\"getChannels\":this.data.getFeatures().then(function(_a){var channels=_a.channels;_this.modal.postMessage({code:message.code,channels:channels})});break;case\"checkSubscription\":this.api.checkDeviceSubscribeForPushNotifications().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"checkManualUnsubscribed\":this.data.getStatusManualUnsubscribed().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"closeInApp\":this.modal.hide();break;case\"openLink\":window.open(message.options.href,\"_blank\")}},InApps.prototype.showInApp=function(code){return __awaiter(this,void 0,void 0,function(){var filteredRichMedia,currentRichMedia,inAppContent;return __generator(this,function(_a){switch(_a.label){case 0:if(1!==(filteredRichMedia=this.inApps.filter(function(inApp){return inApp.code===code})).length)throw new Error(\"Can't find Rich Media\");return this.modal.setLoading().show(),currentRichMedia=filteredRichMedia[0],[4,new RichMedia_1.RichMedia(currentRichMedia.url,this.api,[expanders_1.ExpanderPushwooshSendMessage,expanders_1.ExpanderPushwoosh,expanders_1.ExpanderPushManager]).getContent()];case 1:return inAppContent=_a.sent(),[4,this.modal.setContent(inAppContent)];case 2:return _a.sent(),this.modal.removeLoading().showContent(),[2]}})})},InApps.prototype.getList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.getInApps()]})})},InApps}();exports.InApps=InApps},function(module,exports,__nested_webpack_require_409324__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Modal_constants_1=__nested_webpack_require_409324__(130),Modal=function(){function Modal(options){var _this=this;void 0===options&&(options={});var wrapper=document.getElementById(Modal_constants_1.MODAL_WRAPPER_NAMESPACE),inner=document.getElementById(Modal_constants_1.MODAL_INNER_NAMESPACE),loader=document.getElementById(Modal_constants_1.MODAL_LOADER_NAMESPACE),iframe=document.getElementById(Modal_constants_1.MODAL_IFRAME_NAMESPACE),close=document.getElementById(Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE);if(this.option=__assign(__assign({},Modal_constants_1.MODAL_DEFAILT_OPTIONS),options),!(wrapper&&inner&&loader&&iframe&&close)){(wrapper=document.createElement(\"div\")).id=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,(inner=document.createElement(\"div\")).id=Modal_constants_1.MODAL_INNER_NAMESPACE,inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,(loader=document.createElement(\"div\")).id=Modal_constants_1.MODAL_LOADER_NAMESPACE,loader.className=Modal_constants_1.MODAL_LOADER_NAMESPACE,(close=document.createElement(\"button\")).id=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,close.className=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,(iframe=document.createElement(\"iframe\")).id=Modal_constants_1.MODAL_IFRAME_NAMESPACE,iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,inner.appendChild(iframe),inner.appendChild(close),this.option.isShowPreloader&&inner.appendChild(loader),wrapper.appendChild(inner),document.body.appendChild(wrapper);var style=document.createElement(\"style\");style.innerHTML=\"\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          z-index: 2147483648;\\n          opacity: 0.999;\\n          display:none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading {\\n          background-color: \"+this.option.backgroundColor+\";\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\" {\\n          appearance: none;\\n          border: none;\\n          background-color: transparent;\\n          box-shadow: none;\\n          position: absolute;\\n          top: 20px;\\n          right: 20px;\\n          width: 40px;\\n          height: 40px;\\n          cursor: pointer;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":before {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: block;\\n          position: absolute;\\n          top: 50%;\\n          left: 50%;\\n          transform: translate(-50%, -50%);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\",\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          border-radius: 50%;\\n          width: 2.5em;\\n          height: 2.5em;\\n          -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n          -webkit-animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n          animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          color: #ffffff;\\n          font-size: 10px;\\n          text-indent: -9999em;\\n          -webkit-transform: translateZ(0);\\n          -ms-transform: translateZ(0);\\n          transform: translateZ(0);\\n          -webkit-animation-delay: -0.16s;\\n          animation-delay: -0.16s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 0;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before {\\n          left: -3.5em;\\n          -webkit-animation-delay: -0.32s;\\n          animation-delay: -0.32s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          left: 3.5em;\\n        }\\n\\n        @-webkit-keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        @keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n          padding: 0;\\n          border: none;\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n      \",document.head.appendChild(style)}this.wrapper=wrapper,this.inner=inner,this.iframe=iframe,close.addEventListener(\"click\",function(){_this.hide()})}return Modal.prototype.postMessage=function(data){this.iframe.contentWindow.postMessage(JSON.stringify(data),\"*\")},Modal.prototype.show=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" \"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show\",document.body.style.overflow=\"hidden\",this},Modal.prototype.hide=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,document.body.style.overflow=\"auto\",this},Modal.prototype.setLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE+\" \"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading\",this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,this},Modal.prototype.removeLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this},Modal.prototype.setContent=function(content){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return this.iframe.srcdoc=content,[2,new Promise(function(resolve,reject){_this.iframe.onload=resolve,_this.iframe.onerror=reject})]})})},Modal.prototype.showContent=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" \"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show\",this},Modal}();exports.Modal=Modal},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MODAL_WRAPPER_NAMESPACE=\"pushwoosh-in-app-modal-wrapper\",exports.MODAL_INNER_NAMESPACE=\"pushwoosh-in-app-modal-inner\",exports.MODAL_LOADER_NAMESPACE=\"pushwoosh-in-app-modal-loader\",exports.MODAL_CLOSE_BUTTON_NAMESPACE=\"pushwoosh-in-app-modal-close-button\",exports.MODAL_IFRAME_NAMESPACE=\"pushwoosh-in-app-modal-iframe\",exports.MODAL_DEFAILT_OPTIONS={backgroundColor:\"rgba(0, 0, 0, .8)\",closeButtonColor:\"rgba(255, 255, 255, .8)\",closeButtonHoverColor:\"rgba(255, 255, 1)\",isShowPreloader:!0,preloaderColor:\"rgba(255, 255, 255, 1)\"}},function(module,exports,__nested_webpack_require_419575__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var detect_browser_1=__nested_webpack_require_419575__(132),getZip_1=__nested_webpack_require_419575__(50),DynamicContent_1=__nested_webpack_require_419575__(133),RichMediaExpander_1=__nested_webpack_require_419575__(135),ExternalResources_1=__nested_webpack_require_419575__(136),RichMedia=function(){function RichMedia(url,api,expanders){this.url=url,this.api=api,this.expanders=expanders}return RichMedia.prototype.getContent=function(){return __awaiter(this,void 0,void 0,function(){var language,jszip,values,_a,_b,content,browser,context;return __generator(this,function(_c){switch(_c.label){case 0:return[4,this.api.getTags()];case 1:return language=_c.sent().result.Language,[4,getZip_1.getZip(this.url)];case 2:if(!(jszip=_c.sent()).files[\"index.html\"])throw new Error(\"Can't find index.html\");if(!jszip.files[\"pushwoosh.json\"])throw new Error(\"Can't find pushwoosh.json\");return _b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 3:return values=_b.apply(_a,[_c.sent()]),[4,jszip.file(\"index.html\").async(\"text\")];case 4:return content=_c.sent(),browser=detect_browser_1.detect(),context={platform:\"web\",browser:browser&&browser.name||\"unknown\",os:browser&&browser.os||\"unknown\",isMobileBrowser:this.checkIsMobileBrowser()},content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),[4,new ExternalResources_1.ExternalResources(content,jszip).getReplacedContent()];case 5:return content=_c.sent(),content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),content=new RichMediaExpander_1.RichMediaExpander(content,['<script type=\"text/javascript\">\\n          window.pushwoosh.platform = \\''+context.platform.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.browser = '\"+context.browser.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.os = '\"+context.os.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.isMobileBrowser = \"+context.isMobileBrowser+\";\\n        <\\/script>\"]).uploadExpanders(),[2,content=new RichMediaExpander_1.RichMediaExpander(content,this.expanders).uploadExpanders()]}})})},RichMedia.prototype.checkIsMobileBrowser=function(){var isMobileBrowser=!1;return function(str){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(str)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(str.substr(0,4)))&&(isMobileBrowser=!0)}(navigator.userAgent||navigator.vendor||window.opera),isMobileBrowser},RichMedia}();exports.RichMedia=RichMedia},function(module,exports,__nested_webpack_require_425651__){\"use strict\";(function(process){var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var BrowserInfo=function(){return function(name,version,os){this.name=name,this.version=version,this.os=os}}();exports.BrowserInfo=BrowserInfo;var NodeInfo=function(){return function(version){this.version=version,this.name=\"node\",this.os=process.platform}}();exports.NodeInfo=NodeInfo;var BotInfo=function(){return function(){this.bot=!0,this.name=\"bot\",this.version=null,this.os=null}}();exports.BotInfo=BotInfo;var REQUIRED_VERSION_PARTS=3,userAgentRules=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"vivaldi\",/Vivaldi\\/([0-9\\.]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/Edg\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],operatingSystemRules=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/],[\"Search Bot\",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];function parseUserAgent(ua){var matchedRule=\"\"!==ua&&userAgentRules.reduce(function(matched,_a){var browser=_a[0],regex=_a[1];if(matched)return matched;var uaMatch=regex.exec(ua);return!!uaMatch&&[browser,uaMatch]},!1);if(!matchedRule)return null;var name=matchedRule[0],match=matchedRule[1];if(\"searchbot\"===name)return new BotInfo;var versionParts=match[1]&&match[1].split(/[._]/).slice(0,3);return versionParts?versionParts.length<REQUIRED_VERSION_PARTS&&(versionParts=__spreadArrays(versionParts,function(count){for(var output=[],ii=0;ii<count;ii++)output.push(\"0\");return output}(REQUIRED_VERSION_PARTS-versionParts.length))):versionParts=[],new BrowserInfo(name,versionParts.join(\".\"),detectOS(ua))}function detectOS(ua){for(var ii=0,count=operatingSystemRules.length;ii<count;ii++){var _a=operatingSystemRules[ii],os=_a[0];if(_a[1].test(ua))return os}return null}function getNodeVersion(){return void 0!==process&&process.version?new NodeInfo(process.version.slice(1)):null}exports.detect=function(userAgent){return userAgent?parseUserAgent(userAgent):\"undefined\"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()},exports.parseUserAgent=parseUserAgent,exports.detectOS=detectOS,exports.getNodeVersion=getNodeVersion}).call(this,__nested_webpack_require_425651__(24))},function(module,exports,__nested_webpack_require_430076__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DynamicContent_constants_1=__nested_webpack_require_430076__(134),DynamicContent=function(){function DynamicContent(content,values,language){this.content=content,this.values=values,this.language=language}return DynamicContent.prototype.getReplacedContent=function(){var _this=this,regexp=new RegExp(\"\\\\{\\\\{[^\\\\}\\\\}]*}}\",\"gm\");return this.content.replace(regexp,function(substring){var pattern=substring.replace(\"}}\",\"\").replace(\"{{\",\"\");return _this.getResultingContent(pattern)})},DynamicContent.prototype.getResultingContent=function(pattern){var _a=pattern.split(\"|\"),name=_a[0],modifier=_a[1],_b=_a[2],value=void 0===_b?\"\":_b,hasReplacedValueByCurrentLanguage=this.values.localization&&this.values.localization[this.language]&&this.values.localization[this.language][name],hasReplacedValueByDefaultLanguage=this.values.localization&&this.values.localization[this.values.default_language]&&this.values.localization[this.values.default_language][name];return hasReplacedValueByCurrentLanguage?value=this.values.localization[this.language][name]:hasReplacedValueByDefaultLanguage&&(value=this.values.localization[this.values.default_language][name]),this.updateStringByModifier(value,modifier)},DynamicContent.prototype.updateStringByModifier=function(string,modifier){switch(modifier.toLowerCase()){case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST:return string=(string=string.toLowerCase()).charAt(0).toUpperCase()+string.substring(1);case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST:for(var arrLetters=string.toLowerCase().split(\" \"),i=0;i<arrLetters.length;i++)arrLetters[i]=arrLetters[i].charAt(0).toUpperCase()+arrLetters[i].substring(1);return string=arrLetters.join(\" \");case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_UPPERCASE:return string.toUpperCase();case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_LOWERCASE:return string.toLowerCase();default:return string}},DynamicContent}();exports.DynamicContent=DynamicContent},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST=\"capitalizefirst\",exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST=\"capitalizeallfirst\",exports.DYNAMIC_CONTENT_MODIFIER_UPPERCASE=\"uppercase\",exports.DYNAMIC_CONTENT_MODIFIER_LOWERCASE=\"lowercase\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaExpander=function(){function RichMediaExpander(content,expanders){void 0===expanders&&(expanders=[]),this.content=content,this.expanders=expanders}return RichMediaExpander.prototype.uploadExpanders=function(){var merge=this.expanders.join(\"\\r\\n\");return this.content.replace(\"<head>\",\"<head>\"+merge)},RichMediaExpander}();exports.RichMediaExpander=RichMediaExpander},function(module,exports,__nested_webpack_require_433044__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_433044__(4),UrlParser_1=__nested_webpack_require_433044__(137),ExternalResources_constants_1=__nested_webpack_require_433044__(140),ExternalResources=function(){function ExternalResources(content,jszip){this.content=content,this.jszip=jszip}return ExternalResources.prototype.getReplacedContent=function(){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return[2,this.replaceExternalStyles(this.content).then(function(content){return _this.replaceExternalBackgroundUrl(content)}).then(function(content){return _this.replaceExternalImage(content)}).then(function(content){return _this.replaceExternalScript(content)})]})})},ExternalResources.prototype.replaceExternalStyles=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"style\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,relative;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return content=_a.sent(),relative=path.split(\"/\").splice(-1,1).join(\"/\"),[4,this.replaceExternalBackgroundUrl(content,relative)];case 3:return[2,'<style type=\"text/css\">'+_a.sent().replace(\"\\n\",\"\")+\"</style>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalBackgroundUrl=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"backgroundUrl\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'url(\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\")']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalImage=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"image\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'<img src=\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\" alt=\"\">']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalScript=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"script\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return[2,\"<script>\"+_a.sent()+\"<\\/script>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.getSearchPattern=function(type){switch(type){case\"style\":return\"<link[^>]*href=('|\\\")([^>]*.(css))('|\\\")[^>]*>\";case\"backgroundUrl\":return\"url\\\\s*\\\\(('|\\\")?([^)]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")?\\\\s*\\\\)\";case\"image\":return\"<img[^\\\\/?>]*src=('|\\\")([^>]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")[^\\\\/?>]*>\";case\"script\":return\"<script[^>]*src=('|\\\")(.*\\\\.js)('|\\\")[^>]*>(\\\\n|\\\\r|\\\\s)*<\\\\/script>\"}},ExternalResources.prototype.replacer=function(content,pattern,callback){return __awaiter(this,void 0,void 0,function(){var arPromises,regexp,replaces;return __generator(this,function(_a){switch(_a.label){case 0:return arPromises=[],regexp=new RegExp(pattern,\"g\"),content.replace(regexp,function(substring){return arPromises.push(callback(substring)),substring}),[4,Promise.all(arPromises)];case 1:return replaces=_a.sent(),[2,content.replace(regexp,function(){return replaces.shift()||\"\"})]}})})},ExternalResources.prototype.getReplacedFilePath=function(substring,pattern,matchPosition,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var regexp,matches,match,url,path;return __generator(this,function(_a){return regexp=new RegExp(pattern),(matches=substring.match(regexp))&&matches.length?(match=matches[matchPosition],(url=new UrlParser_1.UrlParser(match,base)).checkIsAbsolutePath()?[2]:(path=url.getRelativePath(),this.jszip.files[path]?[2,path]:(logger_1.Logger.write(\"error\",'Not found file: \"'+path+'\" for replace.'),[2]))):[2]})})},ExternalResources}();exports.ExternalResources=ExternalResources},function(module,exports,__nested_webpack_require_440509__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var resolver=__nested_webpack_require_440509__(138),UrlParser_constants_1=__nested_webpack_require_440509__(139),UrlParser=function(){function UrlParser(url,base){void 0===base&&(base=\"/\"),this.url=url,this.base=base}return UrlParser.prototype.checkIsAbsolutePath=function(){return new RegExp(\"^(?:[a-z]+:)?//\",\"i\").test(this.url)},UrlParser.prototype.getRelativePath=function(){var pathWithBase=resolver(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,this.base);return resolver(pathWithBase,this.url).replace(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,\"\")},UrlParser}();exports.UrlParser=UrlParser},function(module,exports,__webpack_require__){\"use strict\";function _addSlash(url){return url+(\"/\"===url[url.length-1]?\"\":\"/\")}function _pathResolve(path){var pathSplit=path.split(\"/\");\"\"===pathSplit[0]&&(pathSplit=pathSplit.slice(1));var resultArray=[];return pathSplit.forEach(function(current,index){\".\"!==current&&(\"..\"===current?resultArray.pop():\"\"!==current&&resultArray.push(current))}),\"/\"+resultArray.join(\"/\")}module.exports=function(base,relative){if(base=base.trim(),(relative=relative.trim()).startsWith(\"about:\"))return relative;if(\"\"===base)return _shouldAddSlash(relative)?_addSlash(relative):relative;var baseObj=function(base){var resultObject={host:\"\",path:\"\",query:\"\",protocol:\"\"},path=base,protocolEndIndex=base.indexOf(\"//\");if(-1===protocolEndIndex)throw new Error(\"Error, protocol is not specified\");resultObject.protocol=path.substring(0,protocolEndIndex),protocolEndIndex+=2;var pathIndex=base.indexOf(\"/\",protocolEndIndex),queryIndex=base.indexOf(\"?\"),hashIndex=base.indexOf(\"#\");-1!==hashIndex&&(path=path.substring(0,hashIndex));if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}if(-1!==pathIndex){var host=path.substring(0,pathIndex);resultObject.host=host,path=path.substring(pathIndex),resultObject.path=path}else resultObject.host=path;return resultObject}(base);if(\"\"===relative){var host=baseObj.host,path=baseObj.path,query=baseObj.query;return path||query?host+path+query:_addSlash(host)}var relativeObj=function(relative){var resultObject={href:relative,hash:\"\",query:\"\",netPath:!1,absolutePath:!1,relativePath:!1};if(_isAbsolute.test(relative))return resultObject.netPath=!0,resultObject;\"/\"===relative[0]?resultObject.absolutePath=!0:resultObject.relativePath=!0;var path=relative,queryIndex=relative.indexOf(\"?\"),hashIndex=relative.indexOf(\"#\");if(-1!==hashIndex){var hash=path.substring(hashIndex);resultObject.hash=hash,path=path.substring(0,hashIndex)}if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}return resultObject.path=path,resultObject}(relative);if(relativeObj.netPath)return function(url){return url.startsWith(\"//\")}(relativeObj.href)&&(relativeObj.href=baseObj.protocol+relativeObj.href),_shouldAddSlash(relativeObj.href)?_addSlash(relativeObj.href):relativeObj.href;if(relativeObj.absolutePath){var _path=relativeObj.path,_query=relativeObj.query,hash=relativeObj.hash;return baseObj.host+_pathResolve(_path)+_query+hash}if(relativeObj.relativePath){var resolvePath,_path2=relativeObj.path,_query2=relativeObj.query,_hash=relativeObj.hash,basePath=baseObj.path,resultString=baseObj.host;return 0===_path2.length?resolvePath=basePath:(basePath=basePath.substring(0,basePath.lastIndexOf(\"/\")),resolvePath=_pathResolve(basePath+\"/\"+_path2)),resultString+=\"\"!==resolvePath||_query2||_hash?resolvePath+_query2+_hash:\"/\"}};var _isAbsolute=new RegExp(\"^(\".concat(\"[a-z][a-z0-9+.-]*\",\":)?//\"),\"i\");function _shouldAddSlash(url){var protocolIndex=url.indexOf(\"//\")+2,noPath=!url.includes(\"/\",protocolIndex),noQuery=!url.includes(\"?\",protocolIndex),noHash=!url.includes(\"#\",protocolIndex);return noPath&&noQuery&&noHash}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.URL_PARSER_PSEUDO_DOMAIN=\"https://pushwoosh.com/\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP=2},function(module,exports,__nested_webpack_require_444735__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaPushwooshSendMessage_html_1=__nested_webpack_require_444735__(142);exports.ExpanderPushwooshSendMessage=RichMediaPushwooshSendMessage_html_1.default;var RichMediaPushwoosh_html_1=__nested_webpack_require_444735__(143);exports.ExpanderPushwoosh=RichMediaPushwoosh_html_1.default;var RichMediaPushManager_html_1=__nested_webpack_require_444735__(144);exports.ExpanderPushManager=RichMediaPushManager_html_1.default},function(module,__webpack_exports__,__nested_webpack_require_445245__){\"use strict\";__nested_webpack_require_445245__.r(__webpack_exports__),__webpack_exports__.default='<script type=\"text/javascript\">\\n  function PushwooshSendMessage(message, success, failure) {\\n    var code = uuidv4();\\n\\n    if (success) {\\n      window.addEventListener(\\'message\\', function (event) {\\n        if (!event.source) {\\n          return;\\n        }\\n\\n        if (window.top === event.source.parent) {\\n          try {\\n            const data = JSON.parse(event.data);\\n\\n            if (data && data.code === code) {\\n              success && success(data);\\n            }\\n          } catch (error) {\\n            failure && failure(error);\\n          }\\n        }\\n      });\\n    }\\n\\n    var data = Object.assign(\\n      message,\\n      {\\n        code: code\\n      }\\n    );\\n\\n    window.parent.postMessage(JSON.stringify(data), \"*\");\\n\\n    function uuidv4() {\\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\\n        var r = (Math.random() * 16) | 0,\\n          v = c == \"x\" ? r : (r & 0x3) | 0x8;\\n        return v.toString(16);\\n      });\\n    }\\n  }\\n<\\/script>\\n'},function(module,__webpack_exports__,__nested_webpack_require_446417__){\"use strict\";__nested_webpack_require_446417__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshBridge() {\\n    var self = this;\\n\\n    self.isWebSDK = true;\\n    self.isSafari = navigator.userAgent.toLowerCase().indexOf('safari') !== -1\\n      && navigator.userAgent.toLowerCase().indexOf('chrome') === -1;\\n\\n    self.registerForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'subscribe',\\n      })\\n    };\\n\\n    self.unregisterForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'unsubscribe',\\n      });\\n    };\\n\\n    self.getTags = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getTags',\\n      }, function (result) {\\n        onSuccessCallback(result && result.tags);\\n      })\\n    };\\n\\n    self.sendTags = function (tags) {\\n      PushwooshSendMessage({\\n        method: 'setTags',\\n        options: {\\n          tags: tags\\n        },\\n      });\\n    };\\n\\n    self.isRegisteredForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkSubscription',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.isManualUnregisterForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkManualUnsubscribed',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.getChannels = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getChannels',\\n      }, function (result) {\\n        onSuccessCallback(result.channels)\\n      });\\n    };\\n  }\\n\\n  window.pushwoosh = new PushwooshBridge();\\n<\\/script>\\n\"},function(module,__webpack_exports__,__nested_webpack_require_448247__){\"use strict\";__nested_webpack_require_448247__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshPushManagerBridge() {\\n    var self = this;\\n    var absoluteURLPattern = new RegExp('^(?:[a-z]+:)?//', 'i');\\n\\n    self.closeInApp = function (options) {\\n      PushwooshSendMessage({\\n        method: 'closeInApp',\\n        options: options,\\n      });\\n    };\\n\\n    self.openLink = function (options) {\\n      PushwooshSendMessage({\\n        method: 'openLink',\\n        options: options,\\n      });\\n    };\\n\\n    window.addEventListener('load', function () {\\n      var closeLinks = document.querySelectorAll('a[href=\\\"pushwoosh://close\\\"]');\\n      var otherLinks = document.querySelectorAll('a:not([href=\\\"pushwoosh://close\\\"])');\\n\\n      for (var i = 0; i < closeLinks.length; i++) {\\n        closeLinks[i].addEventListener('click', function (event) {\\n          event.preventDefault();\\n\\n          self.closeInApp();\\n        });\\n      }\\n\\n      for (var j = 0; j < otherLinks.length; j++) {\\n        var href = otherLinks[j].getAttribute('href');\\n\\n        if (absoluteURLPattern.test(href)) {\\n          otherLinks[j].addEventListener('click', function (event) {\\n            event.preventDefault();\\n\\n            self.openLink({\\n              href: event.target.href\\n            });\\n\\n            self.closeInApp();\\n          });\\n        }\\n      }\\n    });\\n  }\\n\\n  window.pushManager = new PushwooshPushManagerBridge();\\n<\\/script>\\n\"},function(module,exports,__nested_webpack_require_449795__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_449795__(1),PlatformChecker_1=__nested_webpack_require_449795__(21),constants_2=__nested_webpack_require_449795__(77),positioning_1=__nested_webpack_require_449795__(146),bell_1=__nested_webpack_require_449795__(147),storage_1=__nested_webpack_require_449795__(3),SubscribeWidget=function(){function SubscribeWidget(pw){var _this=this;if(this.pw=pw,PlatformChecker_1.default.isAvailableNotifications){this.clickBell=this.clickBell.bind(this),this.onSubscribeEvent=this.onSubscribeEvent.bind(this),this.onUnsubscribeEvent=this.onUnsubscribeEvent.bind(this),this.onPermissionDeniedEvent=this.onPermissionDeniedEvent.bind(this),this.clickOutOfPopover=this.clickOutOfPopover.bind(this),this.onClickBellIfEnableChannels=this.onClickBellIfEnableChannels.bind(this);var tooltipText=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG.tooltipText,pw.subscribeWidgetConfig.tooltipText);this.config=Object.assign({},constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG,pw.subscribeWidgetConfig),this.config.tooltipText=tooltipText;var arrActions=[],isEnableChannels=pw.isEnableChannels(),isSubscribed=pw.isSubscribed();arrActions.push(isEnableChannels),arrActions.push(isSubscribed),Promise.all(arrActions).then(function(_a){var isEnableChannels=_a[0],isSubscribed=_a[1];isEnableChannels&&(_this.isEnableChannels=!0),isSubscribed&&!isEnableChannels||_this.render()})}else console.warn(\"Browser does not support push notifications\")}return SubscribeWidget.prototype.addStylesToElement=function(styles,element){Object.keys(styles).forEach(function(st){element.style[st]=styles[st]})},SubscribeWidget.prototype.createContainer=function(){var container=document.createElement(\"div\");container.id=constants_2.WIDGET_CONTAINER_ID,container.className=\"pushwoosh-subscribe-widget\";var position=positioning_1.default.getBellPosition(this.config.position,this.config.indent),styles=Object.assign({zIndex:this.config.zIndex},position);return this.addStylesToElement(styles,container),container},SubscribeWidget.prototype.createStyle=function(){var styles=__nested_webpack_require_449795__(148),styleNode=document.createElement(\"style\");return styleNode.innerHTML=styles,styleNode},SubscribeWidget.prototype.createBell=function(){var bell,config=this.config;return config.buttonImage?(bell=document.createElement(\"img\")).src=config.buttonImage:(bell=document.createElement(\"div\"),this.addStylesToElement({backgroundColor:config.bgColor,boxShadow:config.shadow,lineHeight:config.size,border:config.bellButtonBorder},bell),bell.innerHTML=bell_1.default(config.bellColor,config.bellStrokeColor)),this.addStylesToElement({width:config.size,height:config.size},bell),bell.className=\"pushwoosh-subscribe-widget__bell-button\",bell},SubscribeWidget.prototype.createTooltip=function(){return __awaiter(this,void 0,void 0,function(){var tooltip,_a,position,modification,_b,_c;return __generator(this,function(_d){switch(_d.label){case 0:return tooltip=document.createElement(\"div\"),_a=positioning_1.default.getTooltipPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1],tooltip.className=\"pushwoosh-subscribe-widget__tooltip pushwoosh-subscribe-widget__tooltip__\"+modification,this.addStylesToElement(position,tooltip),_c=(_b=tooltip).appendChild,[4,this.createTooltipContent()];case 1:return _c.apply(_b,[_d.sent()]),[2,tooltip]}})})},SubscribeWidget.prototype.createTooltipContent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return tooltipContent=document.createElement(\"div\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),tooltipContent.className=\"pushwoosh-subscribe-widget__tooltip-content\",[2,tooltipContent]}})})},SubscribeWidget.prototype.tooltipTextFactory=function(){return __awaiter(this,void 0,void 0,function(){var permission,tooltipText,isManuallyUnsubscribed;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return permission=_a.sent(),tooltipText=this.config.tooltipText,[4,storage_1.keyValue.get(constants_1.MANUAL_UNSUBSCRIBE)];case 2:switch(isManuallyUnsubscribed=_a.sent(),permission){case constants_1.PERMISSION_GRANTED:return[2,isManuallyUnsubscribed?tooltipText.needSubscribe:tooltipText.alreadySubscribed];case constants_1.PERMISSION_PROMPT:return[2,tooltipText.needSubscribe];case constants_1.PERMISSION_DENIED:return[2,tooltipText.blockSubscribe];default:return[2,tooltipText.needSubscribe]}return[2]}})})},SubscribeWidget.prototype.createPopover=function(){var popoverContentWrapper=document.createElement(\"div\"),popover=document.createElement(\"div\"),_a=positioning_1.default.getPopoverPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1];popover.className=\"pushwoosh-subscribe-widget__popover pushwoosh-subscribe-widget__popover__\"+modification,popoverContentWrapper.className=\"pushwoosh-subscribe-widget__popover-content-wrapper\",this.style.innerHTML+=positioning_1.default.getPopoverArrowPosition(this.config.position,this.config.size);var styles=Object.assign({maxWidth:\"calc(100vw - \"+this.config.indent+\" - \"+this.config.indent+\")\"},position);return this.addStylesToElement(styles,popover),popoverContentWrapper.appendChild(this.createPopoverContent()),popover.appendChild(popoverContentWrapper),popover},SubscribeWidget.prototype.getBrowserName=function(){return PlatformChecker_1.default.isOpera?\"opera\":11===PlatformChecker_1.default.platform&&navigator.userAgent.match(/Android/i)?\"mobileChrome\":12===PlatformChecker_1.default.platform?\"firefox\":10===PlatformChecker_1.default.platform?\"safari\":150===PlatformChecker_1.default.platform?\"edge\":\"chrome\"},SubscribeWidget.prototype.createPopoverContent=function(){var config=this.config,popoverContent=document.createElement(\"div\");popoverContent.className=\"pushwoosh-subscribe-widget__popover-content\";var browser=this.getBrowserName(),userImageSrc=config.contentImages&&config.contentImages[browser];if(userImageSrc){var image=document.createElement(\"img\");image.src=userImageSrc,popoverContent.appendChild(image)}else{var standardImage={opera:\"opera\",mobileChrome:\"mobile_chrome\",firefox:\"FF\",safari:\"safari\"}[browser]||\"chrome\";[{src:this.getImageSrc(standardImage),width:500,height:130},{src:this.getImageSrc(standardImage+\"_unlock\"),width:500,height:230}].forEach(function(imageAttrs){var image=document.createElement(\"img\");Object.assign(image,imageAttrs),popoverContent.appendChild(image)})}return popoverContent},SubscribeWidget.prototype.getImageSrc=function(img){return\"https://cdn.pushwoosh.com/webpush/img/\"+img+\".jpg\"},SubscribeWidget.prototype.render=function(){return __awaiter(this,void 0,void 0,function(){var bell,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return this.widget=this.createContainer(),this.style=this.createStyle(),bell=this.createBell(),_a=this,[4,this.createTooltip()];case 1:return _a.tooltip=_c.sent(),_b=this,[4,this.createPopover()];case 2:return _b.popover=_c.sent(),this.widget.appendChild(this.style),this.widget.appendChild(bell),this.widget.appendChild(this.tooltip),this.widget.appendChild(this.popover),document.body.appendChild(this.widget),this.pw.push([\"onSubscribe\",this.onSubscribeEvent]),this.pw.push([\"onUnsubscribe\",this.onUnsubscribeEvent]),this.pw.push([\"onPermissionDenied\",this.onPermissionDeniedEvent]),this.isEnableChannels?(this.widget.addEventListener(\"click\",this.onClickBellIfEnableChannels),[2]):(this.addEventListenersIfDisabledChannels(),[2])}})})},SubscribeWidget.prototype.onClickBellIfEnableChannels=function(){var _this=this;this.pw.push(function(api){_this.pw.driver.checkIsPermissionDefault()?_this.pw.subscriptionSegmentWidget.init():api.postEvent(constants_1.SUBSCRIPTION_SEGMENT_EVENT,{})})},SubscribeWidget.prototype.addEventListenersIfDisabledChannels=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.widget.addEventListener(\"click\",this.clickBell),window.addEventListener(\"click\",this.clickOutOfPopover),[4,this.triggerPwEvent(constants_1.EVENT_SHOW_SUBSCRIBE_BUTTON,constants_1.KEY_SHOW_SUBSCRIBE_WIDGET)];case 1:return _a.sent(),[2]}})})},SubscribeWidget.prototype.toggleHelpPopover=function(){this.popover.classList.toggle(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.clickBell=function(){return __awaiter(this,void 0,void 0,function(){var permission;return __generator(this,function(_b){switch(_b.label){case 0:switch(permission=this.pw.driver.getPermission(),permission){case constants_1.PERMISSION_GRANTED:return[3,1];case constants_1.PERMISSION_PROMPT:return[3,3];case constants_1.PERMISSION_DENIED:return[3,5]}return[3,6];case 1:return[4,this.pw.subscribe()];case 2:return _b.sent(),[3,7];case 3:return[4,this.pw.subscribe()];case 4:return _b.sent(),[3,7];case 5:return this.toggleHelpPopover(),[3,7];case 6:console.warn(\"Unknown browser notification permission\"),_b.label=7;case 7:return[4,this.triggerPwEvent(constants_1.EVENT_CLICK_SUBSCRIBE_BUTTON,constants_1.KEY_CLICK_SUBSCRIBE_WIDGET)];case 8:return _b.sent(),[2]}})})},SubscribeWidget.prototype.onSubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var isEnableChannels,tooltipContent,_this=this;return __generator(this,function(_a){return isEnableChannels=this.pw.isEnableChannels(),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(tooltipContent.innerText=this.config.tooltipText.successSubscribe,this.tooltip.classList.add(\"pushwoosh-subscribe-widget__tooltip__visible\"),setTimeout(function(){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.tooltip.classList.remove(\"pushwoosh-subscribe-widget__tooltip__visible\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),isEnableChannels||this.widget.classList.add(\"pushwoosh-subscribe-widget__subscribed\"),[2]}})})},2e3),[2])})})},SubscribeWidget.prototype.onPermissionDeniedEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.pw.isEnableChannels()];case 1:return _b.sent()&&(this.widget.removeEventListener(\"click\",this.onClickBellIfEnableChannels),this.addEventListenersIfDisabledChannels()),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 2:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget.prototype.clickOutOfPopover=function(ev){this.popover.classList.contains(\"pushwoosh-subscribe-widget__popover__visible\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__popover\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__popover\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__bell-button\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__bell-button\")&&this.popover.classList.remove(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.triggerPwEvent=function(event,widget){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2]})})},SubscribeWidget.prototype.onUnsubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 1:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget}();document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.subscribeWidgetConfig.enable&&new SubscribeWidget(ev.detail.pw)})},function(module,exports,__nested_webpack_require_463260__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_463260__(77),Positioning=function(){function Positioning(){}return Positioning.getBellPosition=function(position,indent){var positionStyles;switch(position){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent};break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={top:\"auto\",left:indent,bottom:indent,right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:indent,left:indent,bottom:\"auto\",right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:indent,left:\"auto\",bottom:\"auto\",right:indent};break;default:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent}}return positionStyles},Positioning.getTooltipPosition=function(bellPosition,bellSize){var positionStyles,tooltipModification,increaseIndent=parseInt(bellSize)+12+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={left:increaseIndent},tooltipModification=\"left\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;default:positionStyles={right:increaseIndent},tooltipModification=\"right\"}return[positionStyles,tooltipModification]},Positioning.getPopoverPosition=function(bellPosition,bellSize){var positionStyles,popoverModification,increaseIndent=parseInt(bellSize)+15+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={bottom:increaseIndent,left:\"0\",right:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:increaseIndent,left:\"0\",right:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:increaseIndent,right:\"0\",left:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;default:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\"}return[positionStyles,popoverModification]},Positioning.getPopoverArrowPosition=function(bellPosition,bellSize){var arrowAdditionalStyles;switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;default:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\"}return arrowAdditionalStyles},Positioning}();exports.default=Positioning},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(fillColor,strokeColor){return'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\\n   version=\"1.1\"\\n   id=\"Capa_1\"\\n   x=\"0px\"\\n   y=\"0px\"\\n   viewBox=\"0 0 346.013 346.013\"\\n   style=\"enable-background:new 0 0 346.013 346.013;width: 80%; height: auto; vertical-align: middle;\"\\n   xml:space=\"preserve\"\\n   inkscape:version=\"0.91 r13725\"\\n   sodipodi:docname=\"alarm_white.svg\"><metadata\\n     id=\"metadata51\"><rdf:RDF><cc:Work\\n         rdf:about=\"\"><dc:format>image/svg+xml</dc:format><dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\\n     id=\"defs49\" /><sodipodi:namedview\\n     borderopacity=\"1\"\\n     objecttolerance=\"10\"\\n     gridtolerance=\"10\"\\n     guidetolerance=\"10\"\\n     inkscape:pageopacity=\"0\"\\n     inkscape:pageshadow=\"2\"\\n     inkscape:window-width=\"1618\"\\n     inkscape:window-height=\"828\"\\n     id=\"namedview47\"\\n     showgrid=\"false\"\\n     inkscape:zoom=\"0.6820553\"\\n     inkscape:cx=\"173.0065\"\\n     inkscape:cy=\"173.0065\"\\n     inkscape:window-x=\"0\"\\n     inkscape:window-y=\"0\"\\n     inkscape:window-maximized=\"0\"\\n     inkscape:current-layer=\"g3\" /><g\\n     id=\"g3\"><path\\n       d=\"m 256.76227,220.19006 c -1.77513,-2.69766 -3.45154,-5.24564 -3.98966,-7.46382 -0.042,-0.17861 -0.0911,-0.36128 -0.16237,-0.61436 -2.28354,-7.67647 0.69147,-24.43921 2.46886,-34.45124 0.26788,-1.50394 0.52274,-2.94197 0.75286,-4.29035 0.0232,-0.13675 0.044,-0.27211 0.0724,-0.48006 1.95582,-15.28051 2.58811,-37.91956 -5.51044,-58.99147 -5.6032,-14.57978 -14.45978,-25.82612 -26.3559,-33.48393 1.26598,-9.812938 -4.85967,-19.343691 -14.66682,-22.0511 -9.80715,-2.70741 -19.95724,2.33226 -23.90298,11.405413 -14.1382,0.467533 -27.51111,5.577097 -39.80114,15.219267 -17.76129,13.9298 -28.83431,33.68757 -34.99389,47.80757 l -0.0479,0.11335 c -0.0512,0.12175 -0.0998,0.24114 -0.13249,0.32962 -0.49733,1.28292 -1.01552,2.64514 -1.55689,4.07255 -3.61311,9.51043 -9.66004,25.42824 -15.611995,30.89342 -0.106524,0.10027 -0.208228,0.20187 -0.362362,0.35435 -1.636243,1.66563 -4.382941,2.99463 -7.288979,4.40101 -7.145531,3.45301 -22.013613,10.64166 -17.206389,31.67844 0.929154,4.07105 4.008437,7.29057 8.033861,8.40185 l 167.570804,46.2604 c 4.02253,1.11048 8.31521,-0.0729 11.2052,-3.08958 14.91617,-15.58874 5.84693,-29.38668 1.48625,-36.02133 z\"\\n       id=\"path5\"\\n       inkscape:connector-curvature=\"0\"\\n       vector-effect=\"non-scaling-stroke\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1; \" /><path\\n       vector-effect=\"non-scaling-stroke\"\\n       d=\"m 174.26737,259.72378 -38.76399,-10.70137 c -1.59243,-0.43962 -3.28183,-0.15596 -4.63548,0.7754 -2.53909,1.7494 -2.84182,4.93159 -3.02304,6.83188 l -0.0151,0.15247 c -1.22819,12.67106 6.79854,24.33046 19.08688,27.72284 12.51583,3.45518 25.8324,-2.91586 30.9681,-14.80385 l 0.0935,-0.19205 c 0.52305,-1.06418 1.74613,-3.55554 0.50882,-6.31116 -0.44302,-0.98439 -1.5794,-2.74529 -4.21964,-3.47416 z\"\\n       id=\"path7\"\\n       inkscape:connector-curvature=\"0\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1;\" /></g><g\\n     id=\"g17\" /><g\\n     id=\"g19\" /><g\\n     id=\"g21\" /><g\\n     id=\"g23\" /><g\\n     id=\"g25\" /><g\\n     id=\"g27\" /><g\\n     id=\"g29\" /><g\\n     id=\"g31\" /><g\\n     id=\"g33\" /><g\\n     id=\"g35\" /><g\\n     id=\"g37\" /><g\\n     id=\"g39\" /><g\\n     id=\"g41\" /><g\\n     id=\"g43\" /><g\\n     id=\"g45\" /></svg>'}},function(module,exports,__nested_webpack_require_470662__){var result=__nested_webpack_require_470662__(149);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_470808__){(module.exports=__nested_webpack_require_470808__(150)(void 0)).push([module.i,'/* Widget */\\n.pushwoosh-subscribe-widget {\\n  position: fixed;\\n  display: block;\\n  -webkit-transform: translate3d(0, 0, 0);\\n          transform: translate3d(0, 0, 0);\\n}\\n\\n.pushwoosh-subscribe-widget__subscribed {\\n  display: none;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button {\\n  -webkit-border-radius: 50%;\\n          border-radius: 50%;\\n  cursor: pointer;\\n  font-size: 0;\\n  text-align: center;\\n  -webkit-transform: scale(0.9) translate3d(0, 0, 0);\\n          transform: scale(0.9) translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform .3s ease-in-out;\\n  transition: -webkit-transform .3s ease-in-out;\\n  -o-transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out, -webkit-transform .3s ease-in-out;\\n  position: relative;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button:hover {\\n  -webkit-transform: scale(1);\\n      -ms-transform: scale(1);\\n          transform: scale(1);\\n}\\n\\n/* Tooltip */\\n.pushwoosh-subscribe-widget__tooltip {\\n  position: absolute;\\n  height: 48px;\\n  max-width: 300px;\\n  min-width: 200px;\\n  padding: 5px 7px;\\n  background-color: #3b444b;\\n  color: #ffffff;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  line-height: 38px;\\n  font-size: 0;\\n  font-weight: normal;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  -o-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  top: 50%;\\n  -webkit-transform: translate(0, -50%);\\n      -ms-transform: translate(0, -50%);\\n          transform: translate(0, -50%);\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after,\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  content: \"\";\\n  top: 50%;\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  background: #3b444b;\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after {\\n  left: calc(100% - 7px);\\n  border-top: 5px solid #3b444b;\\n  border-left: 5px solid #3b444b;\\n  border-right: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  left: -7px;\\n  border-top: 5px solid #3b444b;\\n  border-right: 5px solid #3b444b;\\n  border-left: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__bell-button:hover + .pushwoosh-subscribe-widget__tooltip,\\n.pushwoosh-subscribe-widget__tooltip.pushwoosh-subscribe-widget__tooltip__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__tooltip-content {\\n  display: inline-block;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  padding-right: 5px;\\n  -o-text-overflow: ellipsis;\\n     text-overflow: ellipsis;\\n  max-width: 100%;\\n}\\n\\n/* Popover */\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover {\\n  position: absolute;\\n  right: auto;\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  background: #9ca8b1;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  -o-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after,\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  content: \"\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-right: 8px solid transparent;\\n  border-left: 8px solid #9ca8b1;\\n  background: #9ca8b1;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after {\\n  border-bottom: 8px solid #9ca8b1;\\n  border-top: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n  bottom: -16px;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  top: 0;\\n  border-top: 8px solid #9ca8b1;\\n  border-bottom: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__popover-content-wrapper {\\n  overflow: auto;\\n  max-width: 100%;\\n}\\n\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  padding: 14px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  float: left;\\n  min-width: 100%;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n  display: block;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n  margin-bottom: 14px;\\n}\\n\\n@media (max-width: 767px) and (orientation: portrait) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 0;\\n    margin-bottom: 14px;\\n  }\\n}\\n@media (max-width: 767px) and (orientation: landscape) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 14px;\\n    margin-bottom: 0;\\n  }\\n}\\n',\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}},function(module,exports,__nested_webpack_require_480225__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var pwInboxWidget=__nested_webpack_require_480225__(152);document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.pwinbox&&ev.detail.pw.inboxWidgetConfig.enable&&(ev.detail.pw.pwinboxWidget=new pwInboxWidget.PWInboxWidget(ev.detail.pw))})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_480661__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_480661__),module.l=!0,module.exports}return __nested_webpack_require_480661__.m=modules,__nested_webpack_require_480661__.c=installedModules,__nested_webpack_require_480661__.d=function(exports,name,getter){__nested_webpack_require_480661__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_480661__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_480661__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_480661__.d(getter,\"a\",getter),getter},__nested_webpack_require_480661__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_480661__.p=\"\",__nested_webpack_require_480661__(__nested_webpack_require_480661__.s=2)}([function(module,exports,__nested_webpack_require_481693__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_481693__(1);exports.isElementFixed=function isElementFixed(element){var isFixed=\"fixed\"===window.getComputedStyle(element).position;return!isFixed&&element.parentElement&&(isFixed=isElementFixed(element.parentElement)),isFixed},exports.getGlobal=function(){return Function(\"return this\")()},exports.getMessageTime=function(date){var localDate=new Date(date),localTime=localDate.getHours()+localDate.getTimezoneOffset()/60;localDate.setHours(localTime);var gap=(new Date).getTime()-localDate.getTime();return gap<=6e4?\"Just now\":gap<constants_1.MILLISECONDS_IN_HOUR&&gap>0?Math.floor(gap/6e4)+\" minutes ago\":gap<constants_1.MILLISECONDS_IN_DAY&&gap>0?Math.floor(gap/36e5)+\" hours ago\":localDate.getDate()+\" \"+constants_1.MONTHS[localDate.getMonth()]+\" \"+localDate.getFullYear()+\", \"+localDate.getHours()+\":\"+(\"0\"+localDate.getMinutes().toString()).slice(-2)},exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.compareBySendDate=function(dateOne,dateTwo){var localDateOne=new Date(dateOne),localTimeOne=localDateOne.getHours()+localDateOne.getTimezoneOffset()/60,localDateTwo=new Date(dateTwo),localTimeTwo=localDateTwo.getHours()+localDateTwo.getTimezoneOffset()/60;return localDateOne.setHours(localTimeOne),localDateTwo.setHours(localTimeTwo),localDateTwo.getTime()-localDateOne.getTime()}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MILLISECONDS_IN_DAY=864e5,exports.MILLISECONDS_IN_HOUR=36e5,exports.MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"June\",\"July\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"],exports.CONFIG_STYLES=[{name:\"widgetWidth\",type:\"size\"},{name:\"borderRadius\",type:\"size\"},{name:\"zIndex\",type:\"number\"},{name:\"fontFamily\",type:\"string\"},{name:\"bgColor\",type:\"color\"},{name:\"textColor\",type:\"color\"},{name:\"arrowBorderColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"badgeBgColor\",type:\"color\"},{name:\"badgeTextColor\",type:\"color\"},{name:\"timeTextColor\",type:\"color\"},{name:\"messageTitleColor\",type:\"color\"},{name:\"emptyInboxTitleColor\",type:\"color\"},{name:\"emptyInboxTextColor\",type:\"color\"}],exports.DEFAULT_CONFIG={enable:!1,triggerId:\"pwInbox\",position:\"bottom\",appendTo:\"body\",title:\"Inbox\",bgColor:\"#ffffff\",textColor:\"#333333\",fontFamily:\"inherit\",borderRadius:4,borderColor:\"transparent\",badgeBgColor:\"#ff4c00\",badgeTextColor:\"#ffffff\",widgetWidth:350,zIndex:100,messageTitleColor:\"#7a7a7a\",timeTextColor:\"#c4c4c4\",emptyInboxTitle:\"You're all caught up\",emptyInboxTitleColor:\"#333333\",emptyInboxText:\"There are no new messages. Stay tuned!\",emptyInboxTextColor:\"#7a7a7a\",emptyInboxIconUrl:\"https://pushon.pushwoosh.com/images/icon-empty-inbox.png\",arrowBorderColor:\"rgba(0,0,0,.1)\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/},function(module,exports,__nested_webpack_require_484742__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var InboxWidget_1=__nested_webpack_require_484742__(3);exports.PWInboxWidget=InboxWidget_1.default},function(module,exports,__nested_webpack_require_484941__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var widgetTemplates_1=__nested_webpack_require_484941__(4),constants_1=__nested_webpack_require_484941__(1),helpers_1=__nested_webpack_require_484941__(0),InboxWidget=function(){function InboxWidget(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,{arrowBorderColor:this.pw.inboxWidgetConfig.borderColor&&\"transparent\"!==this.pw.inboxWidgetConfig.borderColor?this.pw.inboxWidgetConfig.borderColor:\"rgba(0,0,0,.1)\"},this.pw.inboxWidgetConfig),this.updateInbox=this.updateInbox.bind(this),this.markVisibleItemsAsRead=this.markVisibleItemsAsRead.bind(this),this.onWidgetClickHandler=this.onWidgetClickHandler.bind(this),this.onTriggerClickHandler=this.onTriggerClickHandler.bind(this),this.onWindowScrollHandler=this.onWindowScrollHandler.bind(this),this.toggle=this.toggle.bind(this);try{this.initTrigger(),this.updateInbox(),this.addListeners()}catch(err){console.warn(err)}}return InboxWidget.prototype.toggle=function(isOpened){(void 0===isOpened?!this.isOpened:isOpened)?this.openWidget():this.closeWidget()},InboxWidget.prototype.initTrigger=function(){if(!this.pw.pwinbox)throw new Error(\"Web inbox is not allowed.\");var trigger=document.getElementById(this.config.triggerId);if(!trigger)throw new Error(\"Inbox trigger element doesn't exist. You must set triggerId in inboxWidget config. See the documentation.\");this.trigger=trigger,this.trigger.classList.add(\"pw-inbox-trigger\"),this.defaultMargin=12,this.messagesElements={},this.messages=[],this.readItems=[],this.updateCounter(0),this.isOpened=!1,this.renderWidget(),this.isFixed=helpers_1.isElementFixed(this.trigger)},InboxWidget.prototype.renderWidget=function(){this.widget=document.createElement(\"div\"),this.widget.id=\"pwInboxWidget\",this.widget.className=\"pw-inbox-widget\",this.widget.classList.toggle(\"pw-open\",this.isOpened),this.widgetParent=document.querySelector(this.config.appendTo)||document.body,this.widgetParent.appendChild(this.widget),this.widgetParent.appendChild(this.getStyle()),this.renderWidgetInner()},InboxWidget.prototype.getStyle=function(){var styles=__nested_webpack_require_484941__(5),styleNode=document.createElement(\"style\");return styleNode.innerHTML=this.configureStyle(styles),styleNode},InboxWidget.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},InboxWidget.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},InboxWidget.prototype.renderWidgetInner=function(){if(this.messages.length>0)this.widget.classList.remove(\"pw-inbox-widget--empty\"),this.widget.innerHTML=widgetTemplates_1.widgetTemplate(this.config.title),this.renderMessages();else{this.widget.classList.add(\"pw-inbox-widget--empty\");var _a=this.config,emptyInboxTitle=_a.emptyInboxTitle,emptyInboxText=_a.emptyInboxText,emptyInboxIconUrl=_a.emptyInboxIconUrl;this.widget.innerHTML=widgetTemplates_1.widgetTemplateEmpty(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText)}},InboxWidget.prototype.renderMessages=function(){var _this=this;this.list=this.widget.querySelector(\".pw-inbox_list\")||document.createElement(\"ul\"),this.messages.forEach(function(message){var messageElement=document.createElement(\"li\");messageElement.className=\"pw-inbox_item\",messageElement.classList.toggle(\"pw-new\",!message.isRead),messageElement.classList.toggle(\"pw-unread\",!message.isActionPerformed),messageElement.setAttribute(\"data-pw-inbox-message-id\",message.code),messageElement.innerHTML=widgetTemplates_1.messageTemplate(message),_this.list.appendChild(messageElement),_this.messagesElements[message.code]=messageElement})},InboxWidget.prototype.updateCounter=function(count){this.count=count,this.trigger.setAttribute(\"data-pw-count\",\"\"+this.count),this.trigger.classList.toggle(\"pw-empty\",0===this.count)},InboxWidget.prototype.updateInboxMessages=function(messages){this.messages=messages.sort(function(_a,_b){var sendDateOne=_a.sendDate,sendDateTwo=_b.sendDate;return helpers_1.compareBySendDate(sendDateOne,sendDateTwo)}),this.renderWidgetInner()},InboxWidget.prototype.openWidget=function(){this.isOpened=!0,this.widget.classList.add(\"pw-open\"),document.addEventListener(\"click\",this.onWidgetClickHandler),window.addEventListener(\"scroll\",this.onWindowScrollHandler),window.addEventListener(\"resize\",this.onWindowScrollHandler),this.markVisibleItemsAsRead(),this.messages.length>0&&this.list.addEventListener(\"scroll\",this.markVisibleItemsAsRead),this.positionWidget()},InboxWidget.prototype.closeWidget=function(){this.isOpened=!1,document.removeEventListener(\"click\",this.onWidgetClickHandler),document.removeEventListener(\"click\",this.onWindowScrollHandler),window.removeEventListener(\"resize\",this.onWindowScrollHandler),this.updateReadStatus(),this.messages.length>0&&this.list.removeEventListener(\"scroll\",this.markVisibleItemsAsRead),this.widget.classList.remove(\"pw-open\",\"pw-top\",\"pw-bottom\",\"pw-right\",\"pw-left\"),this.widget.removeAttribute(\"style\")},InboxWidget.prototype.positionWidget=function(){this.isOpened&&(this.widgetParent===document.body?this.defaultPlaceWidget():this.customPlaceWidget())},InboxWidget.prototype.customPlaceWidget=function(){var position=this.config.position;this.widgetParent.style.position=\"relative\",this.widget.classList.add(\"pw-inbox-widget--inset\"),this.widget.classList.add(\"pw-\"+position)},InboxWidget.prototype.defaultPlaceWidget=function(){var position=this.pw.inboxWidgetConfig.position?this.config.position:this.getDefaultPosition(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);switch(widgetRect.width+2*this.defaultMargin>windowWidth&&(this.widget.style.width=windowWidth-2*this.defaultMargin+\"px\"),widgetRect.height+24>windowHeight&&(this.widget.style.height=windowHeight-2*this.defaultMargin+\"px\"),position){case\"top\":this.alignWidgetTop();break;case\"right\":this.alignWidgetRight();break;case\"left\":this.alignWidgetLeft();break;case\"bottom\":this.alignWidgetBottom()}}},InboxWidget.prototype.alignWidgetTop=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-top\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-this.defaultMargin);var top=pageYOffset+triggerRect.top-widgetRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var topMargin=this.widget.getBoundingClientRect().top;if(topMargin<0){var newHeight=this.widget.getBoundingClientRect().height+topMargin-this.defaultMargin,newTop=this.widget.getBoundingClientRect().top-topMargin+this.defaultMargin;this.widget.style.height=newHeight+\"px\",this.widget.style.top=newTop+\"px\"}}},InboxWidget.prototype.alignWidgetRight=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-right\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left+triggerRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var rightMargin=windowWidth-this.widget.getBoundingClientRect().right;if(rightMargin<this.defaultMargin){var newWidth=this.widget.getBoundingClientRect().width+rightMargin-this.defaultMargin;this.widget.style.width=newWidth+\"px\"}}},InboxWidget.prototype.alignWidgetLeft=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-left\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left-widgetRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var leftMargin=this.widget.getBoundingClientRect().left;if(leftMargin<0){var newWidth=this.widget.getBoundingClientRect().width+leftMargin-this.defaultMargin,newLeft=this.widget.getBoundingClientRect().left-leftMargin;this.widget.style.width=newWidth+\"px\",this.widget.style.left=newLeft+\"px\"}}},InboxWidget.prototype.alignWidgetBottom=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-bottom\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-12);var top=pageYOffset+triggerRect.top+triggerRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var bottomRange=windowHeight-this.widget.getBoundingClientRect().bottom;if(bottomRange<this.defaultMargin){var newHeight=this.widget.getBoundingClientRect().height+bottomRange-this.defaultMargin;this.widget.style.height=newHeight+\"px\"}}},InboxWidget.prototype.alignWidgetElement=function(left,top){this.widget.style.left=left+\"px\",this.widget.style.top=top+\"px\"},InboxWidget.prototype.getDefaultPosition=function(){var _a=this.trigger.getBoundingClientRect(),left=_a.left,top=_a.top,width=_a.width,height=_a.height;if(!document.documentElement)return\"\";var antiMargins={right:left,bottom:top,left:Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(left+width),top:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(top+height)},leastMargin=Math.min(left,top,antiMargins.left,antiMargins.top),position=\"bottom\";return Object.keys(antiMargins).forEach(function(key){antiMargins[key]===leastMargin&&(position=key)}),position},InboxWidget.prototype.addListeners=function(){var _this=this;this.trigger.addEventListener(\"click\",this.onTriggerClickHandler),this.pw.push([\"onPutNewMessageToInboxStore\",function(){_this.updateInbox()}]),this.pw.push([\"onUpdateInboxMessages\",function(){_this.updateInbox()}])},InboxWidget.prototype.markVisibleItemsAsRead=function(){var _this=this;if(0!==this.messages.length){var scrollTop=this.list.clientHeight+this.list.scrollTop-50;Object.keys(this.messagesElements).forEach(function(code){if(_this.messagesElements[code]&&!(_this.messagesElements[code].offsetTop>scrollTop)){var message=_this.messages.find(function(message){return message.code===code});!message||message.isRead||_this.readItems.indexOf(code)+1||_this.readItems.push(code)}})}},InboxWidget.prototype.updateReadStatus=function(){this.pw.pwinbox.readMessagesWithCodes(this.readItems).then(this.updateInbox)},InboxWidget.prototype.updateInbox=function(){var _this=this;this.pw.pwinbox.loadMessages().then(function(messages){_this.updateInboxMessages(messages)}),this.pw.pwinbox.unreadMessagesCount().then(function(count){_this.updateCounter(count)})},InboxWidget.prototype.performMessageAction=function(code){var _this=this;this.pw.pwinbox.performActionForMessageWithCode(code).then(function(){_this.updateInbox()})},InboxWidget.prototype.removeMessages=function(messages){var _this=this;messages.forEach(function(code){_this.readItems=_this.readItems.slice(_this.readItems.indexOf(code),1)}),this.pw.pwinbox.deleteMessagesWithCodes(messages).then(function(){_this.updateInbox()})},InboxWidget.prototype.onTriggerClickHandler=function(event){event.stopPropagation(),event.target&&this.toggle()},InboxWidget.prototype.onWidgetClickHandler=function(event){if(event.target){var itemElement=event.target.closest(\".pw-inbox_item\");if(itemElement){var messageCode=itemElement.getAttribute(\"data-pw-inbox-message-id\");messageCode&&(event.target.closest(\".pw-inbox_item-remove\")?this.removeMessages([messageCode]):this.performMessageAction(messageCode))}else this.toggle()}},InboxWidget.prototype.onWindowScrollHandler=function(){this.isFixed&&this.isOpened?this.toggle():this.positionWidget()},InboxWidget}();exports.default=InboxWidget},function(module,exports,__nested_webpack_require_499361__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_499361__(0);exports.widgetTemplate=function(title){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_inner\">\\n    <div class=\"pw-inbox_title\">\\n      '+title+'\\n    </div>\\n    <ul class=\"pw-inbox_list\">\\n    \\n    </ul>\\n</div>'},exports.widgetTemplateEmpty=function(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_list--empty\">\\n    <div class=\"pw-inbox_list-icon\">\\n      <img src=\"'+emptyInboxIconUrl+'\" alt=\"'+emptyInboxTitle+'\">\\n    </div>\\n    <div class=\"pw-inbox_list-title\">\\n      '+emptyInboxTitle+'\\n    </div>\\n    <div class=\"ipw-inbox_list-body\">\\n      '+emptyInboxText+\"\\n    </div>\\n</div>\"},exports.messageTemplate=function(_a){var imageUrl=_a.imageUrl,title=_a.title,message=_a.message,sendDate=_a.sendDate;return'\\n<div class=\"pw-inbox_item-inner\">\\n  <div class=\"pw-inbox_icon\">\\n    <img src=\"'+imageUrl+'\" alt=\"'+(title||message)+'\" class=\"pw-inbox_message-image\">\\n  </div>\\n  <div class=\"pw-inbox_content\">\\n    '+(title?'<div class=\"pw-inbox_item-title\">\\n      '+title+\"\\n    </div>\":null)+'\\n    <div class=\"pw-inbox_item-body\">\\n      '+message+'\\n    </div>\\n    <div class=\"pw-inbox_item-time\">\\n      '+helpers_1.getMessageTime(sendDate)+'\\n    </div>\\n  </div>\\n</div>\\n<span class=\"pw-inbox_item-remove\"></span>'}},function(module,exports,__nested_webpack_require_500837__){var result=__nested_webpack_require_500837__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_500981__){(module.exports=__nested_webpack_require_500981__(7)(void 0)).push([module.i,\".pw-inbox-trigger {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.pw-inbox-trigger:after {\\n  content: attr(data-pw-count);\\n  display: block;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  background: var(--badgeBgColor);\\n  -webkit-border-radius: 8px;\\n          border-radius: 8px;\\n  color: var(--badgeTextColor);\\n  font-size: 10px;\\n  font-weight: normal;\\n  line-height: 16px;\\n  width: 16px;\\n  padding: 0 2px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.pw-inbox-trigger.pw-empty:after {\\n  display: none;\\n}\\n\\n.pw-inbox-widget * {\\n  position: static;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  font-size: 1em;\\n  outline: none;\\n  font-family: var(--fontFamily);\\n}\\n.pw-inbox-widget {\\n  font-size: 14px;\\n  position: absolute;\\n  top: 0;\\n  left: -1000px;\\n  background: var(--bgColor);\\n  border: solid 1px var(--borderColor);\\n  -webkit-border-radius: var(--borderRadius);\\n          border-radius: var(--borderRadius);\\n  width: var(--widgetWidth);\\n  -webkit-box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n          box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n  z-index: var(--zIndex);\\n  opacity: 0;\\n  -webkit-transition: opacity .6s ease;\\n  -o-transition: opacity .6s ease;\\n  transition: opacity .6s ease;\\n  -webkit-transition-delay: 100ms;\\n       -o-transition-delay: 100ms;\\n          transition-delay: 100ms;\\n}\\n.pw-inbox-widget.pw-open {\\n  opacity: 1;\\n  -webkit-transition-delay: 0ms;\\n       -o-transition-delay: 0ms;\\n          transition-delay: 0ms;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset {\\n  top: auto;\\n  left: auto;\\n  display: none;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-open {\\n  display: block;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-bottom {\\n  top: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-top {\\n  bottom: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-right {\\n  left: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-left {\\n  right: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--empty {\\n  max-height: none;\\n}\\n.pw-inbox-widget .pw-inbox__arrow {\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget .pw-inbox__arrow:before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget.pw-top {\\n  margin-top: -12px;\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow {\\n  border-top-color: var(--arrowBorderColor);\\n  bottom: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow:before {\\n  border-top-color: var(--bgColor);\\n  top: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-bottom {\\n  margin-top: 12px;\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow {\\n  border-bottom-color: var(--arrowBorderColor);\\n  top: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow:before {\\n  border-bottom-color: var(--bgColor);\\n  bottom: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-left {\\n  margin-left: -12px;\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow {\\n  border-left-color: var(--arrowBorderColor);\\n  right: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow:before {\\n  border-left-color: var(--bgColor);\\n  left: -11px;\\n  top: -10px;\\n}\\n.pw-inbox-widget.pw-right {\\n  margin-left: 12px;\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow {\\n  border-right-color: var(--arrowBorderColor);\\n  left: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow:before {\\n  border-right-color: var(--bgColor);\\n  right: -11px;\\n  top: -10px;\\n}\\n.pw-inbox_inner {\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  height: 100%;\\n}\\n.pw-inbox_title {\\n  color: var(--textColor);\\n  margin: 0;\\n  padding: 28px 32px 12px;\\n  font-size: 24px;\\n  font-weight: 500;\\n  line-height: 1.1;\\n  text-align: left;\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 66px;\\n          flex: 0 0 66px;\\n}\\n.pw-inbox_list {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  min-width: 200px;\\n  max-height: 300px;\\n  padding: 0;\\n  margin: 0;\\n  list-style: none;\\n  position: relative;\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.pw-inbox_item {\\n  position: relative;\\n  padding: 8px 32px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.pw-inbox_item-inner {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pw-inbox_icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 40px;\\n          flex: 0 0 40px;\\n}\\n.pw-inbox_message-image {\\n  width: 28px;\\n}\\n.pw-inbox_content {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 1 100%;\\n          flex: 0 1 100%;\\n}\\n.pw-inbox_item-title {\\n  color: var(--messageTitleColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-body {\\n  color: var(--textColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-time {\\n  color: var(--timeTextColor);\\n  font-size: 12px;\\n  line-height: 17px;\\n}\\n.pw-inbox_item-remove {\\n  position: absolute;\\n  z-index: 2;\\n  top: 8px;\\n  right: 8px;\\n  display: none;\\n  width: 10px;\\n  height: 10px;\\n  background: transparent url('https://cdn.pushwoosh.com/webpush/img/iconClose.svg') 50% no-repeat;\\n  cursor: pointer;\\n}\\n.pw-inbox_item:hover .pw-inbox_item-remove {\\n  display: block;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-title {\\n  color: var(--textColor);\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-body {\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_list--empty {\\n  padding: 50px 16px;\\n  text-align: center;\\n  max-height: 100%;\\n  overflow: auto;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-icon {\\n  text-align: center;\\n  margin-bottom: 30px;\\n}\\n.pw-inbox_list--empty .pw-inbox_list-icon img {\\n  max-width: 100%;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-title {\\n  font-size: 28px;\\n  line-height: 36px;\\n  color: var(--emptyInboxTitleColor);\\n  margin-bottom: 20px;\\n}\\n\\n.pw-inbox_list--empty .ipw-inbox_list-body {\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: var(--emptyInboxTextColor);\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])},function(module,exports,__nested_webpack_require_509725__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var web_push_subscribe_popup_1=__nested_webpack_require_509725__(154);document.addEventListener(\"pushwoosh.initialized\",function(ev){if(ev.detail.pw.subscribePopupConfig&&ev.detail.pw.subscribePopupConfig.enable){var popup_1=new web_push_subscribe_popup_1.PWSubscribePopup(ev.detail.pw);popup_1.initPopup().then(function(){ev.detail.pw.subscribePopup=popup_1})}})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_510267__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_510267__),module.l=!0,module.exports}return __nested_webpack_require_510267__.m=modules,__nested_webpack_require_510267__.c=installedModules,__nested_webpack_require_510267__.d=function(exports,name,getter){__nested_webpack_require_510267__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_510267__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_510267__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_510267__.d(getter,\"a\",getter),getter},__nested_webpack_require_510267__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_510267__.p=\"\",__nested_webpack_require_510267__(__nested_webpack_require_510267__.s=1)}([function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_CONFIG={text:\"Dont miss out on our news and updates! Enable push notifications\",askLaterButtonText:\"Not now\",confirmSubscriptionButtonText:\"Subscribe\",delay:60,retryOffset:604800,overlay:!1,position:\"top\",bgColor:\"#fff\",borderColor:\"transparent\",boxShadow:\"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)\",textColor:\"#000\",textSize:\"inherit\",fontFamily:\"inherit\",subscribeBtnBgColor:\"#4285f4\",subscribeBtnTextColor:\"#fff\",askLaterBtnBgColor:\"transparent\",askLaterBtnTextColor:\"#000\",theme:\"material\",viewport:\"html\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/,exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.CONFIG_STYLES=[{name:\"bgColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"boxShadow\",type:\"string\"},{name:\"textColor\",type:\"color\"},{name:\"textSize\",type:\"string\"},{name:\"fontFamily\",type:\"string\"},{name:\"subscribeBtnBgColor\",type:\"color\"},{name:\"subscribeBtnTextColor\",type:\"color\"},{name:\"askLaterBtnBgColor\",type:\"color\"},{name:\"askLaterBtnTextColor\",type:\"color\"}]},function(module,exports,__nested_webpack_require_512553__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscribePopup_1=__nested_webpack_require_512553__(2);exports.PWSubscribePopup=SubscribePopup_1.default},function(module,exports,__nested_webpack_require_512761__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_512761__(0),popupTemplates_1=__nested_webpack_require_512761__(3),constants_2=__nested_webpack_require_512761__(0),helpers_1=__nested_webpack_require_512761__(4),SubscribePopup=function(){function SubscribePopup(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,this.pw.subscribePopupConfig),this.onAskLaterClick=this.onAskLaterClick.bind(this),this.onSubscribeClick=this.onSubscribeClick.bind(this)}return SubscribePopup.prototype.initPopup=function(){return __awaiter(this,void 0,void 0,function(){var isSubscribed,isManualUnsubscribed,permission,lastPopupOpen,lastPopupOpenTime,now,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.isSubscribed()];case 1:return isSubscribed=_a.sent(),[4,this.pw.data.getStatusManualUnsubscribed()];case 2:return isManualUnsubscribed=_a.sent(),isSubscribed||isManualUnsubscribed?[2]:[4,this.pw.driver.getPermission()];case 3:return(permission=_a.sent())===constants_2.PERMISSION_GRANTED||permission===constants_2.PERMISSION_DENIED?[2]:(this.renderPopup(),this.appendStyles(),lastPopupOpen=localStorage.getItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\"),lastPopupOpenTime=lastPopupOpen?parseInt(lastPopupOpen):0,now=(new Date).getTime(),lastPopupOpenTime+1e3*this.config.retryOffset<now&&setTimeout(function(){_this.toggle(!0)},1e3*this.config.delay),[2])}})})},SubscribePopup.prototype.toggle=function(isShown){(\"boolean\"==typeof isShown?isShown:!this.isShown)?(this.showPopup(),this.pw.eventBus.dispatchEvent(\"subscribe-popup-show\",{})):(this.closePopup(),this.pw.eventBus.dispatchEvent(\"subscribe-popup-hide\",{}))},SubscribePopup.prototype.showPopup=function(){this.isShown=!0,this.popup.classList.add(\"pw-show\"),document.body.classList.add(\"pw-popup-opened\");var event=new CustomEvent(\"showPopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});if(this.popup.dispatchEvent(event),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.transition=\"margin-top .3s ease-out\",viewportElement.style.marginTop=parseInt(currentMarginTop)+this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.closePopup=function(){this.isShown=!1,this.popup.classList.remove(\"pw-show\"),document.body.classList.remove(\"pw-popup-opened\");var event=new CustomEvent(\"hidePopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});this.popup.dispatchEvent(event);var now=(new Date).getTime().toString();if(localStorage.setItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\",now),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.marginTop=parseInt(currentMarginTop)-this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.renderPopup=function(){this.popup=document.createElement(\"div\"),this.popup.id=\"pwSubscribePopup\";var _a=this.config,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText,iconUrl=_a.iconUrl,position=_a.position,overlay=_a.overlay,theme=_a.theme;this.popup.className=\"pw-subscribe-popup pw-position-\"+position+\" pw-subscribe-popup-\"+theme,this.popup.classList.toggle(\"pw-subscribe-popup__overlay\",overlay),this.popup.innerHTML=popupTemplates_1.innerTemplate({text:text,askLaterButtonText:askLaterButtonText,confirmSubscriptionButtonText:confirmSubscriptionButtonText,iconUrl:iconUrl}),document.body.appendChild(this.popup),this.addListeners()},SubscribePopup.prototype.appendStyles=function(){var styles=__nested_webpack_require_512761__(5),style=document.createElement(\"style\");style.innerHTML=this.configureStyle(styles),document.body.appendChild(style)},SubscribePopup.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},SubscribePopup.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},SubscribePopup.prototype.addListeners=function(){var askLaterButton=this.popup.querySelector('button[name=\"pwAskLater\"]')||document.createElement(\"button\"),subscribeButton=this.popup.querySelector('button[name=\"pwSubscribe\"]')||document.createElement(\"button\");askLaterButton.addEventListener(\"click\",this.onAskLaterClick),subscribeButton.addEventListener(\"click\",this.onSubscribeClick)},SubscribePopup.prototype.onAskLaterClick=function(){this.toggle(!1),this.pw.eventBus.dispatchEvent(\"subscribe-popup-decline\",{})},SubscribePopup.prototype.onSubscribeClick=function(){this.toggle(!1),this.pw.eventBus.dispatchEvent(\"subscribe-popup-accept\",{}),this.pw.subscribe()},SubscribePopup}();exports.default=SubscribePopup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.innerTemplate=function(_a){var iconUrl=_a.iconUrl,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText;return'<div class=\"pw-subscription-popup-inner\">\\n    <div class=\"pw-subscription-popup-content\">\\n      '+(iconUrl?'<div class=\"pw-subscription-popup-icon\">\\n        <img src=\"'+iconUrl+'\">\\n      </div>':\"\")+'\\n      <div class=\"pw-subscription-popup-text\">\\n        '+text+'\\n      </div>\\n    </div>\\n    <div class=\"pw-subscription-popup-controls\">\\n      <button name=\"pwSubscribe\" class=\"pw-subscribe-popup-button pw-subscribe-popup-button-active\">'+confirmSubscriptionButtonText+'</button>\\n      <button name=\"pwAskLater\" class=\"pw-subscribe-popup-button\">'+askLaterButtonText+\"</button>\\n    </div>\\n  </div>\"}},function(module,exports,__nested_webpack_require_521148__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_521148__(0);exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.getGlobal=function(){return Function(\"return this\")()}},function(module,exports,__nested_webpack_require_521492__){var result=__nested_webpack_require_521492__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_521636__){(module.exports=__nested_webpack_require_521636__(7)(void 0)).push([module.i,\".pw-subscribe-popup {\\n  position: fixed;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  z-index: 1000000;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-transition: all .4s ease-out;\\n  -o-transition: all .4s ease-out;\\n  transition: all .4s ease-out;\\n}\\n\\n.pw-subscribe-popup.pw-position-top {\\n  top: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-top.pw-show {\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-bottom {\\n  bottom: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-bottom.pw-show {\\n  bottom: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-center {\\n  display: none;\\n}\\n.pw-subscribe-popup.pw-position-center.pw-show {\\n  top: 50%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.pw-subscribe-popup__overlay {\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  -webkit-transform: none;\\n      -ms-transform: none;\\n          transform: none;\\n  height: 100%;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  background: rgba(0,0,0,.4);\\n  z-index: 1000000;\\n  display: none;\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-top {\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-bottom {\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-center {\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pw-subscription-popup-inner {\\n  max-width: 400px;\\n  font-size: var(--textSize);\\n  color: var(--textColor);\\n  font-family: var(--fontFamily);\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: var(--borderColor);\\n  background: var(--bgColor);\\n  -webkit-box-shadow: var(--boxShadow);\\n          box-shadow: var(--boxShadow);\\n}\\n\\n.pw-subscription-popup-content {\\n  padding: 16px 16px 4px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: stretch;\\n      -ms-flex-pack: stretch;\\n          justify-content: stretch;\\n}\\n\\n.pw-subscription-popup-icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 50px;\\n          flex: 0 0 50px;\\n  margin-right: 12px;\\n  padding-top: 4px;\\n}\\n\\n.pw-subscription-popup-icon img {\\n  max-width: 60px;\\n  max-height: 60px;\\n}\\n\\n.pw-subscription-popup-text {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 300px;\\n          flex: 1 1 300px;\\n}\\n\\n.pw-subscription-popup-controls {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 8px 16px 16px;\\n}\\n\\nbutton.pw-subscribe-popup-button {\\n  border: solid 1px transparent;\\n  -webkit-border-radius: 2px;\\n          border-radius: 2px;\\n  display: inline-block;\\n  height: 36px;\\n  line-height: 36px;\\n  padding: 0 16px;\\n  text-transform: uppercase;\\n  vertical-align: middle;\\n  -webkit-tap-highlight-color: transparent;\\n  font-size: 14px;\\n  outline: 0;\\n  text-decoration: none;\\n  color: var(--askLaterBtnTextColor);\\n  text-align: center;\\n  letter-spacing: .5px;\\n  cursor: pointer;\\n  background: var(--askLaterBtnBgColor);\\n  margin: 4px 8px;\\n}\\nbutton.pw-subscribe-popup-button:hover {\\n  background: rgba(0,0,0,.04);\\n}\\nbutton.pw-subscribe-popup-button:active {\\n  background: rgba(0,0,0,.12);\\n}\\n\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active {\\n  color: var(--subscribeBtnTextColor);\\n  background: var(--subscribeBtnBgColor);\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:hover {\\n  -webkit-box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n          box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:active {\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\n\\n@media screen and (min-width: 541px) {\\n\\n  .pw-subscribe-popup-topbar {\\n    width: 100%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    padding: 2px 40px;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: nowrap;\\n        flex-wrap: nowrap;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-content {\\n    padding: 0;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 60%;\\n            flex: 1 1 60%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-icon img {\\n    max-width: 28px;\\n    max-height: 28px;\\n  }\\n\\n  .pw-subscribe-popup-topbar button.pw-subscribe-popup-button {\\n    height: 32px;\\n    line-height: 32px;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-controls {\\n    padding: 0 0 0 16px;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n  }\\n}\\n@media screen and (max-width: 540px) {\\n  .pw-subscribe-popup,\\n  .pw-subscribe-popup.pw-position-top,\\n  .pw-subscribe-popup.pw-position-center,\\n  .pw-subscribe-popup.pw-position-bottom {\\n    top: auto;\\n    bottom: -110%;\\n    left: 0;\\n    right: 0;\\n    -webkit-transform: none;\\n        -ms-transform: none;\\n            transform: none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-transition: bottom .4s ease-out;\\n    -o-transition: bottom .4s ease-out;\\n    transition: bottom .4s ease-out;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-subscribe-popup__overlay {\\n    height: 100%;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-show {\\n    bottom: 0;\\n  }\\n\\n  .pw-subscribe-popup__overlay .pw-subscription-popup-inner {\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n    -webkit-box-pack: stretch;\\n        -ms-flex-pack: stretch;\\n            justify-content: stretch;\\n  }\\n\\n  .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n  }\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1wdXNoLW5vdGlmaWNhdGlvbnMvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItcHVzaC1ub3RpZmljYXRpb25zL2xpYi9pbmRleC5qcz9hMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihyb290LGZhY3Rvcnkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZmFjdG9yeSk7ZWxzZXt2YXIgYT1mYWN0b3J5KCk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6cm9vdClbaV09YVtpXX19KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTc4KX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksYmFzZTY0PV9fd2VicGFja19yZXF1aXJlX18oNTkpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzEpLHNldEltbWVkaWF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCksZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNik7ZnVuY3Rpb24gaWRlbnRpdHkoaW5wdXQpe3JldHVybiBpbnB1dH1mdW5jdGlvbiBzdHJpbmdUb0FycmF5TGlrZShzdHIsYXJyYXkpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpYXJyYXlbaV09MjU1JnN0ci5jaGFyQ29kZUF0KGkpO3JldHVybiBhcnJheX1leHBvcnRzLm5ld0Jsb2I9ZnVuY3Rpb24ocGFydCx0eXBlKXtleHBvcnRzLmNoZWNrU3VwcG9ydChcImJsb2JcIik7dHJ5e3JldHVybiBuZXcgQmxvYihbcGFydF0se3R5cGU6dHlwZX0pfWNhdGNoKGUpe3RyeXt2YXIgYnVpbGRlcj1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtyZXR1cm4gYnVpbGRlci5hcHBlbmQocGFydCksYnVpbGRlci5nZXRCbG9iKHR5cGUpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkJ1ZyA6IGNhbid0IGNvbnN0cnVjdCB0aGUgQmxvYi5cIil9fX07dmFyIGFycmF5VG9TdHJpbmdIZWxwZXI9e3N0cmluZ2lmeUJ5Q2h1bms6ZnVuY3Rpb24oYXJyYXksdHlwZSxjaHVuayl7dmFyIHJlc3VsdD1bXSxrPTAsbGVuPWFycmF5Lmxlbmd0aDtpZihsZW48PWNodW5rKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkpO2Zvcig7azxsZW47KVwiYXJyYXlcIj09PXR5cGV8fFwibm9kZWJ1ZmZlclwiPT09dHlwZT9yZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkuc2xpY2UoayxNYXRoLm1pbihrK2NodW5rLGxlbikpKSk6cmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGFycmF5LnN1YmFycmF5KGssTWF0aC5taW4oaytjaHVuayxsZW4pKSkpLGsrPWNodW5rO3JldHVybiByZXN1bHQuam9pbihcIlwiKX0sc3RyaW5naWZ5QnlDaGFyOmZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIHJlc3VsdFN0cj1cIlwiLGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspcmVzdWx0U3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFycmF5W2ldKTtyZXR1cm4gcmVzdWx0U3RyfSxhcHBseUNhbkJlVXNlZDp7dWludDhhcnJheTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc3VwcG9ydC51aW50OGFycmF5JiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxub2RlanNVdGlscy5hbGxvY0J1ZmZlcigxKSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKX19O2Z1bmN0aW9uIGFycmF5TGlrZVRvU3RyaW5nKGFycmF5KXt2YXIgY2h1bms9NjU1MzYsdHlwZT1leHBvcnRzLmdldFR5cGVPZihhcnJheSksY2FuVXNlQXBwbHk9ITA7aWYoXCJ1aW50OGFycmF5XCI9PT10eXBlP2NhblVzZUFwcGx5PWFycmF5VG9TdHJpbmdIZWxwZXIuYXBwbHlDYW5CZVVzZWQudWludDhhcnJheTpcIm5vZGVidWZmZXJcIj09PXR5cGUmJihjYW5Vc2VBcHBseT1hcnJheVRvU3RyaW5nSGVscGVyLmFwcGx5Q2FuQmVVc2VkLm5vZGVidWZmZXIpLGNhblVzZUFwcGx5KWZvcig7Y2h1bms+MTspdHJ5e3JldHVybiBhcnJheVRvU3RyaW5nSGVscGVyLnN0cmluZ2lmeUJ5Q2h1bmsoYXJyYXksdHlwZSxjaHVuayl9Y2F0Y2goZSl7Y2h1bms9TWF0aC5mbG9vcihjaHVuay8yKX1yZXR1cm4gYXJyYXlUb1N0cmluZ0hlbHBlci5zdHJpbmdpZnlCeUNoYXIoYXJyYXkpfWZ1bmN0aW9uIGFycmF5TGlrZVRvQXJyYXlMaWtlKGFycmF5RnJvbSxhcnJheVRvKXtmb3IodmFyIGk9MDtpPGFycmF5RnJvbS5sZW5ndGg7aSsrKWFycmF5VG9baV09YXJyYXlGcm9tW2ldO3JldHVybiBhcnJheVRvfWV4cG9ydHMuYXBwbHlGcm9tQ2hhckNvZGU9YXJyYXlMaWtlVG9TdHJpbmc7dmFyIHRyYW5zZm9ybT17fTt0cmFuc2Zvcm0uc3RyaW5nPXtzdHJpbmc6aWRlbnRpdHksYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgQXJyYXkoaW5wdXQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gdHJhbnNmb3JtLnN0cmluZy51aW50OGFycmF5KGlucHV0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgVWludDhBcnJheShpbnB1dC5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHN0cmluZ1RvQXJyYXlMaWtlKGlucHV0LG5vZGVqc1V0aWxzLmFsbG9jQnVmZmVyKGlucHV0Lmxlbmd0aCkpfX0sdHJhbnNmb3JtLmFycmF5PXtzdHJpbmc6YXJyYXlMaWtlVG9TdHJpbmcsYXJyYXk6aWRlbnRpdHksYXJyYXlidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0uYXJyYXlidWZmZXI9e3N0cmluZzpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvU3RyaW5nKG5ldyBVaW50OEFycmF5KGlucHV0KSl9LGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UobmV3IFVpbnQ4QXJyYXkoaW5wdXQpLG5ldyBBcnJheShpbnB1dC5ieXRlTGVuZ3RoKSl9LGFycmF5YnVmZmVyOmlkZW50aXR5LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKG5ldyBVaW50OEFycmF5KGlucHV0KSl9fSx0cmFuc2Zvcm0udWludDhhcnJheT17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGlucHV0LmJ1ZmZlcn0sdWludDhhcnJheTppZGVudGl0eSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0ubm9kZWJ1ZmZlcj17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHRyYW5zZm9ybS5ub2RlYnVmZmVyLnVpbnQ4YXJyYXkoaW5wdXQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvQXJyYXlMaWtlKGlucHV0LG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOmlkZW50aXR5fSxleHBvcnRzLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKG91dHB1dFR5cGUsaW5wdXQpe2lmKGlucHV0fHwoaW5wdXQ9XCJcIiksIW91dHB1dFR5cGUpcmV0dXJuIGlucHV0O2V4cG9ydHMuY2hlY2tTdXBwb3J0KG91dHB1dFR5cGUpO3ZhciBpbnB1dFR5cGU9ZXhwb3J0cy5nZXRUeXBlT2YoaW5wdXQpO3JldHVybiB0cmFuc2Zvcm1baW5wdXRUeXBlXVtvdXRwdXRUeXBlXShpbnB1dCl9LGV4cG9ydHMuZ2V0VHlwZU9mPWZ1bmN0aW9uKGlucHV0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaW5wdXQ/XCJzdHJpbmdcIjpcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpP1wiYXJyYXlcIjpzdXBwb3J0Lm5vZGVidWZmZXImJm5vZGVqc1V0aWxzLmlzQnVmZmVyKGlucHV0KT9cIm5vZGVidWZmZXJcIjpzdXBwb3J0LnVpbnQ4YXJyYXkmJmlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheT9cInVpbnQ4YXJyYXlcIjpzdXBwb3J0LmFycmF5YnVmZmVyJiZpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1wiYXJyYXlidWZmZXJcIjp2b2lkIDB9LGV4cG9ydHMuY2hlY2tTdXBwb3J0PWZ1bmN0aW9uKHR5cGUpe2lmKCFzdXBwb3J0W3R5cGUudG9Mb3dlckNhc2UoKV0pdGhyb3cgbmV3IEVycm9yKHR5cGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsYXRmb3JtXCIpfSxleHBvcnRzLk1BWF9WQUxVRV8xNkJJVFM9NjU1MzUsZXhwb3J0cy5NQVhfVkFMVUVfMzJCSVRTPS0xLGV4cG9ydHMucHJldHR5PWZ1bmN0aW9uKHN0cil7dmFyIGNvZGUsaSxyZXM9XCJcIjtmb3IoaT0wO2k8KHN0cnx8XCJcIikubGVuZ3RoO2krKylyZXMrPVwiXFxcXHhcIisoKGNvZGU9c3RyLmNoYXJDb2RlQXQoaSkpPDE2P1wiMFwiOlwiXCIpK2NvZGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHJlc30sZXhwb3J0cy5kZWxheT1mdW5jdGlvbihjYWxsYmFjayxhcmdzLHNlbGYpe3NldEltbWVkaWF0ZShmdW5jdGlvbigpe2NhbGxiYWNrLmFwcGx5KHNlbGZ8fG51bGwsYXJnc3x8W10pfSl9LGV4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3ZhciBPYmo9ZnVuY3Rpb24oKXt9O09iai5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgT2JqfSxleHBvcnRzLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBpLGF0dHIscmVzdWx0PXt9O2ZvcihpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylmb3IoYXR0ciBpbiBhcmd1bWVudHNbaV0pYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGF0dHIpJiZ2b2lkIDA9PT1yZXN1bHRbYXR0cl0mJihyZXN1bHRbYXR0cl09YXJndW1lbnRzW2ldW2F0dHJdKTtyZXR1cm4gcmVzdWx0fSxleHBvcnRzLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKG5hbWUsaW5wdXREYXRhLGlzQmluYXJ5LGlzT3B0aW1pemVkQmluYXJ5U3RyaW5nLGlzQmFzZTY0KXtyZXR1cm4gZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKGlucHV0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtyZXR1cm4gc3VwcG9ydC5ibG9iJiYoZGF0YSBpbnN0YW5jZW9mIEJsb2J8fC0xIT09W1wiW29iamVjdCBGaWxlXVwiLFwiW29iamVjdCBCbG9iXVwiXS5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKSkpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZVJlYWRlcj9uZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHJlYWRlcj1uZXcgRmlsZVJlYWRlcjtyZWFkZXIub25sb2FkPWZ1bmN0aW9uKGUpe3Jlc29sdmUoZS50YXJnZXQucmVzdWx0KX0scmVhZGVyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmVqZWN0KGUudGFyZ2V0LmVycm9yKX0scmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGRhdGEpfSk6ZGF0YX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7dmFyIGRhdGFUeXBlPWV4cG9ydHMuZ2V0VHlwZU9mKGRhdGEpO3JldHVybiBkYXRhVHlwZT8oXCJhcnJheWJ1ZmZlclwiPT09ZGF0YVR5cGU/ZGF0YT1leHBvcnRzLnRyYW5zZm9ybVRvKFwidWludDhhcnJheVwiLGRhdGEpOlwic3RyaW5nXCI9PT1kYXRhVHlwZSYmKGlzQmFzZTY0P2RhdGE9YmFzZTY0LmRlY29kZShkYXRhKTppc0JpbmFyeSYmITAhPT1pc09wdGltaXplZEJpbmFyeVN0cmluZyYmKGRhdGE9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyaW5nVG9BcnJheUxpa2Uoc3RyLHN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheShzdHIubGVuZ3RoKTpuZXcgQXJyYXkoc3RyLmxlbmd0aCkpfShkYXRhKSkpLGRhdGEpOmV4dGVybmFsLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbid0IHJlYWQgdGhlIGRhdGEgb2YgJ1wiK25hbWUrXCInLiBJcyBpdCBpbiBhIHN1cHBvcnRlZCBKYXZhU2NyaXB0IHR5cGUgKFN0cmluZywgQmxvYiwgQXJyYXlCdWZmZXIsIGV0YykgP1wiKSl9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuREVGQVVMVF9TRVJWSUNFX1dPUktFUl9VUkw9XCIvcHVzaHdvb3NoLXNlcnZpY2Utd29ya2VyLmpzXCIsZXhwb3J0cy5ERUZBVUxUX0FQSV9VUkw9XCJodHRwczovL2NwLnB1c2h3b29zaC5jb20vanNvbi8xLjMvXCIsZXhwb3J0cy5GQUNFQk9PS19BUFBfSUQ9XCI0MzY3MTE3NjcwODE3OTdcIixleHBvcnRzLkZBQ0VCT09LX0hXSURfS0VZPVwiRkFDRUJPT0tfSFdJRF9LRVlcIixleHBvcnRzLlBFUklPRF9TRU5EX0FQUF9PUEVOPTM2ZTUsZXhwb3J0cy5QRVJJT0RfR09BTF9FVkVOVD04NjRlNSxleHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0RVUkFUSU9OPTEwLGV4cG9ydHMuTUlOX05PVElGSUNBVElPTl9EVVJBVElPTj0xMCxleHBvcnRzLk1BWF9OT1RJRklDQVRJT05fRFVSQVRJT049NTUsZXhwb3J0cy5XQUtFX1VQX1NFUlZJQ0VfV09SS0VSX0lOVEVSVkFMPTIwLGV4cG9ydHMuREVGQVVMVF9OT1RJRklDQVRJT05fVElUTEU9XCJQdXNod29vc2ggbm90aWZpY2F0aW9uXCIsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9JTUFHRT1cImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9pbWcvbG9nby1tZWRpdW0ucG5nXCIsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9VUkw9XCIvXCIsZXhwb3J0cy5LRVlfQVBJX1BBUkFNUz1cIkFQSV9QQVJBTVNcIixleHBvcnRzLktFWV9JTklUX1BBUkFNUz1cIklOSVRfUEFSQU1TXCIsZXhwb3J0cy5LRVlfU0RLX1ZFUlNJT049XCJTREtfVkVSU0lPTlwiLGV4cG9ydHMuS0VZX1dPUktFUl9WRVJTSU9OPVwiV09SS0VSX1ZFUlNJT05cIixleHBvcnRzLktFWV9MQVNUX1NFTlRfQVBQX09QRU49XCJMQVNUX1NFTlRfQVBQX09QRU5cIixleHBvcnRzLktFWV9MQVNUX09QRU5fTUVTU0FHRT1cIkxBU1RfT1BFTl9NRVNTQUdFXCIsZXhwb3J0cy5LRVlfQVBJX0JBU0VfVVJMPVwiQVBJX0JBU0VfVVJMXCIsZXhwb3J0cy5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUPVwiV0lER0VUX1NIT1dFRFwiLGV4cG9ydHMuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQ9XCJXSURHRVRfQ0xJQ0tFRFwiLGV4cG9ydHMuS0VZX0RFTEFZRURfRVZFTlQ9XCJERUxBWUVEX0VWRU5UXCIsZXhwb3J0cy5LRVlfQ09NTVVOSUNBVElPTl9FTkFCTEVEPVwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsZXhwb3J0cy5LRVlfREVWSUNFX0RBVEFfUkVNT1ZFRD1cIkRFVklDRV9EQVRBX1JFTU9WRURcIixleHBvcnRzLktFWV9JTlRFUk5BTF9FVkVOVFM9XCJJTlRFUk5BTF9FVkVOVFNcIixleHBvcnRzLktFWV9VTlNVQlNDUklCRURfRFVFX1RPX1VOREVGSU5FRF9LRVlTPVwiVU5TVUJTQ1JJQkVEX0RVRV9UT19VTkRFRklORURfS0VZU1wiLGV4cG9ydHMuS0VZX0ZBS0VfUFVTSF9UT0tFTj1cImZha2VQdXNoVG9rZW5cIixleHBvcnRzLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUz1cImRldmljZVJlZ2lzdHJhdGlvblN0YXR1c1wiLGV4cG9ydHMuS0VZX1NBRkFSSV9QUkVWSU9VU19QRVJNSVNTSU9OPVwic2FmYXJpUHJldmlvdXNQZXJtaXNzaW9uXCIsZXhwb3J0cy5NQU5VQUxfU0VUX0xPR0dFUl9MRVZFTD1cIlBXX1NFVF9MT0dHRVJfTEVWRUxcIixleHBvcnRzLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQ9XCJyZWdpc3RlcmVkXCIsZXhwb3J0cy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUQ9XCJ1bnJlZ2lzdGVyZWRcIixleHBvcnRzLktFWV9TRU5ERVJfSUQ9XCJHQ01fU0VOREVSX0lEXCIsZXhwb3J0cy5LRVlfRkNNX1NVQlNDUklQVElPTj1cIkZDTV9TVUJTQ1JJUFRJT05cIixleHBvcnRzLlBFUk1JU1NJT05fREVOSUVEPVwiZGVuaWVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX0dSQU5URUQ9XCJncmFudGVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX1BST01QVD1cImRlZmF1bHRcIixleHBvcnRzLkVWRU5UX09OX0xPQUQ9XCJvbkxvYWRcIixleHBvcnRzLkVWRU5UX09OX1JFQURZPVwib25SZWFkeVwiLGV4cG9ydHMuRVZFTlRfT05fU1VCU0NSSUJFPVwib25TdWJzY3JpYmVcIixleHBvcnRzLkVWRU5UX09OX1VOU1VCU0NSSUJFPVwib25VbnN1YnNjcmliZVwiLGV4cG9ydHMuRVZFTlRfT05fUkVHSVNURVI9XCJvblJlZ2lzdGVyXCIsZXhwb3J0cy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVD1cIm9uUGVybWlzc2lvblByb21wdFwiLGV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQ9XCJvblBlcm1pc3Npb25EZW5pZWRcIixleHBvcnRzLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRD1cIm9uUGVybWlzc2lvbkdyYW50ZWRcIixleHBvcnRzLkVWRU5UX09OX1NXX0lOSVRfRVJST1I9XCJvblNXSW5pdEVycm9yXCIsZXhwb3J0cy5FVkVOVF9PTl9QVVNIX0RFTElWRVJZPVwib25QdXNoRGVsaXZlcnlcIixleHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSz1cIm9uTm90aWZpY2F0aW9uQ2xpY2tcIixleHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRT1cIm9uTm90aWZpY2F0aW9uQ2xvc2VcIixleHBvcnRzLkVWRU5UX09OX0NIQU5HRV9DT01NVU5JQ0FUSU9OX0VOQUJMRUQ9XCJvbkNoYW5nZUNvbW11bmljYXRpb25FbmFibGVkXCIsZXhwb3J0cy5FVkVOVF9PTl9QVVRfTkVXX01FU1NBR0VfVE9fSU5CT1hfU1RPUkU9XCJvblB1dE5ld01lc3NhZ2VUb0luYm94U3RvcmVcIixleHBvcnRzLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUz1cIm9uVXBkYXRlSW5ib3hNZXNzYWdlc1wiLGV4cG9ydHMuRVZFTlRfT05fU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c9XCJvblNob3dOb3RpZmljYXRpb25QZXJtaXNzaW9uRGlhbG9nXCIsZXhwb3J0cy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIm9uSGlkZU5vdGlmaWNhdGlvblBlcm1pc3Npb25EaWFsb2dcIixleHBvcnRzLkVWRU5UX09OX1NIT1dfU1VCU0NSSVBUSU9OX1dJREdFVD1cIm9uU2hvd1N1YnNjcmlwdGlvbldpZGdldFwiLGV4cG9ydHMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUPVwib25IaWRlU3Vic2NyaXB0aW9uV2lkZ2V0XCIsZXhwb3J0cy5FVkVOVF9TSE9XX1NVQlNDUklCRV9CVVRUT049XCJzaG93U3Vic2NyaWJlQnV0dG9uXCIsZXhwb3J0cy5FVkVOVF9DTElDS19TVUJTQ1JJQkVfQlVUVE9OPVwiY2xpY2tTdWJzY3JpYmVCdXR0b25cIixleHBvcnRzLkVWRU5UX0dEUFJfQ09OU0VOVD1cIkdEUFJDb25zZW50XCIsZXhwb3J0cy5FVkVOVF9HRFBSX0RFTEVURT1cIkdEUFJEZWxldGVcIixleHBvcnRzLkVWRU5UX1BXX1NJVEVfT1BFTkVEPVwiUFdfU2l0ZU9wZW5lZFwiLGV4cG9ydHMuTUFOVUFMX1VOU1VCU0NSSUJFPVwiTUFOVUFMX1VOU1VCU0NSSUJFXCIsZXhwb3J0cy5QQUdFX1ZJU0lURURfVVJMPVwiUEFHRV9WSVNJVEVEX1VSTFwiLGV4cG9ydHMuQ0hBTk5FTFM9XCJDSEFOTkVMU1wiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1NFR01FTlRfRVZFTlQ9XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIixleHBvcnRzLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfTk9UX1NFVD1cIm5vdC1zZXRcIixleHBvcnRzLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfTk9UX1VTRUQ9XCJub3QtdXNlZFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9ERUZBVUxUPVwiZGVmYXVsdFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9UT1BJQ19CQVNFRD1cInRvcGljLWJhc2VkXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRz17aGVhZGVyVGV4dDpcIlN1YnNjcmliZSB0byBvdXIgbmV3c1wiLGhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixzdWJoZWFkZXJUZXh0OlwiRG9uJ3QgbWlzcyBvdXQgb24gdGhlIGxhdGVzdCBuZXdzIGFuZCB1cGRhdGVzIVwiLHN1YmhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixidXR0b25BY2NlcHRUZXh0OlwiQWdyZWVcIixidXR0b25BY2NlcHRUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQWNjZXB0Um91bmQ6XCI0cHhcIixidXR0b25BY2NlcHRCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQWNjZXB0Qm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsYnV0dG9uQ2FuY2VsVGV4dDpcIkRlbnlcIixidXR0b25DYW5jZWxUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQ2FuY2VsUm91bmQ6XCI0cHhcIixidXR0b25DYW5jZWxCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQ2FuY2VsQm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsY2FwcGluZ0NvdW50OjMsY2FwcGluZ0RlbGF5OjE0NGU1LGJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEdlbmVyaWNXb3JrZXIobmFtZSl7dGhpcy5uYW1lPW5hbWV8fFwiZGVmYXVsdFwiLHRoaXMuc3RyZWFtSW5mbz17fSx0aGlzLmdlbmVyYXRlZEVycm9yPW51bGwsdGhpcy5leHRyYVN0cmVhbUluZm89e30sdGhpcy5pc1BhdXNlZD0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9saXN0ZW5lcnM9e2RhdGE6W10sZW5kOltdLGVycm9yOltdfSx0aGlzLnByZXZpb3VzPW51bGx9R2VuZXJpY1dvcmtlci5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oY2h1bmspe3RoaXMuZW1pdChcImRhdGFcIixjaHVuayl9LGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmZsdXNoKCk7dHJ5e3RoaXMuZW1pdChcImVuZFwiKSx0aGlzLmNsZWFuVXAoKSx0aGlzLmlzRmluaXNoZWQ9ITB9Y2F0Y2goZSl7dGhpcy5lbWl0KFwiZXJyb3JcIixlKX1yZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ/dGhpcy5nZW5lcmF0ZWRFcnJvcj1lOih0aGlzLmlzRmluaXNoZWQ9ITAsdGhpcy5lbWl0KFwiZXJyb3JcIixlKSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmVycm9yKGUpLHRoaXMuY2xlYW5VcCgpKSwhMCl9LG9uOmZ1bmN0aW9uKG5hbWUsbGlzdGVuZXIpe3JldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV0ucHVzaChsaXN0ZW5lciksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKG5hbWUsYXJnKXtpZih0aGlzLl9saXN0ZW5lcnNbbmFtZV0pZm9yKHZhciBpPTA7aTx0aGlzLl9saXN0ZW5lcnNbbmFtZV0ubGVuZ3RoO2krKyl0aGlzLl9saXN0ZW5lcnNbbmFtZV1baV0uY2FsbCh0aGlzLGFyZyl9LHBpcGU6ZnVuY3Rpb24obmV4dCl7cmV0dXJuIG5leHQucmVnaXN0ZXJQcmV2aW91cyh0aGlzKX0scmVnaXN0ZXJQcmV2aW91czpmdW5jdGlvbihwcmV2aW91cyl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuc3RyZWFtSW5mbz1wcmV2aW91cy5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz1wcmV2aW91czt2YXIgc2VsZj10aGlzO3JldHVybiBwcmV2aW91cy5vbihcImRhdGFcIixmdW5jdGlvbihjaHVuayl7c2VsZi5wcm9jZXNzQ2h1bmsoY2h1bmspfSkscHJldmlvdXMub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYuZW5kKCl9KSxwcmV2aW91cy5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dGhpcy5pc1BhdXNlZD0hMTt2YXIgd2l0aEVycm9yPSExO3JldHVybiB0aGlzLmdlbmVyYXRlZEVycm9yJiYodGhpcy5lcnJvcih0aGlzLmdlbmVyYXRlZEVycm9yKSx3aXRoRXJyb3I9ITApLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucmVzdW1lKCksIXdpdGhFcnJvcn0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbihjaHVuayl7dGhpcy5wdXNoKGNodW5rKX0sd2l0aFN0cmVhbUluZm86ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gdGhpcy5leHRyYVN0cmVhbUluZm9ba2V5XT12YWx1ZSx0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXN9LG1lcmdlU3RyZWFtSW5mbzpmdW5jdGlvbigpe2Zvcih2YXIga2V5IGluIHRoaXMuZXh0cmFTdHJlYW1JbmZvKXRoaXMuZXh0cmFTdHJlYW1JbmZvLmhhc093blByb3BlcnR5KGtleSkmJih0aGlzLnN0cmVhbUluZm9ba2V5XT10aGlzLmV4dHJhU3RyZWFtSW5mb1trZXldKX0sbG9jazpmdW5jdGlvbigpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLmlzTG9ja2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMubG9jaygpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBtZT1cIldvcmtlciBcIit0aGlzLm5hbWU7cmV0dXJuIHRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cytcIiAtPiBcIittZTptZX19LG1vZHVsZS5leHBvcnRzPUdlbmVyaWNXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2V4dGVuZHM9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGV4dGVuZFN0YXRpY3M9ZnVuY3Rpb24oZCxiKXtyZXR1cm4oZXh0ZW5kU3RhdGljcz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZCxiKXtkLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oZCxiKXtmb3IodmFyIHAgaW4gYiliLmhhc093blByb3BlcnR5KHApJiYoZFtwXT1iW3BdKX0pKGQsYil9O3JldHVybiBmdW5jdGlvbihkLGIpe2Z1bmN0aW9uIF9fKCl7dGhpcy5jb25zdHJ1Y3Rvcj1kfWV4dGVuZFN0YXRpY3MoZCxiKSxkLnByb3RvdHlwZT1udWxsPT09Yj9PYmplY3QuY3JlYXRlKGIpOihfXy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsbmV3IF9fKX19KCksX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fSxfX3Jlc3Q9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKHMsZSl7dmFyIHQ9e307Zm9yKHZhciBwIGluIHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJmUuaW5kZXhPZihwKTwwJiYodFtwXT1zW3BdKTtpZihudWxsIT1zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT0wO2ZvcihwPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7aTxwLmxlbmd0aDtpKyspZS5pbmRleE9mKHBbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLHBbaV0pJiYodFtwW2ldXT1zW3BbaV1dKX1yZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGRhdGFiYXNlUHJvbWlzZSx2ZXJzaW9uXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksTWlncmF0aW9uRXhlY3V0b3JfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO2Z1bmN0aW9uIG9udmVyc2lvbmNoYW5nZShkYXRhYmFzZSxldmVudCl7Y29uc29sZS5pbmZvKFwib252ZXJzaW9uY2hhbmdlXCIsZXZlbnQpLGRhdGFiYXNlLmNsb3NlKCl9ZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKXtyZXR1cm4gZGF0YWJhc2VQcm9taXNlfHwoZGF0YWJhc2VQcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1pbmRleGVkREIub3BlbihcIlBVU0hXT09TSF9TREtfU1RPUkVcIix2ZXJzaW9uXzEuZGVmYXVsdCk7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciBkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1vbnZlcnNpb25jaGFuZ2UuYmluZChudWxsLGRhdGFiYXNlLHJlamVjdCkscmVzb2x2ZShkYXRhYmFzZSl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByZWplY3QocmVxdWVzdC5lcnJvcil9LHJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9b252ZXJzaW9uY2hhbmdlLmJpbmQobnVsbCxkYXRhYmFzZSxyZWplY3QpLG5ldyBNaWdyYXRpb25FeGVjdXRvcl8xLmRlZmF1bHQoZGF0YWJhc2UpLmFwcGx5TWlncmF0aW9ucygpfX0pKSxkYXRhYmFzZVByb21pc2V9ZnVuY3Rpb24gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShleGVjdXRvcil7cmV0dXJuIGdldEluc3RhbmNlKCkudGhlbihmdW5jdGlvbihkYXRhYmFzZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXR1cm4gZXhlY3V0b3IoZGF0YWJhc2UscmVzb2x2ZSxyZWplY3QpfSl9KX1leHBvcnRzLmdldEluc3RhbmNlPWdldEluc3RhbmNlO3ZhciBMb2dCYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTG9nQmFzZSgpe31yZXR1cm4gTG9nQmFzZS5wcm90b3R5cGUuX2FkZD1mdW5jdGlvbihvYmope3ZhciBfdGhpcz10aGlzO3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihbX3RoaXMubmFtZV0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkuYWRkKG9iaik7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXNvbHZlKG9iail9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChyZXF1ZXN0LmVycm9yKX19KS50aGVuKGZ1bmN0aW9uKG9iail7cmV0dXJuIF90aGlzLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24oaXRlbXMpe2lmKEFycmF5LmlzQXJyYXkoaXRlbXMpKXt2YXIgaWRzPWl0ZW1zLm1hcChmdW5jdGlvbihpKXtyZXR1cm4gaS5pZH0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yj8wOmE8Yj8xOi0xfSk7aWYoaWRzLmxlbmd0aD5fdGhpcy5tYXhJdGVtcylyZXR1cm4gUHJvbWlzZS5hbGwoaWRzLnNsaWNlKF90aGlzLm1heEl0ZW1zKS5tYXAoZnVuY3Rpb24oaWQpe3JldHVybiBfdGhpcy5kZWxldGUoaWQpfSkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gb2JqfSl9cmV0dXJuIG9ian0pfSl9LExvZ0Jhc2UucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihrZXkpe3ZhciBfdGhpcz10aGlzO3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihbX3RoaXMubmFtZV0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkuZGVsZXRlKGtleSk7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXNvbHZlKHJlcXVlc3QucmVzdWx0KX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxMb2dCYXNlLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHJlc3VsdD1bXSxjdXJzb3I9ZGF0YWJhc2UudHJhbnNhY3Rpb24oX3RoaXMubmFtZSkub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkub3BlbkN1cnNvcigpO2N1cnNvci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXYpe3ZhciBjdXJzb3JSZXN1bHQ9ZXYudGFyZ2V0LnJlc3VsdDtjdXJzb3JSZXN1bHQ/KGN1cnNvclJlc3VsdC52YWx1ZSYmcmVzdWx0LnB1c2goY3Vyc29yUmVzdWx0LnZhbHVlKSxjdXJzb3JSZXN1bHQuY29udGludWUoKSk6cmVzb2x2ZShyZXN1bHQpfSxjdXJzb3Iub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChjdXJzb3IuZXJyb3IpfX0pfSxMb2dCYXNlfSgpO2V4cG9ydHMuTG9nQmFzZT1Mb2dCYXNlO3ZhciBMb2dMb2c9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBMb2dMb2coKXt2YXIgX3RoaXM9bnVsbCE9PV9zdXBlciYmX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gX3RoaXMubmFtZT1jb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLF90aGlzLm1heEl0ZW1zPTEwMCxfdGhpcy5lbnZpcm9ubWVudD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5yZWdpc3RyYXRpb24/XCJ3b3JrZXJcIjpcImJyb3dzZXJcIixfdGhpc31yZXR1cm4gX19leHRlbmRzKExvZ0xvZyxfc3VwZXIpLExvZ0xvZy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHR5cGUsbWVzc2FnZSxhZGRpdGlvbmFsKXt2YXIgb2JqPXt0eXBlOnR5cGUsZW52aXJvbm1lbnQ6dGhpcy5lbnZpcm9ubWVudCxtZXNzYWdlOlwiXCIrbWVzc2FnZSxkYXRlOm5ldyBEYXRlfTtyZXR1cm4gbWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yJiYob2JqLnN0YWNrPW1lc3NhZ2Uuc3RhY2spLGFkZGl0aW9uYWwmJihvYmouYWRkaXRpb25hbD1hZGRpdGlvbmFsKSx0aGlzLl9hZGQob2JqKX0sTG9nTG9nfShMb2dCYXNlKTtleHBvcnRzLkxvZ0xvZz1Mb2dMb2c7dmFyIExvZ01lc3NhZ2U9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBMb2dNZXNzYWdlKCl7dmFyIF90aGlzPW51bGwhPT1fc3VwZXImJl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIF90aGlzLm5hbWU9Y29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRyxfdGhpcy5tYXhJdGVtcz0yNSxfdGhpc31yZXR1cm4gX19leHRlbmRzKExvZ01lc3NhZ2UsX3N1cGVyKSxMb2dNZXNzYWdlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obG9nKXtyZXR1cm4gdGhpcy5fYWRkKF9fYXNzaWduKF9fYXNzaWduKHt9LGxvZykse2RhdGU6bmV3IERhdGV9KSl9LExvZ01lc3NhZ2V9KExvZ0Jhc2UpO2V4cG9ydHMuTG9nTWVzc2FnZT1Mb2dNZXNzYWdlLGV4cG9ydHMua2V5VmFsdWU9ZnVuY3Rpb24obmFtZSl7cmV0dXJue2dldDpmdW5jdGlvbihrZXksZGVmYXVsdFZhbHVlKXtyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHRpbWVvdXQscmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihuYW1lKS5vYmplY3RTdG9yZShuYW1lKS5nZXQoa2V5KSxpc0NvbXBsZXRlPSExLGlzRXJyb3I9ITEsY2hlY2s9ZnVuY3Rpb24oKXtpZihjbGVhclRpbWVvdXQodGltZW91dCksaXNDb21wbGV0ZSl7dmFyIHJlc3VsdD1yZXF1ZXN0LnJlc3VsdDtyZXNvbHZlKHJlc3VsdCYmcmVzdWx0LnZhbHVlfHxkZWZhdWx0VmFsdWUpfWVsc2UgaXNFcnJvcj9yZWplY3QocmVxdWVzdC5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiBpc0NvbXBsZXRlPSEwfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gaXNFcnJvcj0hMH0sY2hlY2soKX0pfSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHRpbWVvdXQscmVzdWx0PXt9LGN1cnNvcj1kYXRhYmFzZS50cmFuc2FjdGlvbihuYW1lKS5vYmplY3RTdG9yZShuYW1lKS5vcGVuQ3Vyc29yKCksaXNDb21wbGV0ZT0hMSxpc0Vycm9yPSExLGNoZWNrPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRpbWVvdXQpLGlzQ29tcGxldGU/cmVzb2x2ZShyZXN1bHQpOmlzRXJyb3I/cmVqZWN0KGN1cnNvci5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgY3Vyc29yUmVzdWx0PWV2ZW50LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhyZXN1bHRbY3Vyc29yUmVzdWx0LmtleV09Y3Vyc29yUmVzdWx0LnZhbHVlLnZhbHVlLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTppc0NvbXBsZXRlPSEwfSxjdXJzb3Iub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBpc0Vycm9yPSEwfSxjaGVjaygpfSl9LGV4dGVuZDpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlcyxuZXdWYWx1ZXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0KGtleSldO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWVzPV9hLnNlbnQoKSxuZXdWYWx1ZXM9X19yZXN0KHZhbHVlLFtdKSxbNCx0aGlzLnNldChrZXksX19hc3NpZ24oX19hc3NpZ24oe30sb2xkVmFsdWVzKSxuZXdWYWx1ZXMpKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LHNldDpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgdGltZW91dCxyZXF1ZXN0PWRhdGFiYXNlLnRyYW5zYWN0aW9uKFtuYW1lXSxcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShuYW1lKS5wdXQoe2tleTprZXksdmFsdWU6dmFsdWV9KSxpc0NvbXBsZXRlPSExLGlzRXJyb3I9ITEsY2hlY2s9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZW91dCksaXNDb21wbGV0ZT9yZXNvbHZlKGtleSk6aXNFcnJvcj9yZWplY3QocmVxdWVzdC5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiBpc0NvbXBsZXRlPSEwfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gaXNFcnJvcj0hMH0sY2hlY2soKX0pfX19KGNvbnN0YW50c18xLlNUT1JFX05BTUVfS0VZX1ZBTFVFKSxleHBvcnRzLmxvZz1uZXcgTG9nTG9nLGV4cG9ydHMubWVzc2FnZT1uZXcgTG9nTWVzc2FnZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fc3ByZWFkQXJyYXlzPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTAsaT0wLGlsPWFyZ3VtZW50cy5sZW5ndGg7aTxpbDtpKyspcys9YXJndW1lbnRzW2ldLmxlbmd0aDt2YXIgcj1BcnJheShzKSxrPTA7Zm9yKGk9MDtpPGlsO2krKylmb3IodmFyIGE9YXJndW1lbnRzW2ldLGo9MCxqbD1hLmxlbmd0aDtqPGpsO2orKyxrKyspcltrXT1hW2pdO3JldHVybiByfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksbGV2ZWxzPXtlcnJvcjoxLGluZm86MixkZWJ1ZzozfSxsaW1pdExldmVsPTM7X193ZWJwYWNrX3JlcXVpcmVfXygxMCkucGF0Y2hDb25zb2xlKCk7dmFyIExvZ2dlcj17c2V0TGV2ZWw6ZnVuY3Rpb24obGV2ZWwpe2xldmVsc1tsZXZlbF18fChsZXZlbD1cImVycm9yXCIpLGxpbWl0TGV2ZWw9bGV2ZWxzW2xldmVsXX0sd3JpdGU6ZnVuY3Rpb24odHlwZSxtZXNzYWdlLGFkZGl0aW9uYWwpe3JldHVyblwiZXJyb3JcIj09PXR5cGU/dGhpcy5lcnJvcihtZXNzYWdlKTp0aGlzLmluZm8obWVzc2FnZSksc3RvcmFnZV8xLmxvZy5hZGQodHlwZSxtZXNzYWdlLGFkZGl0aW9uYWwpfX07ZXhwb3J0cy5Mb2dnZXI9TG9nZ2VyLE9iamVjdC5rZXlzKGxldmVscykuZm9yRWFjaChmdW5jdGlvbihsZXZlbE5hbWUpe3ZhciBsZXZlbE51bWJlcj1sZXZlbHNbbGV2ZWxOYW1lXTtMb2dnZXJbbGV2ZWxOYW1lXT1mdW5jdGlvbigpe2Zvcih2YXIgYXJncz1bXSxfaT0wO19pPGFyZ3VtZW50cy5sZW5ndGg7X2krKylhcmdzW19pXT1hcmd1bWVudHNbX2ldO2xldmVsTnVtYmVyPD1saW1pdExldmVsJiYoY29uc29sZS5ncm91cENvbGxhcHNlZChsZXZlbE5hbWUpLGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLF9fc3ByZWFkQXJyYXlzKFtcIlwiXSxhcmdzKSksY29uc29sZS50cmFjZShcInRyYWNlXCIpLGNvbnNvbGUuZ3JvdXBFbmQoKSl9fSksZXhwb3J0cy5sb2dBbmRUaHJvd0Vycm9yPWZ1bmN0aW9uKGVycm9yKXt2YXIgbG9nVGV4dD1uZXcgRXJyb3IoZXJyb3IpO3Rocm93IExvZ2dlci53cml0ZShcImVycm9yXCIsbG9nVGV4dCxcImxvZ0FuZFRocm93RXJyb3JcIiksbG9nVGV4dH0sZXhwb3J0cy5sb2dBbmRSZWplY3RFcnJvcj1mdW5jdGlvbihlcnJvcixyZWplY3Qpe3ZhciBsb2dUZXh0PW5ldyBFcnJvcihlcnJvcik7TG9nZ2VyLndyaXRlKFwiZXJyb3JcIixsb2dUZXh0LFwibG9nQW5kUmVqZWN0RXJyb3JcIikscmVqZWN0KGxvZ1RleHQpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLERhdGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEYXRhKHN0b3JlKXt2b2lkIDA9PT1zdG9yZSYmKHN0b3JlPXN0b3JhZ2VfMS5rZXlWYWx1ZSksdGhpcy5zdG9yZT1zdG9yZX1yZXR1cm4gRGF0YS5wcm90b3R5cGUuY2xlYXJBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcHBsaWNhdGlvbkNvZGVcIix2b2lkIDApXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5od2lkXCIsdm9pZCAwKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGV2aWNlVHlwZVwiLHZvaWQgMCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRldmljZU1vZGVsXCIsdm9pZCAwKV07Y2FzZSA0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFuZ3VhZ2VcIix2b2lkIDApXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcGlFbnRyeXBvaW50XCIsdm9pZCAwKV07Y2FzZSA2OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudG9rZW5zXCIsdm9pZCAwKV07Y2FzZSA3OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBwbGljYXRpb25TZXJ2ZXJLZXlcIix2b2lkIDApXTtjYXNlIDg6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZW5kZXJJZFwiLHZvaWQgMCldO2Nhc2UgOTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLndlYlNpdGVQdXNoSWRcIix2b2lkIDApXTtjYXNlIDEwOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlXCIsdm9pZCAwKV07Y2FzZSAxMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25UaXRsZVwiLHZvaWQgMCldO2Nhc2UgMTI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy51c2VySWRcIix2b2lkIDApXTtjYXNlIDEzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkV2FzQ2hhbmdlZFwiLHZvaWQgMCldO2Nhc2UgMTQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0xhc3RQZXJtaXNzaW9uU3RhdHVzXCIsdm9pZCAwKV07Y2FzZSAxNTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzTWFudWFsVW5zdWJzY3JpYmVkXCIsdm9pZCAwKV07Y2FzZSAxNjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkXCIsdm9pZCAwKV07Y2FzZSAxNzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzRHJvcEFsbERhdGFcIix2b2lkIDApXTtjYXNlIDE4OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2RrVmVyc2lvblwiLHZvaWQgMCldO2Nhc2UgMTk6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVmVyc2lvblwiLHZvaWQgMCldO2Nhc2UgMjA6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVXJsXCIsdm9pZCAwKV07Y2FzZSAyMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJTY29wZVwiLHZvaWQgMCldO2Nhc2UgMjI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYXN0T3Blbk1lc3NhZ2VcIix2b2lkIDApXTtjYXNlIDIzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFzdE9wZW5BcHBsaWNhdGlvblRpbWVcIix2b2lkIDApXTtjYXNlIDI0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZmVhdHVyZXNcIix2b2lkIDApXTtjYXNlIDI1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5pdFwiLHZvaWQgMCldO2Nhc2UgMjY6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkFQSV9QQVJBTVNcIix2b2lkIDApXTtjYXNlIDI3OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJTRU5ERVJfSURcIix2b2lkIDApXTtjYXNlIDI4OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJDT01NVU5JQ0FUSU9OX0VOQUJMRURcIix2b2lkIDApXTtjYXNlIDI5OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJERVZJQ0VfREFUQV9SRU1PVkVEXCIsdm9pZCAwKV07Y2FzZSAzMDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiTEFTVF9PUEVOX01FU1NBR0VcIix2b2lkIDApXTtjYXNlIDMxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJERUxBWUVEX0VWRU5UXCIsdm9pZCAwKV07Y2FzZSAzMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRBcHBsaWNhdGlvbkNvZGU9ZnVuY3Rpb24oYXBwbGljYXRpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uQ29kZVwiLGFwcGxpY2F0aW9uKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEFwcGxpY2F0aW9uQ29kZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uQ29kZVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SHdpZD1mdW5jdGlvbihod2lkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5od2lkXCIsaHdpZCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRId2lkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaHdpZFwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RGV2aWNlVHlwZT1mdW5jdGlvbih0eXBlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VUeXBlXCIsdHlwZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZXZpY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGV2aWNlVHlwZVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWw9ZnVuY3Rpb24obW9kZWwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRldmljZU1vZGVsXCIsbW9kZWwpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGV2aWNlTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZXZpY2VNb2RlbFwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0TGFuZ3VhZ2U9ZnVuY3Rpb24obGFuZ3VhZ2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhbmd1YWdlXCIsbGFuZ3VhZ2UpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFuZ3VhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5sYW5ndWFnZVwiLFwiZW5cIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEFwaUVudHJ5cG9pbnQ9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcGlFbnRyeXBvaW50XCIsdXJsKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEFwaUVudHJ5cG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5hcGlFbnRyeXBvaW50XCIsQ09OU1RBTlRTLkRFRkFVTFRfQVBJX1VSTCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFRva2Vucz1mdW5jdGlvbih0b2tlbnMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGh3aWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0SHdpZCgpXTtjYXNlIDE6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiQVBJX1BBUkFNU1wiLF9fYXNzaWduKHtod2lkOmh3aWR9LHRva2VucykpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy50b2tlbnNcIix0b2tlbnMpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiQVBJX1BBUkFNU1wiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMudG9rZW5zXCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEFwcGxpY2F0aW9uU2VydmVyS2V5PWZ1bmN0aW9uKGtleSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBwbGljYXRpb25TZXJ2ZXJLZXlcIixrZXkpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5hcHBsaWNhdGlvblNlcnZlcktleVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U2VuZGVySWQ9ZnVuY3Rpb24oc2VuZGVySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiR0NNX1NFTkRFUl9JRFwiLHNlbmRlcklkKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VuZGVySWRcIixzZW5kZXJJZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZW5kZXJJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkdDTV9TRU5ERVJfSURcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnNlbmRlcklkXCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFdlYlNpdGVQdXNoSWQ9ZnVuY3Rpb24oc2VuZGVySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLndlYlNpdGVQdXNoSWRcIixzZW5kZXJJZCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRXZWJTaXRlUHVzaElkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMud2ViU2l0ZVB1c2hJZFwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlPWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlXCIsdXJsKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERlZmF1bHROb3RpZmljYXRpb25JbWFnZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZVwiLENPTlNUQU5UUy5ERUZBVUxUX05PVElGSUNBVElPTl9JTUFHRSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERlZmF1bHROb3RpZmljYXRpb25UaXRsZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGVcIix0ZXh0KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERlZmF1bHROb3RpZmljYXRpb25UaXRsZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25UaXRsZVwiLENPTlNUQU5UUy5ERUZBVUxUX05PVElGSUNBVElPTl9USVRMRSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFVzZXJJZD1mdW5jdGlvbih1c2VySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB1c2VySWQ/WzMsMl06WzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkXCIsdm9pZCAwKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy51c2VySWRcIix1c2VySWQudG9TdHJpbmcoKSldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRVc2VySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy51c2VySWRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQ9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy51c2VySWRXYXNDaGFuZ2VkXCIsc3RhdHVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy51c2VySWRXYXNDaGFuZ2VkXCIsITEpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRMYXN0UGVybWlzc2lvblN0YXR1cz1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzTGFzdFBlcm1pc3Npb25TdGF0dXNcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFzdFBlcm1pc3Npb25TdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pc0xhc3RQZXJtaXNzaW9uU3RhdHVzXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIk1BTlVBTF9VTlNVQlNDUklCRVwiLHN0YXR1cyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzTWFudWFsVW5zdWJzY3JpYmVkXCIsc3RhdHVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIk1BTlVBTF9VTlNVQlNDUklCRVwiLCExKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNNYW51YWxVbnN1YnNjcmliZWRcIiwhMSldO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJDT01NVU5JQ0FUSU9OX0VOQUJMRURcIixzdGF0dXM/MDoxKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWRcIixzdGF0dXMpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZFwiLCExKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOjA9PW9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTdGF0dXNEcm9wQWxsRGF0YT1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLHN0YXR1cyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzRHJvcEFsbERhdGFcIixzdGF0dXMpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U3RhdHVzRHJvcEFsbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJERVZJQ0VfREFUQV9SRU1PVkVEXCIsITEpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pc0Ryb3BBbGxEYXRhXCIsITEpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNka1ZlcnNpb249ZnVuY3Rpb24odmVyc2lvbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2RrVmVyc2lvblwiLHZlcnNpb24pXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2RrVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnNka1ZlcnNpb25cIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlcnZpY2VXb3JrZXJWZXJzaW9uPWZ1bmN0aW9uKHZlcnNpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiV09SS0VSX1ZFUlNJT05cIix2ZXJzaW9uKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclZlcnNpb25cIix2ZXJzaW9uKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiV09SS0VSX1ZFUlNJT05cIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJWZXJzaW9uXCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlcnZpY2VXb3JrZXJVcmw9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdXJsP1s0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJVcmxcIix1cmwpXTpbMl07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVXJsXCIsQ09OU1RBTlRTLkRFRkFVTFRfU0VSVklDRV9XT1JLRVJfVVJMKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U2VydmljZVdvcmtlclNjb3BlPWZ1bmN0aW9uKHNjb3BlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gc2NvcGU/WzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclNjb3BlXCIsc2NvcGUpXTpbMl07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJTY29wZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJTY29wZVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0TGFzdE9wZW5NZXNzYWdlPWZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiTEFTVF9PUEVOX01FU1NBR0VcIixtZXNzYWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFzdE9wZW5NZXNzYWdlXCIsbWVzc2FnZSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRMYXN0T3Blbk1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJMQVNUX09QRU5fTUVTU0FHRVwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMubGFzdE9wZW5NZXNzYWdlXCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhc3RPcGVuQXBwbGljYXRpb25UaW1lPWZ1bmN0aW9uKHRpbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuQXBwbGljYXRpb25UaW1lXCIsdGltZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmxhc3RPcGVuQXBwbGljYXRpb25UaW1lXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRGZWF0dXJlcz1mdW5jdGlvbihmZWF0dXJlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZmVhdHVyZXNcIixmZWF0dXJlcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRGZWF0dXJlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmZlYXR1cmVzXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbml0UGFyYW1zPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5pdFwiLHBhcmFtcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbml0UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaW5pdFwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5ib3hMYXN0UmVxdWVzdENvZGU9ZnVuY3Rpb24obGFzdENvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0Q29kZVwiLGxhc3RDb2RlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluYm94TGFzdFJlcXVlc3RDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaW5ib3gubGFzdFJlcXVlc3RDb2RlXCIsXCJcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluYm94TGFzdFJlcXVlc3RUaW1lPWZ1bmN0aW9uKGxhc3RSZXF1ZXN0VGltZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5ib3gubGFzdFJlcXVlc3RUaW1lXCIsbGFzdFJlcXVlc3RUaW1lKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluYm94TGFzdFJlcXVlc3RUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaW5ib3gubGFzdFJlcXVlc3RUaW1lXCIsMCldfSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5ib3hOZXdNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKGNvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbmJveC5uZXdNZXNzYWdlc0NvdW50XCIsY291bnQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5ib3hOZXdNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaW5ib3gubmV3TWVzc2FnZXNDb3VudFwiLDApXX0pfSl9LERhdGEucHJvdG90eXBlLnNldERlbGF5ZWRFdmVudD1mdW5jdGlvbihldmVudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJERUxBWUVEX0VWRU5UXCIsZXZlbnQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWxheWVkRXZlbnRcIixldmVudCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZWxheWVkRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJERUxBWUVEX0VWRU5UXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZWxheWVkRXZlbnRcIildO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTpvbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5BcHBzPWZ1bmN0aW9uKGluQXBwcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5BcHBzXCIsaW5BcHBzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluQXBwcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluQXBwc1wiKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRQcm9tcHREaXNwbGF5Q291bnQ9ZnVuY3Rpb24oY291bnQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnByb21wdERpc3BsYXlDb3VudFwiLGNvdW50KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFByb21wdERpc3BsYXlDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnByb21wdERpc3BsYXlDb3VudFwiLDApXX0pfSl9LERhdGEucHJvdG90eXBlLnNldFByb21wdExhc3RTZWVuVGltZT1mdW5jdGlvbih0aW1lKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5wcm9tcHRMYXN0U2VlblRpbWVcIix0aW1lKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFByb21wdExhc3RTZWVuVGltZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnByb21wdExhc3RTZWVuVGltZVwiLDApXX0pfSl9LERhdGF9KCk7ZXhwb3J0cy5EYXRhPURhdGF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEYXRlTW9kdWxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0ZU1vZHVsZShkYXRlKXt2b2lkIDA9PT1kYXRlJiYoZGF0ZT1uZXcgRGF0ZSksdGhpcy5fZGF0ZT1kYXRlfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0ZU1vZHVsZS5wcm90b3R5cGUsXCJkYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRlfSxzZXQ6ZnVuY3Rpb24oZGF0ZSl7dGhpcy5fZGF0ZT1kYXRlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLERhdGVNb2R1bGUucHJvdG90eXBlLmdldFV0Y1RpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCh0aGlzLmRhdGUuZ2V0VGltZSgpKzYwKnRoaXMuZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKjFlMykvMWUzKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuZ2V0VGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5kYXRlLmdldFRpbWUoKS8xZTMpfSxEYXRlTW9kdWxlLnByb3RvdHlwZS5zZXRMb2NhbD1mdW5jdGlvbigpe3ZhciBuZXdEYXRlVGltZXN0YW1wPXRoaXMuX2RhdGUuZ2V0VGltZSgpLTYwKnRoaXMuZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKjFlMzt0aGlzLl9kYXRlPW5ldyBEYXRlKG5ld0RhdGVUaW1lc3RhbXApfSxEYXRlTW9kdWxlLnByb3RvdHlwZS5hZGREYXlzPWZ1bmN0aW9uKGRheXMpe3ZhciBuZXdEYXRlVGltZXN0YW1wPXRoaXMuX2RhdGUuZ2V0VGltZSgpKzI0KmRheXMqNjAqNjAqMWUzO3RoaXMuX2RhdGU9bmV3IERhdGUobmV3RGF0ZVRpbWVzdGFtcCl9LERhdGVNb2R1bGUucHJvdG90eXBlLmdldEluYm94RmFrZU9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuKDEwMCp0aGlzLl9kYXRlLmdldFRpbWUoKSs5ZTkpLnRvU3RyaW5nKCl9LERhdGVNb2R1bGV9KCk7ZXhwb3J0cy5kZWZhdWx0PURhdGVNb2R1bGV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihCdWZmZXIpe2lmKGV4cG9ydHMuYmFzZTY0PSEwLGV4cG9ydHMuYXJyYXk9ITAsZXhwb3J0cy5zdHJpbmc9ITAsZXhwb3J0cy5hcnJheWJ1ZmZlcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5LGV4cG9ydHMubm9kZWJ1ZmZlcj12b2lkIDAhPT1CdWZmZXIsZXhwb3J0cy51aW50OGFycmF5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5LFwidW5kZWZpbmVkXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcilleHBvcnRzLmJsb2I9ITE7ZWxzZXt2YXIgYnVmZmVyPW5ldyBBcnJheUJ1ZmZlcigwKTt0cnl7ZXhwb3J0cy5ibG9iPTA9PT1uZXcgQmxvYihbYnVmZmVyXSx7dHlwZTpcImFwcGxpY2F0aW9uL3ppcFwifSkuc2l6ZX1jYXRjaChlKXt0cnl7dmFyIGJ1aWxkZXI9bmV3KHNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcik7YnVpbGRlci5hcHBlbmQoYnVmZmVyKSxleHBvcnRzLmJsb2I9MD09PWJ1aWxkZXIuZ2V0QmxvYihcImFwcGxpY2F0aW9uL3ppcFwiKS5zaXplfWNhdGNoKGUpe2V4cG9ydHMuYmxvYj0hMX19fXRyeXtleHBvcnRzLm5vZGVzdHJlYW09ISFfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKS5SZWFkYWJsZX1jYXRjaChlKXtleHBvcnRzLm5vZGVzdHJlYW09ITF9fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjMpLkJ1ZmZlcil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBUWVBFRF9PSz1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50MzJBcnJheTtmdW5jdGlvbiBfaGFzKG9iaixrZXkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSl9ZXhwb3J0cy5hc3NpZ249ZnVuY3Rpb24ob2JqKXtmb3IodmFyIHNvdXJjZXM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3NvdXJjZXMubGVuZ3RoOyl7dmFyIHNvdXJjZT1zb3VyY2VzLnNoaWZ0KCk7aWYoc291cmNlKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygc291cmNlKXRocm93IG5ldyBUeXBlRXJyb3Ioc291cmNlK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2Zvcih2YXIgcCBpbiBzb3VyY2UpX2hhcyhzb3VyY2UscCkmJihvYmpbcF09c291cmNlW3BdKX19cmV0dXJuIG9ian0sZXhwb3J0cy5zaHJpbmtCdWY9ZnVuY3Rpb24oYnVmLHNpemUpe3JldHVybiBidWYubGVuZ3RoPT09c2l6ZT9idWY6YnVmLnN1YmFycmF5P2J1Zi5zdWJhcnJheSgwLHNpemUpOihidWYubGVuZ3RoPXNpemUsYnVmKX07dmFyIGZuVHlwZWQ9e2FycmF5U2V0OmZ1bmN0aW9uKGRlc3Qsc3JjLHNyY19vZmZzLGxlbixkZXN0X29mZnMpe2lmKHNyYy5zdWJhcnJheSYmZGVzdC5zdWJhcnJheSlkZXN0LnNldChzcmMuc3ViYXJyYXkoc3JjX29mZnMsc3JjX29mZnMrbGVuKSxkZXN0X29mZnMpO2Vsc2UgZm9yKHZhciBpPTA7aTxsZW47aSsrKWRlc3RbZGVzdF9vZmZzK2ldPXNyY1tzcmNfb2ZmcytpXX0sZmxhdHRlbkNodW5rczpmdW5jdGlvbihjaHVua3Mpe3ZhciBpLGwsbGVuLHBvcyxjaHVuayxyZXN1bHQ7Zm9yKGxlbj0wLGk9MCxsPWNodW5rcy5sZW5ndGg7aTxsO2krKylsZW4rPWNodW5rc1tpXS5sZW5ndGg7Zm9yKHJlc3VsdD1uZXcgVWludDhBcnJheShsZW4pLHBvcz0wLGk9MCxsPWNodW5rcy5sZW5ndGg7aTxsO2krKyljaHVuaz1jaHVua3NbaV0scmVzdWx0LnNldChjaHVuayxwb3MpLHBvcys9Y2h1bmsubGVuZ3RoO3JldHVybiByZXN1bHR9fSxmblVudHlwZWQ9e2FycmF5U2V0OmZ1bmN0aW9uKGRlc3Qsc3JjLHNyY19vZmZzLGxlbixkZXN0X29mZnMpe2Zvcih2YXIgaT0wO2k8bGVuO2krKylkZXN0W2Rlc3Rfb2ZmcytpXT1zcmNbc3JjX29mZnMraV19LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oY2h1bmtzKXtyZXR1cm5bXS5jb25jYXQuYXBwbHkoW10sY2h1bmtzKX19O2V4cG9ydHMuc2V0VHlwZWQ9ZnVuY3Rpb24ob24pe29uPyhleHBvcnRzLkJ1Zjg9VWludDhBcnJheSxleHBvcnRzLkJ1ZjE2PVVpbnQxNkFycmF5LGV4cG9ydHMuQnVmMzI9SW50MzJBcnJheSxleHBvcnRzLmFzc2lnbihleHBvcnRzLGZuVHlwZWQpKTooZXhwb3J0cy5CdWY4PUFycmF5LGV4cG9ydHMuQnVmMTY9QXJyYXksZXhwb3J0cy5CdWYzMj1BcnJheSxleHBvcnRzLmFzc2lnbihleHBvcnRzLGZuVW50eXBlZCkpfSxleHBvcnRzLnNldFR5cGVkKFRZUEVEX09LKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TVE9SRV9OQU1FX0tFWV9WQUxVRT1cImtleVZhbHVlXCIsZXhwb3J0cy5TVE9SRV9OQU1FX01FU1NBR0VfTE9HPVwibWVzc2FnZXNcIixleHBvcnRzLlNUT1JFX05BTUVfTUFJTl9MT0c9XCJsb2dcIixleHBvcnRzLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVM9XCJpbmJveE1lc3NhZ2VzXCIsZXhwb3J0cy5LRVlfUEFUSF9CQVNFX0lOQ1JFTUVOVD1cImlkXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fcmVzdD10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24ocyxlKXt2YXIgdD17fTtmb3IodmFyIHAgaW4gcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmZS5pbmRleE9mKHApPDAmJih0W3BdPXNbcF0pO2lmKG51bGwhPXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTtpPHAubGVuZ3RoO2krKyllLmluZGV4T2YocFtpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMscFtpXSkmJih0W3BbaV1dPXNbcFtpXV0pfXJldHVybiB0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxQbGF0Zm9ybUNoZWNrZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtmdW5jdGlvbiBnZXRHbG9iYWwoKXtyZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWZ1bmN0aW9uIGNyZWF0ZVVVSUQocHVzaFRva2VuKXtmb3IodmFyIHM9XCJcIixpPTA7aTwzMjtpKyspe3ZhciBsPXB1c2hUb2tlbi5sZW5ndGgtaS0xLGNoYXJDb2RlPTA7bD49MCYmKGNoYXJDb2RlPXB1c2hUb2tlbi5jaGFyQ29kZUF0KGwpKSxzKz1cIjAxMjM0NTY3ODlhYmNkZWZcIi5zdWJzdHIoY2hhckNvZGUlXCIwMTIzNDU2Nzg5YWJjZGVmXCIubGVuZ3RoLDEpfXJldHVybiBzfWZ1bmN0aW9uIGdldEZha2VQdXNoVG9rZW4oKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY29uc3RhbnRzXzEuS0VZX0ZBS0VfUFVTSF9UT0tFTil9ZnVuY3Rpb24gZ2VuZXJhdGVGYWtlUHVzaFRva2VuKCl7dmFyIHRva2VuPWZ1bmN0aW9uKGxlbil7bGVuPWxlbnx8MzI7Zm9yKHZhciB0ZXh0PVwiXCIscG9zc2libGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLGk9MDtpPGxlbjtpKyspdGV4dCs9cG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwb3NzaWJsZS5sZW5ndGgpKTtyZXR1cm4gdGV4dH0oKTtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29uc3RhbnRzXzEuS0VZX0ZBS0VfUFVTSF9UT0tFTix0b2tlbiksdG9rZW59ZnVuY3Rpb24gZ2V0U3Vic0tleShwdXNoU3Vic2NyaXB0aW9uLGtleSl7dmFyIHJhd0tleT1wdXNoU3Vic2NyaXB0aW9uJiZwdXNoU3Vic2NyaXB0aW9uLmdldEtleSYmcHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkoa2V5KTtyZXR1cm4gcmF3S2V5P2J0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbmV3IFVpbnQ4QXJyYXkocmF3S2V5KSkpOlwiXCJ9ZXhwb3J0cy5nZXRHbG9iYWw9Z2V0R2xvYmFsLGV4cG9ydHMuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiMy4yNC4wXCJ9LGV4cG9ydHMucGFyc2VTZXJpYWxpemVkTm90aWZpY2F0aW9uUGFyYW1zPWZ1bmN0aW9uKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHBhcmFtKXRyeXtyZXR1cm4gSlNPTi5wYXJzZShwYXJhbSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coZSl9cmV0dXJuIHZvaWQgMD09PXBhcmFtJiZ2b2lkIDAhPT1kZWZhdWx0VmFsdWU/ZGVmYXVsdFZhbHVlOnBhcmFtfSxleHBvcnRzLnVybEI2NFRvVWludDhBcnJheT1mdW5jdGlvbihiYXNlNjRTdHJpbmcpe2Zvcih2YXIgYmFzZTY0PShiYXNlNjRTdHJpbmcrXCI9XCIucmVwZWF0KCg0LWJhc2U2NFN0cmluZy5sZW5ndGglNCklNCkpLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxyYXdEYXRhPXdpbmRvdy5hdG9iKGJhc2U2NCksb3V0cHV0QXJyYXk9bmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpLGk9MDtpPHJhd0RhdGEubGVuZ3RoOysraSlvdXRwdXRBcnJheVtpXT1yYXdEYXRhLmNoYXJDb2RlQXQoaSk7cmV0dXJuIG91dHB1dEFycmF5fSxleHBvcnRzLmNyZWF0ZVVVSUQ9Y3JlYXRlVVVJRCxleHBvcnRzLmdlbmVyYXRlSHdpZD1mdW5jdGlvbihhcHBsaWNhdGlvbkNvZGUscHVzaFRva2VuKXtyZXR1cm4gYXBwbGljYXRpb25Db2RlK1wiX1wiK2NyZWF0ZVVVSUQocHVzaFRva2VuPWdldEZha2VQdXNoVG9rZW4oKXx8cHVzaFRva2VufHxnZW5lcmF0ZUZha2VQdXNoVG9rZW4oKSl9LGV4cG9ydHMuZ2V0RmFrZVB1c2hUb2tlbj1nZXRGYWtlUHVzaFRva2VuLGV4cG9ydHMuZ2VuZXJhdGVGYWtlUHVzaFRva2VuPWdlbmVyYXRlRmFrZVB1c2hUb2tlbixleHBvcnRzLmdldFB1c2hUb2tlbj1mdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKXtyZXR1cm4gcHVzaFN1YnNjcmlwdGlvbj9wdXNoU3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbklkP3B1c2hTdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQ6MTI9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP3B1c2hTdWJzY3JpcHRpb24uZW5kcG9pbnQ6cHVzaFN1YnNjcmlwdGlvbi5lbmRwb2ludC5zcGxpdChcIi9cIikucG9wKCl8fFwiXCI6XCJcIn0sZXhwb3J0cy5nZXRGY21LZXk9ZnVuY3Rpb24ocHVzaFN1YnNjcmlwdGlvbixrZXkpe3JldHVybiBwdXNoU3Vic2NyaXB0aW9uP25ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe3N0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuS0VZX0ZDTV9TVUJTQ1JJUFRJT04pLnRoZW4oZnVuY3Rpb24oZmNtU3Vic2NyaXB0aW9uKXtyZXNvbHZlKGZjbVN1YnNjcmlwdGlvbiYmZmNtU3Vic2NyaXB0aW9uW2tleV18fFwiXCIpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXNvbHZlKFwiXCIpfSl9KTpQcm9taXNlLnJlc29sdmUoXCJcIil9LGV4cG9ydHMuZ2V0QXV0aFRva2VuPWZ1bmN0aW9uKHB1c2hTdWJzY3JpcHRpb24pe3JldHVybiBnZXRTdWJzS2V5KHB1c2hTdWJzY3JpcHRpb24sXCJhdXRoXCIpfSxleHBvcnRzLmdldFB1YmxpY0tleT1mdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKXtyZXR1cm4gZ2V0U3Vic0tleShwdXNoU3Vic2NyaXB0aW9uLFwicDI1NmRoXCIpfSxleHBvcnRzLmdldFB1c2h3b29zaFVybD1mdW5jdGlvbihhcHBsaWNhdGlvbkNvZGUpe3ZhciB1cmw9YXBwbGljYXRpb25Db2RlJiYhfmFwcGxpY2F0aW9uQ29kZS5pbmRleE9mKFwiLlwiKT9cImh0dHBzOi8vXCIrYXBwbGljYXRpb25Db2RlK1wiLmFwaS5wdXNod29vc2guY29tL2pzb24vMS4zL1wiOlwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2pzb24vMS4zL1wiO3JldHVybiBzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLktFWV9BUElfQkFTRV9VUkwpLnRoZW4oZnVuY3Rpb24oYmFzZV91cmwpe3JldHVybiB2b2lkIDA9PT1iYXNlX3VybCYmKGJhc2VfdXJsPW51bGwpLGJhc2VfdXJsfHx1cmx9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiB1cmx9KX0sZXhwb3J0cy5wYXRjaENvbnNvbGU9ZnVuY3Rpb24oKXtmb3IodmFyIG1ldGhvZCxub29wPWZ1bmN0aW9uKCl7fSxtZXRob2RzPVtcImFzc2VydFwiLFwiY2xlYXJcIixcImNvdW50XCIsXCJkZWJ1Z1wiLFwiZGlyXCIsXCJkaXJ4bWxcIixcImVycm9yXCIsXCJleGNlcHRpb25cIixcImdyb3VwXCIsXCJncm91cENvbGxhcHNlZFwiLFwiZ3JvdXBFbmRcIixcImluZm9cIixcImxvZ1wiLFwibWFya1RpbWVsaW5lXCIsXCJwcm9maWxlXCIsXCJwcm9maWxlRW5kXCIsXCJ0YWJsZVwiLFwidGltZVwiLFwidGltZUVuZFwiLFwidGltZVN0YW1wXCIsXCJ0cmFjZVwiLFwid2FyblwiXSxsZW49bWV0aG9kcy5sZW5ndGgsZ2xvYmFsPWdldEdsb2JhbCgpLGNvbnNvbGU9Z2xvYmFsLmNvbnNvbGU9Z2xvYmFsLmNvbnNvbGV8fHt9O2xlbi0tOyljb25zb2xlW21ldGhvZD1tZXRob2RzW2xlbl1dfHwoY29uc29sZVttZXRob2RdPW5vb3ApfSxleHBvcnRzLmNsZWFyTG9jYXRpb25IYXNoPWZ1bmN0aW9uKCl7XCJoaXN0b3J5XCJpbiBnZXRHbG9iYWwoKSYmaGlzdG9yeS5wdXNoU3RhdGU/aGlzdG9yeS5wdXNoU3RhdGUobnVsbCxcIlwiLFwiI1wiKTpsb2NhdGlvbi5oYXNoPVwiI1wifSxleHBvcnRzLnZhbGlkYXRlUGFyYW1zPWZ1bmN0aW9uKHBhcmFtcyl7dmFyIHJlc3VsdD1fX3Jlc3QocGFyYW1zLFtdKTtyZXR1cm4gcmVzdWx0LnVzZXJJZCYmXCJ1c2VyX2lkXCI9PT1yZXN1bHQudXNlcklkJiZkZWxldGUgcmVzdWx0LnVzZXJJZCxyZXN1bHR9LGV4cG9ydHMuc2VuZEludGVybmFsUG9zdEV2ZW50PWZ1bmN0aW9uKHBhcmFtcyl7c3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5LRVlfSU5URVJOQUxfRVZFTlRTKS50aGVuKGZ1bmN0aW9uKGV2ZW50cyl7dmFyIF9hO3ZvaWQgMD09PWV2ZW50cyYmKGV2ZW50cz17fSksMD09PU9iamVjdC5rZXlzKGV2ZW50cykubGVuZ3RoJiZzdG9yYWdlXzEua2V5VmFsdWUuc2V0KGNvbnN0YW50c18xLktFWV9JTlRFUk5BTF9FVkVOVFMse30pO3ZhciBjdXJyZW50RGF0ZT0obmV3IERhdGUpLnNldEhvdXJzKDAsMCwwLDApLGRhdGVGcm9tU3RvcmU9ZXZlbnRzW3BhcmFtcy5ldmVudF07aWYoIWRhdGVGcm9tU3RvcmV8fGN1cnJlbnREYXRlPmRhdGVGcm9tU3RvcmUpe3N0b3JhZ2VfMS5rZXlWYWx1ZS5leHRlbmQoY29uc3RhbnRzXzEuS0VZX0lOVEVSTkFMX0VWRU5UUywoKF9hPXt9KVtwYXJhbXMuZXZlbnRdPWN1cnJlbnREYXRlLF9hKSk7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3QscmVxdWVzdD1fX2Fzc2lnbih7YXBwbGljYXRpb246XCJERDI3NS0wNjk0N1wifSxwYXJhbXMpO3hoci5vcGVuKFwiUE9TVFwiLFwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2pzb24vMS4zL3Bvc3RFdmVudFwiLCEwKSx4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpLHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KHtyZXF1ZXN0OnJlcXVlc3R9KSl9fSl9LGV4cG9ydHMuZ2VuZXJhdGVVVUlEPWZ1bmN0aW9uKCl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3cmJihkKz1wZXJmb3JtYW5jZS5ub3coKSksXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oYyl7dmFyIHI9KGQrMTYqTWF0aC5yYW5kb20oKSklMTZ8MDtyZXR1cm4gZD1NYXRoLmZsb29yKGQvMTYpLChcInhcIj09PWM/cjozJnJ8OCkudG9TdHJpbmcoMTYpfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGc7Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtnPWd8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihnPXdpbmRvdyl9bW9kdWxlLmV4cG9ydHM9Z30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBuYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxvYmplY3RLZXlzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c307bW9kdWxlLmV4cG9ydHM9RHVwbGV4O3ZhciB1dGlsPU9iamVjdC5jcmVhdGUoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO3V0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFJlYWRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNTMpLFdyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDMpO3V0aWwuaW5oZXJpdHMoRHVwbGV4LFJlYWRhYmxlKTtmb3IodmFyIGtleXM9b2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpLHY9MDt2PGtleXMubGVuZ3RoO3YrKyl7dmFyIG1ldGhvZD1rZXlzW3ZdO0R1cGxleC5wcm90b3R5cGVbbWV0aG9kXXx8KER1cGxleC5wcm90b3R5cGVbbWV0aG9kXT1Xcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXSl9ZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpLFdyaXRhYmxlLmNhbGwodGhpcyxvcHRpb25zKSxvcHRpb25zJiYhMT09PW9wdGlvbnMucmVhZGFibGUmJih0aGlzLnJlYWRhYmxlPSExKSxvcHRpb25zJiYhMT09PW9wdGlvbnMud3JpdGFibGUmJih0aGlzLndyaXRhYmxlPSExKSx0aGlzLmFsbG93SGFsZk9wZW49ITAsb3B0aW9ucyYmITE9PT1vcHRpb25zLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEpLHRoaXMub25jZShcImVuZFwiLG9uZW5kKX1mdW5jdGlvbiBvbmVuZCgpe3RoaXMuYWxsb3dIYWxmT3Blbnx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8cG5hLm5leHRUaWNrKG9uRW5kTlQsdGhpcyl9ZnVuY3Rpb24gb25FbmROVChzZWxmKXtzZWxmLmVuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldDpmdW5jdGlvbih2YWx1ZSl7dm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlKX19KSxEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5wdXNoKG51bGwpLHRoaXMuZW5kKCkscG5hLm5leHRUaWNrKGNiLGVycil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgdjE9X193ZWJwYWNrX3JlcXVpcmVfXygzMiksdjQ9X193ZWJwYWNrX3JlcXVpcmVfXygzMyksdXVpZD12NDt1dWlkLnYxPXYxLHV1aWQudjQ9djQsbW9kdWxlLmV4cG9ydHM9dXVpZH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksX3V0ZjhsZW49bmV3IEFycmF5KDI1NiksaT0wO2k8MjU2O2krKylfdXRmOGxlbltpXT1pPj0yNTI/NjppPj0yNDg/NTppPj0yNDA/NDppPj0yMjQ/MzppPj0xOTI/MjoxO191dGY4bGVuWzI1NF09X3V0ZjhsZW5bMjU0XT0xO2Z1bmN0aW9uIFV0ZjhEZWNvZGVXb3JrZXIoKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcInV0Zi04IGRlY29kZVwiKSx0aGlzLmxlZnRPdmVyPW51bGx9ZnVuY3Rpb24gVXRmOEVuY29kZVdvcmtlcigpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwidXRmLTggZW5jb2RlXCIpfWV4cG9ydHMudXRmOGVuY29kZT1mdW5jdGlvbihzdHIpe3JldHVybiBzdXBwb3J0Lm5vZGVidWZmZXI/bm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShzdHIsXCJ1dGYtOFwiKTpmdW5jdGlvbihzdHIpe3ZhciBidWYsYyxjMixtX3BvcyxpLHN0cl9sZW49c3RyLmxlbmd0aCxidWZfbGVuPTA7Zm9yKG1fcG9zPTA7bV9wb3M8c3RyX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGJ1Zl9sZW4rPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGJ1Zj1zdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoYnVmX2xlbik6bmV3IEFycmF5KGJ1Zl9sZW4pLGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGM8MTI4P2J1ZltpKytdPWM6YzwyMDQ4PyhidWZbaSsrXT0xOTJ8Yz4+PjYsYnVmW2krK109MTI4fDYzJmMpOmM8NjU1MzY/KGJ1ZltpKytdPTIyNHxjPj4+MTIsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTooYnVmW2krK109MjQwfGM+Pj4xOCxidWZbaSsrXT0xMjh8Yz4+PjEyJjYzLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk7cmV0dXJuIGJ1Zn0oc3RyKX0sZXhwb3J0cy51dGY4ZGVjb2RlPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlcj91dGlscy50cmFuc2Zvcm1UbyhcIm5vZGVidWZmZXJcIixidWYpLnRvU3RyaW5nKFwidXRmLThcIik6ZnVuY3Rpb24oYnVmKXt2YXIgaSxvdXQsYyxjX2xlbixsZW49YnVmLmxlbmd0aCx1dGYxNmJ1Zj1uZXcgQXJyYXkoMipsZW4pO2ZvcihvdXQ9MCxpPTA7aTxsZW47KWlmKChjPWJ1ZltpKytdKTwxMjgpdXRmMTZidWZbb3V0KytdPWM7ZWxzZSBpZigoY19sZW49X3V0ZjhsZW5bY10pPjQpdXRmMTZidWZbb3V0KytdPTY1NTMzLGkrPWNfbGVuLTE7ZWxzZXtmb3IoYyY9Mj09PWNfbGVuPzMxOjM9PT1jX2xlbj8xNTo3O2NfbGVuPjEmJmk8bGVuOyljPWM8PDZ8NjMmYnVmW2krK10sY19sZW4tLTtjX2xlbj4xP3V0ZjE2YnVmW291dCsrXT02NTUzMzpjPDY1NTM2P3V0ZjE2YnVmW291dCsrXT1jOihjLT02NTUzNix1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMyx1dGYxNmJ1ZltvdXQrK109NTYzMjB8MTAyMyZjKX1yZXR1cm4gdXRmMTZidWYubGVuZ3RoIT09b3V0JiYodXRmMTZidWYuc3ViYXJyYXk/dXRmMTZidWY9dXRmMTZidWYuc3ViYXJyYXkoMCxvdXQpOnV0ZjE2YnVmLmxlbmd0aD1vdXQpLHV0aWxzLmFwcGx5RnJvbUNoYXJDb2RlKHV0ZjE2YnVmKX0oYnVmPXV0aWxzLnRyYW5zZm9ybVRvKHN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsYnVmKSl9LHV0aWxzLmluaGVyaXRzKFV0ZjhEZWNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt2YXIgZGF0YT11dGlscy50cmFuc2Zvcm1UbyhzdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGNodW5rLmRhdGEpO2lmKHRoaXMubGVmdE92ZXImJnRoaXMubGVmdE92ZXIubGVuZ3RoKXtpZihzdXBwb3J0LnVpbnQ4YXJyYXkpe3ZhciBwcmV2aW91c0RhdGE9ZGF0YTsoZGF0YT1uZXcgVWludDhBcnJheShwcmV2aW91c0RhdGEubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSkuc2V0KHRoaXMubGVmdE92ZXIsMCksZGF0YS5zZXQocHJldmlvdXNEYXRhLHRoaXMubGVmdE92ZXIubGVuZ3RoKX1lbHNlIGRhdGE9dGhpcy5sZWZ0T3Zlci5jb25jYXQoZGF0YSk7dGhpcy5sZWZ0T3Zlcj1udWxsfXZhciBuZXh0Qm91bmRhcnk9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvcztmb3IoKG1heD1tYXh8fGJ1Zi5sZW5ndGgpPmJ1Zi5sZW5ndGgmJihtYXg9YnVmLmxlbmd0aCkscG9zPW1heC0xO3Bvcz49MCYmMTI4PT0oMTkyJmJ1Zltwb3NdKTspcG9zLS07cmV0dXJuIHBvczwwP21heDowPT09cG9zP21heDpwb3MrX3V0ZjhsZW5bYnVmW3Bvc11dPm1heD9wb3M6bWF4fShkYXRhKSx1c2FibGVEYXRhPWRhdGE7bmV4dEJvdW5kYXJ5IT09ZGF0YS5sZW5ndGgmJihzdXBwb3J0LnVpbnQ4YXJyYXk/KHVzYWJsZURhdGE9ZGF0YS5zdWJhcnJheSgwLG5leHRCb3VuZGFyeSksdGhpcy5sZWZ0T3Zlcj1kYXRhLnN1YmFycmF5KG5leHRCb3VuZGFyeSxkYXRhLmxlbmd0aCkpOih1c2FibGVEYXRhPWRhdGEuc2xpY2UoMCxuZXh0Qm91bmRhcnkpLHRoaXMubGVmdE92ZXI9ZGF0YS5zbGljZShuZXh0Qm91bmRhcnksZGF0YS5sZW5ndGgpKSksdGhpcy5wdXNoKHtkYXRhOmV4cG9ydHMudXRmOGRlY29kZSh1c2FibGVEYXRhKSxtZXRhOmNodW5rLm1ldGF9KX0sVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCYmKHRoaXMucHVzaCh7ZGF0YTpleHBvcnRzLnV0ZjhkZWNvZGUodGhpcy5sZWZ0T3ZlciksbWV0YTp7fX0pLHRoaXMubGVmdE92ZXI9bnVsbCl9LGV4cG9ydHMuVXRmOERlY29kZVdvcmtlcj1VdGY4RGVjb2RlV29ya2VyLHV0aWxzLmluaGVyaXRzKFV0ZjhFbmNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOEVuY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLnB1c2goe2RhdGE6ZXhwb3J0cy51dGY4ZW5jb2RlKGNodW5rLmRhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxleHBvcnRzLlV0ZjhFbmNvZGVXb3JrZXI9VXRmOEVuY29kZVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3N1cGVyQ3RvciYmKGN0b3Iuc3VwZXJfPXN1cGVyQ3RvcixjdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjdG9yLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pKX06bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2lmKHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yO3ZhciBUZW1wQ3Rvcj1mdW5jdGlvbigpe307VGVtcEN0b3IucHJvdG90eXBlPXN1cGVyQ3Rvci5wcm90b3R5cGUsY3Rvci5wcm90b3R5cGU9bmV3IFRlbXBDdG9yLGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPWN0b3J9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBnZXRSYW5kb21WYWx1ZXM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtc0NyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO2lmKGdldFJhbmRvbVZhbHVlcyl7dmFyIHJuZHM4PW5ldyBVaW50OEFycmF5KDE2KTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpLHJuZHM4fX1lbHNle3ZhciBybmRzPW5ldyBBcnJheSgxNik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIHIsaT0wO2k8MTY7aSsrKTA9PSgzJmkpJiYocj00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLHJuZHNbaV09cj4+PigoMyZpKTw8MykmMjU1O3JldHVybiBybmRzfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmb3IodmFyIGJ5dGVUb0hleD1bXSxpPTA7aTwyNTY7KytpKWJ5dGVUb0hleFtpXT0oaSsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYnVmLG9mZnNldCl7dmFyIGk9b2Zmc2V0fHwwLGJ0aD1ieXRlVG9IZXg7cmV0dXJuW2J0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLFwiLVwiLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxcIi1cIixidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV1dLmpvaW4oXCJcIil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9N30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIE1pZ3JhdGlvbnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxNaWdyYXRpb25FeGVjdXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIE1pZ3JhdGlvbkV4ZWN1dG9yKGRiLG1pZ3JhdGlvbnNCdWlsZGVyKXt2b2lkIDA9PT1taWdyYXRpb25zQnVpbGRlciYmKG1pZ3JhdGlvbnNCdWlsZGVyPW5ldyBNaWdyYXRpb25zXzEuZGVmYXVsdCksdGhpcy5kYj1kYix0aGlzLm1pZ3JhdGlvbnNCdWlsZGVyPW1pZ3JhdGlvbnNCdWlsZGVyfXJldHVybiBNaWdyYXRpb25FeGVjdXRvci5wcm90b3R5cGUuYXBwbHlNaWdyYXRpb25zPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5hcHBseU1pZ3JhdGlvbnNQYWNrKHRoaXMubWlncmF0aW9uc0J1aWxkZXIuaW5pdGlhbCksdGhpcy5taWdyYXRpb25zQnVpbGRlci5kYXRlU29ydGVkLmZvckVhY2goZnVuY3Rpb24obWlncmF0aW9uc1BhY2spe190aGlzLmFwcGx5TWlncmF0aW9uc1BhY2sobWlncmF0aW9uc1BhY2spfSl9LE1pZ3JhdGlvbkV4ZWN1dG9yLnByb3RvdHlwZS5hcHBseU1pZ3JhdGlvbnNQYWNrPWZ1bmN0aW9uKG1pZ3JhdGlvbnNQYWNrKXt2YXIgX3RoaXM9dGhpczttaWdyYXRpb25zUGFjay5mb3JFYWNoKGZ1bmN0aW9uKG1pZ3JhdGlvbil7bWlncmF0aW9uKF90aGlzLmRiKX0pfSxNaWdyYXRpb25FeGVjdXRvcn0oKTtleHBvcnRzLmRlZmF1bHQ9TWlncmF0aW9uRXhlY3V0b3J9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3RvcmVDcmVhdG9yRGVjb3JhdG9yPWZ1bmN0aW9uKG5hbWUsc3RvcmVDcmVhdG9yKXtyZXR1cm4gZnVuY3Rpb24oZGF0YWJhc2Upe2RhdGFiYXNlLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMobmFtZSl8fHN0b3JlQ3JlYXRvcihkYXRhYmFzZSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjIpLFBsYXRmb3JtQ2hlY2tlcl8yPV9fd2VicGFja19yZXF1aXJlX18oMjIpO2V4cG9ydHMuUGxhdGZvcm1DaGVja2VyPVBsYXRmb3JtQ2hlY2tlcl8yLlBsYXRmb3JtQ2hlY2tlcixleHBvcnRzLmRlZmF1bHQ9UGxhdGZvcm1DaGVja2VyXzEucGxhdGZvcm1DaGVja2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUGxhdGZvcm1DaGVja2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUGxhdGZvcm1DaGVja2VyKGdsb2JhbCl7dm9pZCAwPT09Z2xvYmFsJiYoZ2xvYmFsPXdpbmRvdyksdGhpcy5nbG9iYWw9Z2xvYmFsLHRoaXMuX2lzU2FmYXJpPXRoaXMuaXNTYWZhcmlCcm93c2VyKCksdGhpcy5faXNPcGVyYT10aGlzLmlzT3BlcmFCcm93c2VyKCksdGhpcy5faXNFZGdlPXRoaXMuaXNFZGdlQnJvd3NlcigpLHRoaXMuX2lzRmlyZWZveD10aGlzLmlzRmlyZWZveEJyb3dzZXIoKSx0aGlzLl9pc0Nocm9tZT10aGlzLmlzQ2hyb21lQnJvd3NlcigpLHRoaXMuX2lzTWFjT1M9dGhpcy5pc01hY09TKCksdGhpcy5faXNBdmFpbGFibGVQcm9taXNlPXRoaXMuY2FuVXNlUHJvbWlzZSgpLHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlcj10aGlzLmNhblVzZVNlcnZpY2VXb3JrZXJzKCksdGhpcy5faXNBdmFpbGFibGVOb3RpZmljYXRpb25zPXRoaXMuY2FuUmVjZWl2ZU5vdGlmaWNhdGlvbnMoKSx0aGlzLl9wbGF0Zm9ybT10aGlzLmdldFBsYXRmb3JtVHlwZSgpLHRoaXMuX2Jyb3dzZXJWZXJzaW9uPXRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0VkZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRWRnZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzU2FmYXJpXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NhZmFyaX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzT3BlcmFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3BlcmF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0F2YWlsYWJsZVByb21pc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQXZhaWxhYmxlUHJvbWlzZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzQXZhaWxhYmxlU2VydmljZVdvcmtlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBdmFpbGFibGVTZXJ2aWNlV29ya2VyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNBdmFpbGFibGVOb3RpZmljYXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJwbGF0Zm9ybVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxhdGZvcm19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJicm93c2VyVmVyc2lvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJvd3NlclZlcnNpb259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc1NhZmFyaUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm5cInNhZmFyaVwiaW4gdGhpcy5nbG9iYWwmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlNhZmFyaVwiKT4tMX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc09wZXJhQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiT1BSXCIpfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzRWRnZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKT4tMX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc0ZpcmVmb3hCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIil9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNDaHJvbWVCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikmJiF0aGlzLl9pc09wZXJhJiYhdGhpcy5faXNFZGdlfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzTWFjT1M9ZnVuY3Rpb24oKXtyZXR1cm5cInBsYXRmb3JtXCJpbiBuYXZpZ2F0b3ImJi0xIT09bmF2aWdhdG9yLnBsYXRmb3JtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm1hY1wiKX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5jYW5Vc2VTZXJ2aWNlV29ya2Vycz1mdW5jdGlvbigpe3JldHVybiEhbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXImJlwiUHVzaE1hbmFnZXJcImluIHRoaXMuZ2xvYmFsJiZcIk5vdGlmaWNhdGlvblwiaW4gdGhpcy5nbG9iYWx9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuVXNlUHJvbWlzZT1mdW5jdGlvbigpe3JldHVyblwiUHJvbWlzZVwiaW4gdGhpcy5nbG9iYWx9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuUmVjZWl2ZU5vdGlmaWNhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTYWZhcmkmJnRoaXMuX2lzTWFjT1N8fHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlciYmIXRoaXMuX2lzRWRnZX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5nZXRQbGF0Zm9ybVR5cGU9ZnVuY3Rpb24oKXt2YXIgcGxhdGZvcm09MTE7c3dpdGNoKCEwKXtjYXNlIHRoaXMuX2lzU2FmYXJpOnBsYXRmb3JtPTEwO2JyZWFrO2Nhc2UgdGhpcy5faXNPcGVyYXx8dGhpcy5faXNDaHJvbWU6cGxhdGZvcm09MTE7YnJlYWs7Y2FzZSB0aGlzLl9pc0ZpcmVmb3g6cGxhdGZvcm09MTI7YnJlYWs7Y2FzZSB0aGlzLl9pc0VkZ2U6cGxhdGZvcm09MTUwfXJldHVybiBwbGF0Zm9ybX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5nZXRCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciB1c2VyQWdlbnQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxtYXRjaE9wZXJhVmVyc2lvbj11c2VyQWdlbnQubWF0Y2goL1xcYk9QUlxcLyhcXGQrKS8pO2lmKG51bGwhPT1tYXRjaE9wZXJhVmVyc2lvbilyZXR1cm5cIk9wZXJhIFwiK21hdGNoT3BlcmFWZXJzaW9uWzFdO3ZhciBtYXRjaEVkZ2VWZXJzaW9uPXVzZXJBZ2VudC5tYXRjaCgvXFxiRWRnZVxcLyhcXGQrKS8pO2lmKG51bGwhPT1tYXRjaEVkZ2VWZXJzaW9uKXJldHVyblwiRWRnZSBcIittYXRjaEVkZ2VWZXJzaW9uWzFdO3ZhciBtYXRjaEVkZ1ZlcnNpb249dXNlckFnZW50Lm1hdGNoKC9cXGJFZGdcXC8oXFxkKykvKTtpZihudWxsIT09bWF0Y2hFZGdWZXJzaW9uKXJldHVyblwiRWRnZSBcIittYXRjaEVkZ1ZlcnNpb25bMV07dmFyIG1hdGNoPXVzZXJBZ2VudC5tYXRjaCgvKG9wZXJhfGNocm9tZXxzYWZhcml8ZmlyZWZveHxtc2llfHRyaWRlbnQoPz1cXC8pKVxcLz9cXHMqKFxcZCspL2kpfHxbXSxfYT0obWF0Y2hbMF0sbWF0Y2hbMV0pLGJyb3dzZXI9dm9pZCAwPT09X2E/XCJcIjpfYTtpZigvdHJpZGVudC9pLnRlc3QodXNlckFnZW50KSl7dmFyIG1hdGNoSWVWZXJzaW9uPS90cmlkZW50XFwvKFsuXFxkXSspL2dpLmV4ZWModXNlckFnZW50KXx8W107cmV0dXJuXCJJRSBcIisoKFwiNy4wXCI9PT1tYXRjaEllVmVyc2lvblsxXT9cIjExXCI6bWF0Y2hJZVZlcnNpb25bMV0pfHxcIlwiKX1tYXRjaD1tYXRjaFsyXT9bYnJvd3NlcixtYXRjaFsyXV06W25hdmlnYXRvci5hcHBOYW1lLG5hdmlnYXRvci5hcHBWZXJzaW9uLFwiLT9cIl07dmFyIHZlcnNpb249dXNlckFnZW50Lm1hdGNoKC92ZXJzaW9uXFwvKFsuXFxkXSspL2kpO3JldHVybiBudWxsIT09dmVyc2lvbiYmbWF0Y2guc3BsaWNlKDEsMSx2ZXJzaW9uWzFdKSxtYXRjaC5qb2luKFwiIFwiKX0sUGxhdGZvcm1DaGVja2VyfSgpO2V4cG9ydHMuUGxhdGZvcm1DaGVja2VyPVBsYXRmb3JtQ2hlY2tlcixleHBvcnRzLnBsYXRmb3JtQ2hlY2tlcj1uZXcgUGxhdGZvcm1DaGVja2VyKEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihnbG9iYWwpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbnZhciBiYXNlNjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4NyksaWVlZTc1ND1fX3dlYnBhY2tfcmVxdWlyZV9fKDg4KSxpc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oNTEpO2Z1bmN0aW9uIGtNYXhMZW5ndGgoKXtyZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCl7aWYoa01heExlbmd0aCgpPGxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoXCIpO3JldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhhdD1uZXcgVWludDhBcnJheShsZW5ndGgpKS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZToobnVsbD09PXRoYXQmJih0aGF0PW5ldyBCdWZmZXIobGVuZ3RoKSksdGhhdC5sZW5ndGg9bGVuZ3RoKSx0aGF0fWZ1bmN0aW9uIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe2lmKCEoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKXJldHVybiBuZXcgQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGFyZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nT3JPZmZzZXQpdGhyb3cgbmV3IEVycm9yKFwiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsYXJnKX1yZXR1cm4gZnJvbSh0aGlzLGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gZnJvbSh0aGF0LHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtpZihcIm51bWJlclwiPT10eXBlb2YgdmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2Z1bmN0aW9uKHRoYXQsYXJyYXksYnl0ZU9mZnNldCxsZW5ndGgpe2lmKGFycmF5LmJ5dGVMZW5ndGgsYnl0ZU9mZnNldDwwfHxhcnJheS5ieXRlTGVuZ3RoPGJ5dGVPZmZzZXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpO2lmKGFycmF5LmJ5dGVMZW5ndGg8Ynl0ZU9mZnNldCsobGVuZ3RofHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIik7YXJyYXk9dm9pZCAwPT09Ynl0ZU9mZnNldCYmdm9pZCAwPT09bGVuZ3RoP25ldyBVaW50OEFycmF5KGFycmF5KTp2b2lkIDA9PT1sZW5ndGg/bmV3IFVpbnQ4QXJyYXkoYXJyYXksYnl0ZU9mZnNldCk6bmV3IFVpbnQ4QXJyYXkoYXJyYXksYnl0ZU9mZnNldCxsZW5ndGgpO0J1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGF0PWFycmF5KS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZTp0aGF0PWZyb21BcnJheUxpa2UodGhhdCxhcnJheSk7cmV0dXJuIHRoYXR9KHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiB2YWx1ZT9mdW5jdGlvbih0aGF0LHN0cmluZyxlbmNvZGluZyl7XCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiZcIlwiIT09ZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7aWYoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpO3ZhciBsZW5ndGg9MHxieXRlTGVuZ3RoKHN0cmluZyxlbmNvZGluZyksYWN0dWFsPSh0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCkpLndyaXRlKHN0cmluZyxlbmNvZGluZyk7YWN0dWFsIT09bGVuZ3RoJiYodGhhdD10aGF0LnNsaWNlKDAsYWN0dWFsKSk7cmV0dXJuIHRoYXR9KHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCk6ZnVuY3Rpb24odGhhdCxvYmope2lmKEJ1ZmZlci5pc0J1ZmZlcihvYmopKXt2YXIgbGVuPTB8Y2hlY2tlZChvYmoubGVuZ3RoKTtyZXR1cm4gMD09PSh0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbikpLmxlbmd0aD90aGF0OihvYmouY29weSh0aGF0LDAsMCxsZW4pLHRoYXQpfWlmKG9iail7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiBvYmopcmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIG9iai5sZW5ndGh8fGZ1bmN0aW9uKHZhbCl7cmV0dXJuIHZhbCE9dmFsfShvYmoubGVuZ3RoKT9jcmVhdGVCdWZmZXIodGhhdCwwKTpmcm9tQXJyYXlMaWtlKHRoYXQsb2JqKTtpZihcIkJ1ZmZlclwiPT09b2JqLnR5cGUmJmlzQXJyYXkob2JqLmRhdGEpKXJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsb2JqLmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfSh0aGF0LHZhbHVlKX1mdW5jdGlvbiBhc3NlcnRTaXplKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKTtpZihzaXplPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gYWxsb2NVbnNhZmUodGhhdCxzaXplKXtpZihhc3NlcnRTaXplKHNpemUpLHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZTwwPzA6MHxjaGVja2VkKHNpemUpKSwhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBpPTA7aTxzaXplOysraSl0aGF0W2ldPTA7cmV0dXJuIHRoYXR9ZnVuY3Rpb24gZnJvbUFycmF5TGlrZSh0aGF0LGFycmF5KXt2YXIgbGVuZ3RoPWFycmF5Lmxlbmd0aDwwPzA6MHxjaGVja2VkKGFycmF5Lmxlbmd0aCk7dGhhdD1jcmVhdGVCdWZmZXIodGhhdCxsZW5ndGgpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krPTEpdGhhdFtpXT0yNTUmYXJyYXlbaV07cmV0dXJuIHRoYXR9ZnVuY3Rpb24gY2hlY2tlZChsZW5ndGgpe2lmKGxlbmd0aD49a01heExlbmd0aCgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2tNYXhMZW5ndGgoKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8bGVuZ3RofWZ1bmN0aW9uIGJ5dGVMZW5ndGgoc3RyaW5nLGVuY29kaW5nKXtpZihCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSlyZXR1cm4gc3RyaW5nLmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpfHxzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoO1wic3RyaW5nXCIhPXR5cGVvZiBzdHJpbmcmJihzdHJpbmc9XCJcIitzdHJpbmcpO3ZhciBsZW49c3RyaW5nLmxlbmd0aDtpZigwPT09bGVuKXJldHVybiAwO2Zvcih2YXIgbG93ZXJlZENhc2U9ITE7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxlbjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlIHZvaWQgMDpyZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqbGVuO2Nhc2VcImhleFwiOnJldHVybiBsZW4+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoO2VuY29kaW5nPShcIlwiK2VuY29kaW5nKS50b0xvd2VyQ2FzZSgpLGxvd2VyZWRDYXNlPSEwfX1mdW5jdGlvbiBzd2FwKGIsbixtKXt2YXIgaT1iW25dO2Jbbl09YlttXSxiW21dPWl9ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YoYnVmZmVyLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcil7aWYoMD09PWJ1ZmZlci5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGJ5dGVPZmZzZXQ/KGVuY29kaW5nPWJ5dGVPZmZzZXQsYnl0ZU9mZnNldD0wKTpieXRlT2Zmc2V0PjIxNDc0ODM2NDc/Ynl0ZU9mZnNldD0yMTQ3NDgzNjQ3OmJ5dGVPZmZzZXQ8LTIxNDc0ODM2NDgmJihieXRlT2Zmc2V0PS0yMTQ3NDgzNjQ4KSxieXRlT2Zmc2V0PStieXRlT2Zmc2V0LGlzTmFOKGJ5dGVPZmZzZXQpJiYoYnl0ZU9mZnNldD1kaXI/MDpidWZmZXIubGVuZ3RoLTEpLGJ5dGVPZmZzZXQ8MCYmKGJ5dGVPZmZzZXQ9YnVmZmVyLmxlbmd0aCtieXRlT2Zmc2V0KSxieXRlT2Zmc2V0Pj1idWZmZXIubGVuZ3RoKXtpZihkaXIpcmV0dXJuLTE7Ynl0ZU9mZnNldD1idWZmZXIubGVuZ3RoLTF9ZWxzZSBpZihieXRlT2Zmc2V0PDApe2lmKCFkaXIpcmV0dXJuLTE7Ynl0ZU9mZnNldD0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiB2YWwmJih2YWw9QnVmZmVyLmZyb20odmFsLGVuY29kaW5nKSksQnVmZmVyLmlzQnVmZmVyKHZhbCkpcmV0dXJuIDA9PT12YWwubGVuZ3RoPy0xOmFycmF5SW5kZXhPZihidWZmZXIsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZGlyKTtpZihcIm51bWJlclwiPT10eXBlb2YgdmFsKXJldHVybiB2YWwmPTI1NSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9kaXI/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCk6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsdmFsLGJ5dGVPZmZzZXQpOmFycmF5SW5kZXhPZihidWZmZXIsW3ZhbF0sYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYXJyYXlJbmRleE9mKGFycix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpe3ZhciBpLGluZGV4U2l6ZT0xLGFyckxlbmd0aD1hcnIubGVuZ3RoLHZhbExlbmd0aD12YWwubGVuZ3RoO2lmKHZvaWQgMCE9PWVuY29kaW5nJiYoXCJ1Y3MyXCI9PT0oZW5jb2Rpbmc9U3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKXx8XCJ1Y3MtMlwiPT09ZW5jb2Rpbmd8fFwidXRmMTZsZVwiPT09ZW5jb2Rpbmd8fFwidXRmLTE2bGVcIj09PWVuY29kaW5nKSl7aWYoYXJyLmxlbmd0aDwyfHx2YWwubGVuZ3RoPDIpcmV0dXJuLTE7aW5kZXhTaXplPTIsYXJyTGVuZ3RoLz0yLHZhbExlbmd0aC89MixieXRlT2Zmc2V0Lz0yfWZ1bmN0aW9uIHJlYWQoYnVmLGkpe3JldHVybiAxPT09aW5kZXhTaXplP2J1ZltpXTpidWYucmVhZFVJbnQxNkJFKGkqaW5kZXhTaXplKX1pZihkaXIpe3ZhciBmb3VuZEluZGV4PS0xO2ZvcihpPWJ5dGVPZmZzZXQ7aTxhcnJMZW5ndGg7aSsrKWlmKHJlYWQoYXJyLGkpPT09cmVhZCh2YWwsLTE9PT1mb3VuZEluZGV4PzA6aS1mb3VuZEluZGV4KSl7aWYoLTE9PT1mb3VuZEluZGV4JiYoZm91bmRJbmRleD1pKSxpLWZvdW5kSW5kZXgrMT09PXZhbExlbmd0aClyZXR1cm4gZm91bmRJbmRleCppbmRleFNpemV9ZWxzZS0xIT09Zm91bmRJbmRleCYmKGktPWktZm91bmRJbmRleCksZm91bmRJbmRleD0tMX1lbHNlIGZvcihieXRlT2Zmc2V0K3ZhbExlbmd0aD5hcnJMZW5ndGgmJihieXRlT2Zmc2V0PWFyckxlbmd0aC12YWxMZW5ndGgpLGk9Ynl0ZU9mZnNldDtpPj0wO2ktLSl7Zm9yKHZhciBmb3VuZD0hMCxqPTA7ajx2YWxMZW5ndGg7aisrKWlmKHJlYWQoYXJyLGkraikhPT1yZWFkKHZhbCxqKSl7Zm91bmQ9ITE7YnJlYWt9aWYoZm91bmQpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gaGV4V3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtvZmZzZXQ9TnVtYmVyKG9mZnNldCl8fDA7dmFyIHJlbWFpbmluZz1idWYubGVuZ3RoLW9mZnNldDtsZW5ndGg/KGxlbmd0aD1OdW1iZXIobGVuZ3RoKSk+cmVtYWluaW5nJiYobGVuZ3RoPXJlbWFpbmluZyk6bGVuZ3RoPXJlbWFpbmluZzt2YXIgc3RyTGVuPXN0cmluZy5sZW5ndGg7aWYoc3RyTGVuJTIhPTApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZ1wiKTtsZW5ndGg+c3RyTGVuLzImJihsZW5ndGg9c3RyTGVuLzIpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIHBhcnNlZD1wYXJzZUludChzdHJpbmcuc3Vic3RyKDIqaSwyKSwxNik7aWYoaXNOYU4ocGFyc2VkKSlyZXR1cm4gaTtidWZbb2Zmc2V0K2ldPXBhcnNlZH1yZXR1cm4gaX1mdW5jdGlvbiB1dGY4V3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsYnVmLmxlbmd0aC1vZmZzZXQpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBhc2NpaVdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoZnVuY3Rpb24oc3RyKXtmb3IodmFyIGJ5dGVBcnJheT1bXSxpPTA7aTxzdHIubGVuZ3RoOysraSlieXRlQXJyYXkucHVzaCgyNTUmc3RyLmNoYXJDb2RlQXQoaSkpO3JldHVybiBieXRlQXJyYXl9KHN0cmluZyksYnVmLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGxhdGluMVdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGFzY2lpV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBiYXNlNjRXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gdWNzMldyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoZnVuY3Rpb24oc3RyLHVuaXRzKXtmb3IodmFyIGMsaGksbG8sYnl0ZUFycmF5PVtdLGk9MDtpPHN0ci5sZW5ndGgmJiEoKHVuaXRzLT0yKTwwKTsrK2kpYz1zdHIuY2hhckNvZGVBdChpKSxoaT1jPj44LGxvPWMlMjU2LGJ5dGVBcnJheS5wdXNoKGxvKSxieXRlQXJyYXkucHVzaChoaSk7cmV0dXJuIGJ5dGVBcnJheX0oc3RyaW5nLGJ1Zi5sZW5ndGgtb2Zmc2V0KSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gYmFzZTY0U2xpY2UoYnVmLHN0YXJ0LGVuZCl7cmV0dXJuIDA9PT1zdGFydCYmZW5kPT09YnVmLmxlbmd0aD9iYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpOmJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCxlbmQpKX1mdW5jdGlvbiB1dGY4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIHJlcz1bXSxpPXN0YXJ0O2k8ZW5kOyl7dmFyIHNlY29uZEJ5dGUsdGhpcmRCeXRlLGZvdXJ0aEJ5dGUsdGVtcENvZGVQb2ludCxmaXJzdEJ5dGU9YnVmW2ldLGNvZGVQb2ludD1udWxsLGJ5dGVzUGVyU2VxdWVuY2U9Zmlyc3RCeXRlPjIzOT80OmZpcnN0Qnl0ZT4yMjM/MzpmaXJzdEJ5dGU+MTkxPzI6MTtpZihpK2J5dGVzUGVyU2VxdWVuY2U8PWVuZClzd2l0Y2goYnl0ZXNQZXJTZXF1ZW5jZSl7Y2FzZSAxOmZpcnN0Qnl0ZTwxMjgmJihjb2RlUG9pbnQ9Zmlyc3RCeXRlKTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihzZWNvbmRCeXRlPWJ1ZltpKzFdKSkmJih0ZW1wQ29kZVBvaW50PSgzMSZmaXJzdEJ5dGUpPDw2fDYzJnNlY29uZEJ5dGUpPjEyNyYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KTticmVhaztjYXNlIDM6c2Vjb25kQnl0ZT1idWZbaSsxXSx0aGlyZEJ5dGU9YnVmW2krMl0sMTI4PT0oMTkyJnNlY29uZEJ5dGUpJiYxMjg9PSgxOTImdGhpcmRCeXRlKSYmKHRlbXBDb2RlUG9pbnQ9KDE1JmZpcnN0Qnl0ZSk8PDEyfCg2MyZzZWNvbmRCeXRlKTw8Nnw2MyZ0aGlyZEJ5dGUpPjIwNDcmJih0ZW1wQ29kZVBvaW50PDU1Mjk2fHx0ZW1wQ29kZVBvaW50PjU3MzQzKSYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KTticmVhaztjYXNlIDQ6c2Vjb25kQnl0ZT1idWZbaSsxXSx0aGlyZEJ5dGU9YnVmW2krMl0sZm91cnRoQnl0ZT1idWZbaSszXSwxMjg9PSgxOTImc2Vjb25kQnl0ZSkmJjEyOD09KDE5MiZ0aGlyZEJ5dGUpJiYxMjg9PSgxOTImZm91cnRoQnl0ZSkmJih0ZW1wQ29kZVBvaW50PSgxNSZmaXJzdEJ5dGUpPDwxOHwoNjMmc2Vjb25kQnl0ZSk8PDEyfCg2MyZ0aGlyZEJ5dGUpPDw2fDYzJmZvdXJ0aEJ5dGUpPjY1NTM1JiZ0ZW1wQ29kZVBvaW50PDExMTQxMTImJihjb2RlUG9pbnQ9dGVtcENvZGVQb2ludCl9bnVsbD09PWNvZGVQb2ludD8oY29kZVBvaW50PTY1NTMzLGJ5dGVzUGVyU2VxdWVuY2U9MSk6Y29kZVBvaW50PjY1NTM1JiYoY29kZVBvaW50LT02NTUzNixyZXMucHVzaChjb2RlUG9pbnQ+Pj4xMCYxMDIzfDU1Mjk2KSxjb2RlUG9pbnQ9NTYzMjB8MTAyMyZjb2RlUG9pbnQpLHJlcy5wdXNoKGNvZGVQb2ludCksaSs9Ynl0ZXNQZXJTZXF1ZW5jZX1yZXR1cm4gZnVuY3Rpb24oY29kZVBvaW50cyl7dmFyIGxlbj1jb2RlUG9pbnRzLmxlbmd0aDtpZihsZW48PU1BWF9BUkdVTUVOVFNfTEVOR1RIKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxjb2RlUG9pbnRzKTt2YXIgcmVzPVwiXCIsaT0wO2Zvcig7aTxsZW47KXJlcys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsY29kZVBvaW50cy5zbGljZShpLGkrPU1BWF9BUkdVTUVOVFNfTEVOR1RIKSk7cmV0dXJuIHJlc30ocmVzKX1leHBvcnRzLkJ1ZmZlcj1CdWZmZXIsZXhwb3J0cy5TbG93QnVmZmVyPWZ1bmN0aW9uKGxlbmd0aCl7K2xlbmd0aCE9bGVuZ3RoJiYobGVuZ3RoPTApO3JldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aCl9LGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM9NTAsQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09Z2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQ/Z2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGFycj1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gYXJyLl9fcHJvdG9fXz17X19wcm90b19fOlVpbnQ4QXJyYXkucHJvdG90eXBlLGZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19LDQyPT09YXJyLmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcnIuc3ViYXJyYXkmJjA9PT1hcnIuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxleHBvcnRzLmtNYXhMZW5ndGg9a01heExlbmd0aCgpLEJ1ZmZlci5wb29sU2l6ZT04MTkyLEJ1ZmZlci5fYXVnbWVudD1mdW5jdGlvbihhcnIpe3JldHVybiBhcnIuX19wcm90b19fPUJ1ZmZlci5wcm90b3R5cGUsYXJyfSxCdWZmZXIuZnJvbT1mdW5jdGlvbih2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGZyb20obnVsbCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsQnVmZmVyLl9fcHJvdG9fXz1VaW50OEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZCdWZmZXJbU3ltYm9sLnNwZWNpZXNdPT09QnVmZmVyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSxCdWZmZXIuYWxsb2M9ZnVuY3Rpb24oc2l6ZSxmaWxsLGVuY29kaW5nKXtyZXR1cm4gZnVuY3Rpb24odGhhdCxzaXplLGZpbGwsZW5jb2Rpbmcpe3JldHVybiBhc3NlcnRTaXplKHNpemUpLHNpemU8PTA/Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSk6dm9pZCAwIT09ZmlsbD9cInN0cmluZ1wiPT10eXBlb2YgZW5jb2Rpbmc/Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSkuZmlsbChmaWxsLGVuY29kaW5nKTpjcmVhdGVCdWZmZXIodGhhdCxzaXplKS5maWxsKGZpbGwpOmNyZWF0ZUJ1ZmZlcih0aGF0LHNpemUpfShudWxsLHNpemUsZmlsbCxlbmNvZGluZyl9LEJ1ZmZlci5hbGxvY1Vuc2FmZT1mdW5jdGlvbihzaXplKXtyZXR1cm4gYWxsb2NVbnNhZmUobnVsbCxzaXplKX0sQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihzaXplKXtyZXR1cm4gYWxsb2NVbnNhZmUobnVsbCxzaXplKX0sQnVmZmVyLmlzQnVmZmVyPWZ1bmN0aW9uKGIpe3JldHVybiEobnVsbD09Ynx8IWIuX2lzQnVmZmVyKX0sQnVmZmVyLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtpZighQnVmZmVyLmlzQnVmZmVyKGEpfHwhQnVmZmVyLmlzQnVmZmVyKGIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzXCIpO2lmKGE9PT1iKXJldHVybiAwO2Zvcih2YXIgeD1hLmxlbmd0aCx5PWIubGVuZ3RoLGk9MCxsZW49TWF0aC5taW4oeCx5KTtpPGxlbjsrK2kpaWYoYVtpXSE9PWJbaV0pe3g9YVtpXSx5PWJbaV07YnJlYWt9cmV0dXJuIHg8eT8tMTp5PHg/MTowfSxCdWZmZXIuaXNFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7c3dpdGNoKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sQnVmZmVyLmNvbmNhdD1mdW5jdGlvbihsaXN0LGxlbmd0aCl7aWYoIWlzQXJyYXkobGlzdCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWxpc3QubGVuZ3RoKXJldHVybiBCdWZmZXIuYWxsb2MoMCk7dmFyIGk7aWYodm9pZCAwPT09bGVuZ3RoKWZvcihsZW5ndGg9MCxpPTA7aTxsaXN0Lmxlbmd0aDsrK2kpbGVuZ3RoKz1saXN0W2ldLmxlbmd0aDt2YXIgYnVmZmVyPUJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpLHBvcz0wO2ZvcihpPTA7aTxsaXN0Lmxlbmd0aDsrK2kpe3ZhciBidWY9bGlzdFtpXTtpZighQnVmZmVyLmlzQnVmZmVyKGJ1ZikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YnVmLmNvcHkoYnVmZmVyLHBvcykscG9zKz1idWYubGVuZ3RofXJldHVybiBidWZmZXJ9LEJ1ZmZlci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGgsQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsQnVmZmVyLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgbGVuPXRoaXMubGVuZ3RoO2lmKGxlbiUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciBpPTA7aTxsZW47aSs9Milzd2FwKHRoaXMsaSxpKzEpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz00KXN3YXAodGhpcyxpLGkrMyksc3dhcCh0aGlzLGkrMSxpKzIpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz04KXN3YXAodGhpcyxpLGkrNyksc3dhcCh0aGlzLGkrMSxpKzYpLHN3YXAodGhpcyxpKzIsaSs1KSxzd2FwKHRoaXMsaSszLGkrNCk7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgbGVuZ3RoPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1sZW5ndGg/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD91dGY4U2xpY2UodGhpcywwLGxlbmd0aCk6ZnVuY3Rpb24oZW5jb2Rpbmcsc3RhcnQsZW5kKXt2YXIgbG93ZXJlZENhc2U9ITE7aWYoKHZvaWQgMD09PXN0YXJ0fHxzdGFydDwwKSYmKHN0YXJ0PTApLHN0YXJ0PnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PWVuZHx8ZW5kPnRoaXMubGVuZ3RoKSYmKGVuZD10aGlzLmxlbmd0aCksZW5kPD0wKXJldHVyblwiXCI7aWYoKGVuZD4+Pj0wKTw9KHN0YXJ0Pj4+PTApKXJldHVyblwiXCI7Zm9yKGVuY29kaW5nfHwoZW5jb2Rpbmc9XCJ1dGY4XCIpOzspc3dpdGNoKGVuY29kaW5nKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpU2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsc3RhcnQsZW5kKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsc3RhcnQsZW5kKTtkZWZhdWx0OmlmKGxvd2VyZWRDYXNlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmNvZGluZyk7ZW5jb2Rpbmc9KGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCksbG93ZXJlZENhc2U9ITB9fS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGIpe2lmKCFCdWZmZXIuaXNCdWZmZXIoYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1ifHwwPT09QnVmZmVyLmNvbXBhcmUodGhpcyxiKX0sQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIHN0cj1cIlwiLG1heD1leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoc3RyPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLG1heCkubWF0Y2goLy57Mn0vZykuam9pbihcIiBcIiksdGhpcy5sZW5ndGg+bWF4JiYoc3RyKz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrc3RyK1wiPlwifSxCdWZmZXIucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odGFyZ2V0LHN0YXJ0LGVuZCx0aGlzU3RhcnQsdGhpc0VuZCl7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHZvaWQgMD09PXN0YXJ0JiYoc3RhcnQ9MCksdm9pZCAwPT09ZW5kJiYoZW5kPXRhcmdldD90YXJnZXQubGVuZ3RoOjApLHZvaWQgMD09PXRoaXNTdGFydCYmKHRoaXNTdGFydD0wKSx2b2lkIDA9PT10aGlzRW5kJiYodGhpc0VuZD10aGlzLmxlbmd0aCksc3RhcnQ8MHx8ZW5kPnRhcmdldC5sZW5ndGh8fHRoaXNTdGFydDwwfHx0aGlzRW5kPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHRoaXNTdGFydD49dGhpc0VuZCYmc3RhcnQ+PWVuZClyZXR1cm4gMDtpZih0aGlzU3RhcnQ+PXRoaXNFbmQpcmV0dXJuLTE7aWYoc3RhcnQ+PWVuZClyZXR1cm4gMTtpZihzdGFydD4+Pj0wLGVuZD4+Pj0wLHRoaXNTdGFydD4+Pj0wLHRoaXNFbmQ+Pj49MCx0aGlzPT09dGFyZ2V0KXJldHVybiAwO2Zvcih2YXIgeD10aGlzRW5kLXRoaXNTdGFydCx5PWVuZC1zdGFydCxsZW49TWF0aC5taW4oeCx5KSx0aGlzQ29weT10aGlzLnNsaWNlKHRoaXNTdGFydCx0aGlzRW5kKSx0YXJnZXRDb3B5PXRhcmdldC5zbGljZShzdGFydCxlbmQpLGk9MDtpPGxlbjsrK2kpaWYodGhpc0NvcHlbaV0hPT10YXJnZXRDb3B5W2ldKXt4PXRoaXNDb3B5W2ldLHk9dGFyZ2V0Q29weVtpXTticmVha31yZXR1cm4geDx5Py0xOnk8eD8xOjB9LEJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nKX0sQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nKXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyx2YWwsYnl0ZU9mZnNldCxlbmNvZGluZywhMCl9LEJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLCExKX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihzdHJpbmcsb2Zmc2V0LGxlbmd0aCxlbmNvZGluZyl7aWYodm9pZCAwPT09b2Zmc2V0KWVuY29kaW5nPVwidXRmOFwiLGxlbmd0aD10aGlzLmxlbmd0aCxvZmZzZXQ9MDtlbHNlIGlmKHZvaWQgMD09PWxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIG9mZnNldCllbmNvZGluZz1vZmZzZXQsbGVuZ3RoPXRoaXMubGVuZ3RoLG9mZnNldD0wO2Vsc2V7aWYoIWlzRmluaXRlKG9mZnNldCkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7b2Zmc2V0fD0wLGlzRmluaXRlKGxlbmd0aCk/KGxlbmd0aHw9MCx2b2lkIDA9PT1lbmNvZGluZyYmKGVuY29kaW5nPVwidXRmOFwiKSk6KGVuY29kaW5nPWxlbmd0aCxsZW5ndGg9dm9pZCAwKX12YXIgcmVtYWluaW5nPXRoaXMubGVuZ3RoLW9mZnNldDtpZigodm9pZCAwPT09bGVuZ3RofHxsZW5ndGg+cmVtYWluaW5nKSYmKGxlbmd0aD1yZW1haW5pbmcpLHN0cmluZy5sZW5ndGg+MCYmKGxlbmd0aDwwfHxvZmZzZXQ8MCl8fG9mZnNldD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO2VuY29kaW5nfHwoZW5jb2Rpbmc9XCJ1dGY4XCIpO2Zvcih2YXIgbG93ZXJlZENhc2U9ITE7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImhleFwiOnJldHVybiBoZXhXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdWNzMldyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKTtlbmNvZGluZz0oXCJcIitlbmNvZGluZykudG9Mb3dlckNhc2UoKSxsb3dlcmVkQ2FzZT0hMH19LEJ1ZmZlci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSD00MDk2O2Z1bmN0aW9uIGFzY2lpU2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIHJldD1cIlwiO2VuZD1NYXRoLm1pbihidWYubGVuZ3RoLGVuZCk7Zm9yKHZhciBpPXN0YXJ0O2k8ZW5kOysraSlyZXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmJ1ZltpXSk7cmV0dXJuIHJldH1mdW5jdGlvbiBsYXRpbjFTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgcmV0PVwiXCI7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIGk9c3RhcnQ7aTxlbmQ7KytpKXJldCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO3JldHVybiByZXR9ZnVuY3Rpb24gaGV4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIGxlbj1idWYubGVuZ3RoOyghc3RhcnR8fHN0YXJ0PDApJiYoc3RhcnQ9MCksKCFlbmR8fGVuZDwwfHxlbmQ+bGVuKSYmKGVuZD1sZW4pO2Zvcih2YXIgb3V0PVwiXCIsaT1zdGFydDtpPGVuZDsrK2kpb3V0Kz10b0hleChidWZbaV0pO3JldHVybiBvdXR9ZnVuY3Rpb24gdXRmMTZsZVNsaWNlKGJ1ZixzdGFydCxlbmQpe2Zvcih2YXIgYnl0ZXM9YnVmLnNsaWNlKHN0YXJ0LGVuZCkscmVzPVwiXCIsaT0wO2k8Ynl0ZXMubGVuZ3RoO2krPTIpcmVzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKzI1NipieXRlc1tpKzFdKTtyZXR1cm4gcmVzfWZ1bmN0aW9uIGNoZWNrT2Zmc2V0KG9mZnNldCxleHQsbGVuZ3RoKXtpZihvZmZzZXQlMSE9MHx8b2Zmc2V0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYob2Zmc2V0K2V4dD5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIGNoZWNrSW50KGJ1Zix2YWx1ZSxvZmZzZXQsZXh0LG1heCxtaW4pe2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih2YWx1ZT5tYXh8fHZhbHVlPG1pbil0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihvZmZzZXQrZXh0PmJ1Zi5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4pe3ZhbHVlPDAmJih2YWx1ZT02NTUzNSt2YWx1ZSsxKTtmb3IodmFyIGk9MCxqPU1hdGgubWluKGJ1Zi5sZW5ndGgtb2Zmc2V0LDIpO2k8ajsrK2kpYnVmW29mZnNldCtpXT0odmFsdWUmMjU1PDw4KihsaXR0bGVFbmRpYW4/aToxLWkpKT4+PjgqKGxpdHRsZUVuZGlhbj9pOjEtaSl9ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4pe3ZhbHVlPDAmJih2YWx1ZT00Mjk0OTY3Mjk1K3ZhbHVlKzEpO2Zvcih2YXIgaT0wLGo9TWF0aC5taW4oYnVmLmxlbmd0aC1vZmZzZXQsNCk7aTxqOysraSlidWZbb2Zmc2V0K2ldPXZhbHVlPj4+OCoobGl0dGxlRW5kaWFuP2k6My1pKSYyNTV9ZnVuY3Rpb24gY2hlY2tJRUVFNzU0KGJ1Zix2YWx1ZSxvZmZzZXQsZXh0LG1heCxtaW4pe2lmKG9mZnNldCtleHQ+YnVmLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihvZmZzZXQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiB3cml0ZUZsb2F0KGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrSUVFRTc1NChidWYsMCxvZmZzZXQsNCksaWVlZTc1NC53cml0ZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbiwyMyw0KSxvZmZzZXQrNH1mdW5jdGlvbiB3cml0ZURvdWJsZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbixub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja0lFRUU3NTQoYnVmLDAsb2Zmc2V0LDgpLGllZWU3NTQud3JpdGUoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sNTIsOCksb2Zmc2V0Kzh9QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihzdGFydCxlbmQpe3ZhciBuZXdCdWYsbGVuPXRoaXMubGVuZ3RoO2lmKHN0YXJ0PX5+c3RhcnQsZW5kPXZvaWQgMD09PWVuZD9sZW46fn5lbmQsc3RhcnQ8MD8oc3RhcnQrPWxlbik8MCYmKHN0YXJ0PTApOnN0YXJ0PmxlbiYmKHN0YXJ0PWxlbiksZW5kPDA/KGVuZCs9bGVuKTwwJiYoZW5kPTApOmVuZD5sZW4mJihlbmQ9bGVuKSxlbmQ8c3RhcnQmJihlbmQ9c3RhcnQpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKShuZXdCdWY9dGhpcy5zdWJhcnJheShzdGFydCxlbmQpKS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZTtlbHNle3ZhciBzbGljZUxlbj1lbmQtc3RhcnQ7bmV3QnVmPW5ldyBCdWZmZXIoc2xpY2VMZW4sdm9pZCAwKTtmb3IodmFyIGk9MDtpPHNsaWNlTGVuOysraSluZXdCdWZbaV09dGhpc1tpK3N0YXJ0XX1yZXR1cm4gbmV3QnVmfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXRdLG11bD0xLGk9MDsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCtpXSptdWw7cmV0dXJuIHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpO2Zvcih2YXIgdmFsPXRoaXNbb2Zmc2V0Ky0tYnl0ZUxlbmd0aF0sbXVsPTE7Ynl0ZUxlbmd0aD4wJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0Ky0tYnl0ZUxlbmd0aF0qbXVsO3JldHVybiB2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMSx0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF08PDh8dGhpc1tvZmZzZXQrMV19LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksKHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OHx0aGlzW29mZnNldCsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbb2Zmc2V0KzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbb2Zmc2V0XSsodGhpc1tvZmZzZXQrMV08PDE2fHRoaXNbb2Zmc2V0KzJdPDw4fHRoaXNbb2Zmc2V0KzNdKX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXRdLG11bD0xLGk9MDsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCtpXSptdWw7cmV0dXJuIHZhbD49KG11bCo9MTI4KSYmKHZhbC09TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgpKSx2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT1ieXRlTGVuZ3RoLG11bD0xLHZhbD10aGlzW29mZnNldCstLWldO2k+MCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCstLWldKm11bDtyZXR1cm4gdmFsPj0obXVsKj0xMjgpJiYodmFsLT1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCkpLHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW29mZnNldF0/LTEqKDI1NS10aGlzW29mZnNldF0rMSk6dGhpc1tvZmZzZXRdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7bm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKTt2YXIgdmFsPXRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8ODtyZXR1cm4gMzI3NjgmdmFsPzQyOTQ5MDE3NjB8dmFsOnZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe25vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMix0aGlzLmxlbmd0aCk7dmFyIHZhbD10aGlzW29mZnNldCsxXXx0aGlzW29mZnNldF08PDg7cmV0dXJuIDMyNzY4JnZhbD80Mjk0OTAxNzYwfHZhbDp2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF18dGhpc1tvZmZzZXQrMV08PDh8dGhpc1tvZmZzZXQrMl08PDE2fHRoaXNbb2Zmc2V0KzNdPDwyNH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XTw8MjR8dGhpc1tvZmZzZXQrMV08PDE2fHRoaXNbb2Zmc2V0KzJdPDw4fHRoaXNbb2Zmc2V0KzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCEwLDIzLDQpfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCExLDIzLDQpfSxCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDgsdGhpcy5sZW5ndGgpLGllZWU3NTQucmVhZCh0aGlzLG9mZnNldCwhMCw1Miw4KX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw4LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITEsNTIsOCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpeyh2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnQpfHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLE1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xLDApO3ZhciBtdWw9MSxpPTA7Zm9yKHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWU7KytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nik7KXRoaXNbb2Zmc2V0K2ldPXZhbHVlL211bCYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXsodmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0KXx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxNYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCktMSwwKTt2YXIgaT1ieXRlTGVuZ3RoLTEsbXVsPTE7Zm9yKHRoaXNbb2Zmc2V0K2ldPTI1NSZ2YWx1ZTstLWk+PTAmJihtdWwqPTI1Nik7KXRoaXNbb2Zmc2V0K2ldPXZhbHVlL211bCYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMSwyNTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh2YWx1ZT1NYXRoLmZsb29yKHZhbHVlKSksdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSxvZmZzZXQrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsNjU1MzUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44KTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDY1NTM1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzFdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx2YWx1ZSxvZmZzZXQsITEpLG9mZnNldCsyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldCszXT12YWx1ZT4+PjI0LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCEwKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsNDI5NDk2NzI5NSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPXZhbHVlPj4+MjQsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj4xNix0aGlzW29mZnNldCsyXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrM109MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7aWYodmFsdWU9K3ZhbHVlLG9mZnNldHw9MCwhbm9Bc3NlcnQpe3ZhciBsaW1pdD1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aC0xKTtjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLGxpbWl0LTEsLWxpbWl0KX12YXIgaT0wLG11bD0xLHN1Yj0wO2Zvcih0aGlzW29mZnNldF09MjU1JnZhbHVlOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWx1ZTwwJiYwPT09c3ViJiYwIT09dGhpc1tvZmZzZXQraS0xXSYmKHN1Yj0xKSx0aGlzW29mZnNldCtpXT0odmFsdWUvbXVsPj4wKS1zdWImMjU1O3JldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtpZih2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLCFub0Fzc2VydCl7dmFyIGxpbWl0PU1hdGgucG93KDIsOCpieXRlTGVuZ3RoLTEpO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbGltaXQtMSwtbGltaXQpfXZhciBpPWJ5dGVMZW5ndGgtMSxtdWw9MSxzdWI9MDtmb3IodGhpc1tvZmZzZXQraV09MjU1JnZhbHVlOy0taT49MCYmKG11bCo9MjU2KTspdmFsdWU8MCYmMD09PXN1YiYmMCE9PXRoaXNbb2Zmc2V0K2krMV0mJihzdWI9MSksdGhpc1tvZmZzZXQraV09KHZhbHVlL211bD4+MCktc3ViJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDEsMTI3LC0xMjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUfHwodmFsdWU9TWF0aC5mbG9vcih2YWx1ZSkpLHZhbHVlPDAmJih2YWx1ZT0yNTUrdmFsdWUrMSksdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSxvZmZzZXQrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMiwzMjc2NywtMzI3NjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09MjU1JnZhbHVlLHRoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+OCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCsyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDMyNzY3LC0zMjc2OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMV09MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrM109dmFsdWU+Pj4yNCk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHZhbHVlPDAmJih2YWx1ZT00Mjk0OTY3Mjk1K3ZhbHVlKzEpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj4yNCx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjE2LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+OCx0aGlzW29mZnNldCszXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHZhbHVlLG9mZnNldCwhMCxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyx2YWx1ZSxvZmZzZXQsITEsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyx2YWx1ZSxvZmZzZXQsITAsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyx2YWx1ZSxvZmZzZXQsITEsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odGFyZ2V0LHRhcmdldFN0YXJ0LHN0YXJ0LGVuZCl7aWYoc3RhcnR8fChzdGFydD0wKSxlbmR8fDA9PT1lbmR8fChlbmQ9dGhpcy5sZW5ndGgpLHRhcmdldFN0YXJ0Pj10YXJnZXQubGVuZ3RoJiYodGFyZ2V0U3RhcnQ9dGFyZ2V0Lmxlbmd0aCksdGFyZ2V0U3RhcnR8fCh0YXJnZXRTdGFydD0wKSxlbmQ+MCYmZW5kPHN0YXJ0JiYoZW5kPXN0YXJ0KSxlbmQ9PT1zdGFydClyZXR1cm4gMDtpZigwPT09dGFyZ2V0Lmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHRhcmdldFN0YXJ0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHN0YXJ0PDB8fHN0YXJ0Pj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoZW5kPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtlbmQ+dGhpcy5sZW5ndGgmJihlbmQ9dGhpcy5sZW5ndGgpLHRhcmdldC5sZW5ndGgtdGFyZ2V0U3RhcnQ8ZW5kLXN0YXJ0JiYoZW5kPXRhcmdldC5sZW5ndGgtdGFyZ2V0U3RhcnQrc3RhcnQpO3ZhciBpLGxlbj1lbmQtc3RhcnQ7aWYodGhpcz09PXRhcmdldCYmc3RhcnQ8dGFyZ2V0U3RhcnQmJnRhcmdldFN0YXJ0PGVuZClmb3IoaT1sZW4tMTtpPj0wOy0taSl0YXJnZXRbaSt0YXJnZXRTdGFydF09dGhpc1tpK3N0YXJ0XTtlbHNlIGlmKGxlbjwxZTN8fCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IoaT0wO2k8bGVuOysraSl0YXJnZXRbaSt0YXJnZXRTdGFydF09dGhpc1tpK3N0YXJ0XTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHRhcmdldCx0aGlzLnN1YmFycmF5KHN0YXJ0LHN0YXJ0K2xlbiksdGFyZ2V0U3RhcnQpO3JldHVybiBsZW59LEJ1ZmZlci5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih2YWwsc3RhcnQsZW5kLGVuY29kaW5nKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdmFsKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygc3RhcnQ/KGVuY29kaW5nPXN0YXJ0LHN0YXJ0PTAsZW5kPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgZW5kJiYoZW5jb2Rpbmc9ZW5kLGVuZD10aGlzLmxlbmd0aCksMT09PXZhbC5sZW5ndGgpe3ZhciBjb2RlPXZhbC5jaGFyQ29kZUF0KDApO2NvZGU8MjU2JiYodmFsPWNvZGUpfWlmKHZvaWQgMCE9PWVuY29kaW5nJiZcInN0cmluZ1wiIT10eXBlb2YgZW5jb2RpbmcpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmNvZGluZyl9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB2YWwmJih2YWwmPTI1NSk7aWYoc3RhcnQ8MHx8dGhpcy5sZW5ndGg8c3RhcnR8fHRoaXMubGVuZ3RoPGVuZCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihlbmQ8PXN0YXJ0KXJldHVybiB0aGlzO3ZhciBpO2lmKHN0YXJ0Pj4+PTAsZW5kPXZvaWQgMD09PWVuZD90aGlzLmxlbmd0aDplbmQ+Pj4wLHZhbHx8KHZhbD0wKSxcIm51bWJlclwiPT10eXBlb2YgdmFsKWZvcihpPXN0YXJ0O2k8ZW5kOysraSl0aGlzW2ldPXZhbDtlbHNle3ZhciBieXRlcz1CdWZmZXIuaXNCdWZmZXIodmFsKT92YWw6dXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsZW5jb2RpbmcpLnRvU3RyaW5nKCkpLGxlbj1ieXRlcy5sZW5ndGg7Zm9yKGk9MDtpPGVuZC1zdGFydDsrK2kpdGhpc1tpK3N0YXJ0XT1ieXRlc1tpJWxlbl19cmV0dXJuIHRoaXN9O3ZhciBJTlZBTElEX0JBU0U2NF9SRT0vW14rXFwvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gdG9IZXgobil7cmV0dXJuIG48MTY/XCIwXCIrbi50b1N0cmluZygxNik6bi50b1N0cmluZygxNil9ZnVuY3Rpb24gdXRmOFRvQnl0ZXMoc3RyaW5nLHVuaXRzKXt2YXIgY29kZVBvaW50O3VuaXRzPXVuaXRzfHwxLzA7Zm9yKHZhciBsZW5ndGg9c3RyaW5nLmxlbmd0aCxsZWFkU3Vycm9nYXRlPW51bGwsYnl0ZXM9W10saT0wO2k8bGVuZ3RoOysraSl7aWYoKGNvZGVQb2ludD1zdHJpbmcuY2hhckNvZGVBdChpKSk+NTUyOTUmJmNvZGVQb2ludDw1NzM0NCl7aWYoIWxlYWRTdXJyb2dhdGUpe2lmKGNvZGVQb2ludD41NjMxOSl7KHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoaSsxPT09bGVuZ3RoKXsodW5pdHMtPTMpPi0xJiZieXRlcy5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1sZWFkU3Vycm9nYXRlPWNvZGVQb2ludDtjb250aW51ZX1pZihjb2RlUG9pbnQ8NTYzMjApeyh1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpLGxlYWRTdXJyb2dhdGU9Y29kZVBvaW50O2NvbnRpbnVlfWNvZGVQb2ludD02NTUzNisobGVhZFN1cnJvZ2F0ZS01NTI5Njw8MTB8Y29kZVBvaW50LTU2MzIwKX1lbHNlIGxlYWRTdXJyb2dhdGUmJih1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2lmKGxlYWRTdXJyb2dhdGU9bnVsbCxjb2RlUG9pbnQ8MTI4KXtpZigodW5pdHMtPTEpPDApYnJlYWs7Ynl0ZXMucHVzaChjb2RlUG9pbnQpfWVsc2UgaWYoY29kZVBvaW50PDIwNDgpe2lmKCh1bml0cy09Mik8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+NnwxOTIsNjMmY29kZVBvaW50fDEyOCl9ZWxzZSBpZihjb2RlUG9pbnQ8NjU1MzYpe2lmKCh1bml0cy09Myk8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+MTJ8MjI0LGNvZGVQb2ludD4+NiY2M3wxMjgsNjMmY29kZVBvaW50fDEyOCl9ZWxzZXtpZighKGNvZGVQb2ludDwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKHVuaXRzLT00KTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj4xOHwyNDAsY29kZVBvaW50Pj4xMiY2M3wxMjgsY29kZVBvaW50Pj42JjYzfDEyOCw2MyZjb2RlUG9pbnR8MTI4KX19cmV0dXJuIGJ5dGVzfWZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMoc3RyKXtyZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGZ1bmN0aW9uKHN0cil7aWYoKHN0cj1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIudHJpbT9zdHIudHJpbSgpOnN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDtzdHIubGVuZ3RoJTQhPTA7KXN0cis9XCI9XCI7cmV0dXJuIHN0cn0oc3RyKSl9ZnVuY3Rpb24gYmxpdEJ1ZmZlcihzcmMsZHN0LG9mZnNldCxsZW5ndGgpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoJiYhKGkrb2Zmc2V0Pj1kc3QubGVuZ3RofHxpPj1zcmMubGVuZ3RoKTsrK2kpZHN0W2krb2Zmc2V0XT1zcmNbaV07cmV0dXJuIGl9fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBjYWNoZWRTZXRUaW1lb3V0LGNhY2hlZENsZWFyVGltZW91dCxwcm9jZXNzPW1vZHVsZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pe2lmKGNhY2hlZFNldFRpbWVvdXQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGZ1biwwKTtpZigoY2FjaGVkU2V0VGltZW91dD09PWRlZmF1bHRTZXRUaW1vdXR8fCFjYWNoZWRTZXRUaW1lb3V0KSYmc2V0VGltZW91dClyZXR1cm4gY2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZnVuLDApO3RyeXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCxmdW4sMCl9Y2F0Y2goZSl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLGZ1biwwKX19fSFmdW5jdGlvbigpe3RyeXtjYWNoZWRTZXRUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpkZWZhdWx0U2V0VGltb3V0fWNhdGNoKGUpe2NhY2hlZFNldFRpbWVvdXQ9ZGVmYXVsdFNldFRpbW91dH10cnl7Y2FjaGVkQ2xlYXJUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6ZGVmYXVsdENsZWFyVGltZW91dH1jYXRjaChlKXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dH19KCk7dmFyIGN1cnJlbnRRdWV1ZSxxdWV1ZT1bXSxkcmFpbmluZz0hMSxxdWV1ZUluZGV4PS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2RyYWluaW5nJiZjdXJyZW50UXVldWUmJihkcmFpbmluZz0hMSxjdXJyZW50UXVldWUubGVuZ3RoP3F1ZXVlPWN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpOnF1ZXVlSW5kZXg9LTEscXVldWUubGVuZ3RoJiZkcmFpblF1ZXVlKCkpfWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZighZHJhaW5pbmcpe3ZhciB0aW1lb3V0PXJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtkcmFpbmluZz0hMDtmb3IodmFyIGxlbj1xdWV1ZS5sZW5ndGg7bGVuOyl7Zm9yKGN1cnJlbnRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXTsrK3F1ZXVlSW5kZXg8bGVuOyljdXJyZW50UXVldWUmJmN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtxdWV1ZUluZGV4PS0xLGxlbj1xdWV1ZS5sZW5ndGh9Y3VycmVudFF1ZXVlPW51bGwsZHJhaW5pbmc9ITEsZnVuY3Rpb24obWFya2VyKXtpZihjYWNoZWRDbGVhclRpbWVvdXQ9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO2lmKChjYWNoZWRDbGVhclRpbWVvdXQ9PT1kZWZhdWx0Q2xlYXJUaW1lb3V0fHwhY2FjaGVkQ2xlYXJUaW1lb3V0KSYmY2xlYXJUaW1lb3V0KXJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQ9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChtYXJrZXIpO3RyeXtjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsbWFya2VyKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxtYXJrZXIpfX19KHRpbWVvdXQpfX1mdW5jdGlvbiBJdGVtKGZ1bixhcnJheSl7dGhpcy5mdW49ZnVuLHRoaXMuYXJyYXk9YXJyYXl9ZnVuY3Rpb24gbm9vcCgpe31wcm9jZXNzLm5leHRUaWNrPWZ1bmN0aW9uKGZ1bil7dmFyIGFyZ3M9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1bixhcmdzKSksMSE9PXF1ZXVlLmxlbmd0aHx8ZHJhaW5pbmd8fHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSl9LEl0ZW0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHByb2Nlc3MudGl0bGU9XCJicm93c2VyXCIscHJvY2Vzcy5icm93c2VyPSEwLHByb2Nlc3MuZW52PXt9LHByb2Nlc3MuYXJndj1bXSxwcm9jZXNzLnZlcnNpb249XCJcIixwcm9jZXNzLnZlcnNpb25zPXt9LHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5vbmNlPW5vb3AscHJvY2Vzcy5vZmY9bm9vcCxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcCxwcm9jZXNzLmVtaXQ9bm9vcCxwcm9jZXNzLnByZXBlbmRMaXN0ZW5lcj1ub29wLHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wLHByb2Nlc3MubGlzdGVuZXJzPWZ1bmN0aW9uKG5hbWUpe3JldHVybltdfSxwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24obmFtZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHByb2Nlc3MuY2hkaXI9ZnVuY3Rpb24oZGlyKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe2Z1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyl9ZXhwb3J0cy5pc0FycmF5PWZ1bmN0aW9uKGFyZyl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheShhcmcpOlwiW29iamVjdCBBcnJheV1cIj09PW9iamVjdFRvU3RyaW5nKGFyZyl9LGV4cG9ydHMuaXNCb29sZWFuPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNOdWxsPWZ1bmN0aW9uKGFyZyl7cmV0dXJuIG51bGw9PT1hcmd9LGV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09YXJnfSxleHBvcnRzLmlzTnVtYmVyPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1N0cmluZz1mdW5jdGlvbihhcmcpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNTeW1ib2w9ZnVuY3Rpb24oYXJnKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgYXJnfSxleHBvcnRzLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKGFyZyl7cmV0dXJuIHZvaWQgMD09PWFyZ30sZXhwb3J0cy5pc1JlZ0V4cD1mdW5jdGlvbihyZSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PW9iamVjdFRvU3RyaW5nKHJlKX0sZXhwb3J0cy5pc09iamVjdD1mdW5jdGlvbihhcmcpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhcmcmJm51bGwhPT1hcmd9LGV4cG9ydHMuaXNEYXRlPWZ1bmN0aW9uKGQpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09b2JqZWN0VG9TdHJpbmcoZCl9LGV4cG9ydHMuaXNFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRXJyb3JdXCI9PT1vYmplY3RUb1N0cmluZyhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yfSxleHBvcnRzLmlzRnVuY3Rpb249ZnVuY3Rpb24oYXJnKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNQcmltaXRpdmU9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09PWFyZ3x8XCJib29sZWFuXCI9PXR5cGVvZiBhcmd8fFwibnVtYmVyXCI9PXR5cGVvZiBhcmd8fFwic3RyaW5nXCI9PXR5cGVvZiBhcmd8fFwic3ltYm9sXCI9PXR5cGVvZiBhcmd8fHZvaWQgMD09PWFyZ30sZXhwb3J0cy5pc0J1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5CdWZmZXIuaXNCdWZmZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBFUzZQcm9taXNlPW51bGw7RVM2UHJvbWlzZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOl9fd2VicGFja19yZXF1aXJlX18oMTAxKSxtb2R1bGUuZXhwb3J0cz17UHJvbWlzZTpFUzZQcm9taXNlfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19LF9fc3ByZWFkQXJyYXlzPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTAsaT0wLGlsPWFyZ3VtZW50cy5sZW5ndGg7aTxpbDtpKyspcys9YXJndW1lbnRzW2ldLmxlbmd0aDt2YXIgcj1BcnJheShzKSxrPTA7Zm9yKGk9MDtpPGlsO2krKylmb3IodmFyIGE9YXJndW1lbnRzW2ldLGo9MCxqbD1hLmxlbmd0aDtqPGpsO2orKyxrKyspcltrXT1hW2pdO3JldHVybiByfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlcz1mdW5jdGlvbigpe2Z1bmN0aW9uIEluYm94TWVzc2FnZXMoZGF0YSxhcGksaW5ib3hNb2RlbCxkYXRlTW9kdWxlKXt2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMuZGF0YT1kYXRhLHRoaXMuYXBpPWFwaSx0aGlzLmluYm94TW9kZWw9aW5ib3hNb2RlbCx0aGlzLmRhdGVNb2R1bGU9ZGF0ZU1vZHVsZSx0aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyPXRoaXMucHVibGljTWVzc2FnZUJ1aWxkZXIuYmluZCh0aGlzKX1yZXR1cm4gSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZVR5cGVGYWN0b3J5PWZ1bmN0aW9uKGFjdGlvblBhcmFtcyl7dmFyIG1lc3NhZ2VUeXBlPTA7cmV0dXJuXCJoXCJpbiBhY3Rpb25QYXJhbXN8fFwicm1cImluIGFjdGlvblBhcmFtc3x8XCJyXCJpbiBhY3Rpb25QYXJhbXM/bWVzc2FnZVR5cGU9MTpcImxcImluIGFjdGlvblBhcmFtcyYmbnVsbCE9YWN0aW9uUGFyYW1zLmwmJihtZXNzYWdlVHlwZT1hY3Rpb25QYXJhbXMubC5zdGFydHNXaXRoKFwiaHR0cFwiKT8yOjMpLG1lc3NhZ2VUeXBlfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS51cGRhdGVNZXNzYWdlc1N0YXR1c1dpdGhDb2Rlcz1mdW5jdGlvbihjb2RlcyxtZXNzYWdlcyxzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHVwZGF0ZWRNZXNzYWdlcyxpbmJveFN0YXR1c1F1ZXJpZXMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHVwZGF0ZWRNZXNzYWdlcz1bXSxpbmJveFN0YXR1c1F1ZXJpZXM9W10sbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtc2cpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4tMT09PWNvZGVzLmluZGV4T2YobXNnLmluYm94X2lkKT9bMl06KG1zZy5zdGF0dXM9c3RhdHVzLHVwZGF0ZWRNZXNzYWdlcy5wdXNoKG1zZyksaW5ib3hTdGF0dXNRdWVyaWVzLnB1c2godGhpcy5hcGkuaW5ib3hTdGF0dXMobXNnLm9yZGVyLG1zZy5zdGF0dXMpKSxbMl0pfSl9KX0pLFs0LHRoaXMuaW5ib3hNb2RlbC5wdXRCdWxrTWVzc2FnZXModXBkYXRlZE1lc3NhZ2VzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsUHJvbWlzZS5hbGwoaW5ib3hTdGF0dXNRdWVyaWVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1YmxpY01lc3NhZ2VCdWlsZGVyPWZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGltYWdlVXJsLF9hLHRpdGxlLF9iO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9jKXtzd2l0Y2goX2MubGFiZWwpe2Nhc2UgMDpyZXR1cm4oX2E9bWVzc2FnZS5pbWFnZSk/WzMsMl06WzQsdGhpcy5kYXRhLmdldERlZmF1bHROb3RpZmljYXRpb25JbWFnZSgpXTtjYXNlIDE6X2E9X2Muc2VudCgpLF9jLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBpbWFnZVVybD1fYSwoX2I9bWVzc2FnZS50aXRsZSk/WzMsNF06WzQsdGhpcy5kYXRhLmdldERlZmF1bHROb3RpZmljYXRpb25UaXRsZSgpXTtjYXNlIDM6X2I9X2Muc2VudCgpLF9jLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aXRsZT1fYix0aGlzLmRhdGVNb2R1bGUuZGF0ZT1uZXcgRGF0ZSgxZTMqcGFyc2VJbnQobWVzc2FnZS5zZW5kX2RhdGUpKSx0aGlzLmRhdGVNb2R1bGUuc2V0TG9jYWwoKSxbMix7dGl0bGU6dGl0bGUsaW1hZ2VVcmw6aW1hZ2VVcmwsY29kZTptZXNzYWdlLmluYm94X2lkLG1lc3NhZ2U6bWVzc2FnZS50ZXh0LHNlbmREYXRlOnRoaXMuZGF0ZU1vZHVsZS5kYXRlLnRvSVNPU3RyaW5nKCksdHlwZTp0aGlzLm1lc3NhZ2VUeXBlRmFjdG9yeShKU09OLnBhcnNlKG1lc3NhZ2UuYWN0aW9uX3BhcmFtcykpLGlzUmVhZDoyPT09bWVzc2FnZS5zdGF0dXN8fDM9PT1tZXNzYWdlLnN0YXR1cyxpc0FjdGlvblBlcmZvcm1lZDozPT09bWVzc2FnZS5zdGF0dXN9XX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlc1dpdGhOb0FjdGlvblBlcmZvcm1lZENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRSZWFkTWVzc2FnZXNDb3VudCgpfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS51bnJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlc0NvdW50KCl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmJveE1vZGVsLm1lc3NhZ2VzQ291bnQoKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubG9hZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZE1lc3NhZ2VzLHVucmVhZE1lc3NhZ2VzLGJ1aWxkTWVzc2FnZVByb21pc2VzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0UmVhZE9wZW5NZXNzYWdlcygpXTtjYXNlIDE6cmV0dXJuIHJlYWRNZXNzYWdlcz1fYS5zZW50KCksWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLGJ1aWxkTWVzc2FnZVByb21pc2VzPV9fc3ByZWFkQXJyYXlzKHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcykuc29ydChmdW5jdGlvbihtc2dBLG1zZ0Ipe3JldHVybiBwYXJzZUludChtc2dCLnNlbmRfZGF0ZSwxMCktcGFyc2VJbnQobXNnQS5zZW5kX2RhdGUsMTApfSkuc29ydChmdW5jdGlvbihtc2dBLG1zZ0Ipe3JldHVybiBwYXJzZUludChtc2dCLm9yZGVyfHxcIjBcIiwxMCktcGFyc2VJbnQobXNnQS5vcmRlcnx8XCIwXCIsMTApfSkubWFwKHRoaXMucHVibGljTWVzc2FnZUJ1aWxkZXIpLFsyLFByb21pc2UuYWxsKGJ1aWxkTWVzc2FnZVByb21pc2VzKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucmVhZE1lc3NhZ2VzV2l0aENvZGVzPWZ1bmN0aW9uKGNvZGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1bnJlYWRNZXNzYWdlcyxzdGF0dXNSZWFkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiB1bnJlYWRNZXNzYWdlcz1fYS5zZW50KCksc3RhdHVzUmVhZD0yLFs0LHRoaXMudXBkYXRlTWVzc2FnZXNTdGF0dXNXaXRoQ29kZXMoY29kZXMsdW5yZWFkTWVzc2FnZXMsc3RhdHVzUmVhZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5wZXJmb3JtQWN0aW9uRm9yTWVzc2FnZVdpdGhDb2RlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1lc3NhZ2UsYWN0aW9uUGFyYW1zLG1lc3NhZ2VUeXBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0TWVzc2FnZShjb2RlKV07Y2FzZSAxOnJldHVybiBtZXNzYWdlPV9hLnNlbnQoKSxhY3Rpb25QYXJhbXM9SlNPTi5wYXJzZShtZXNzYWdlLmFjdGlvbl9wYXJhbXMpLDI9PT0obWVzc2FnZVR5cGU9dGhpcy5tZXNzYWdlVHlwZUZhY3RvcnkoYWN0aW9uUGFyYW1zKSkmJm51bGwhPWFjdGlvblBhcmFtcy5sP2RvY3VtZW50LmxvY2F0aW9uLmhyZWY9YWN0aW9uUGFyYW1zLmw6Mz09PW1lc3NhZ2VUeXBlJiZudWxsIT1hY3Rpb25QYXJhbXMubCYmd2luZG93Lmhpc3RvcnkuZ28oYWN0aW9uUGFyYW1zLmwpLG1lc3NhZ2Uuc3RhdHVzPTMsWzQsdGhpcy5pbmJveE1vZGVsLnB1dE1lc3NhZ2UobWVzc2FnZSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLmluYm94U3RhdHVzKG1lc3NhZ2Uub3JkZXIsbWVzc2FnZS5zdGF0dXMpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlTWVzc2FnZXNXaXRoQ29kZXM9ZnVuY3Rpb24oY29kZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyxzdGF0dXNEZWxldGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0UmVhZE9wZW5NZXNzYWdlcygpXTtjYXNlIDE6cmV0dXJuIHJlYWRNZXNzYWdlcz1fYS5zZW50KCksWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLHN0YXR1c0RlbGV0ZWQ9NCxbNCx0aGlzLnVwZGF0ZU1lc3NhZ2VzU3RhdHVzV2l0aENvZGVzKGNvZGVzLF9fc3ByZWFkQXJyYXlzKHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyksc3RhdHVzRGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5zeW5jTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwudXBkYXRlTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXN9KCk7ZXhwb3J0cy5kZWZhdWx0PUluYm94TWVzc2FnZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0YV8xPV9fd2VicGFja19yZXF1aXJlX18oNSksbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxBcGlDbGllbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBcGlDbGllbnQoZGF0YSxsb2dnZXIpe3ZvaWQgMD09PWRhdGEmJihkYXRhPW5ldyBEYXRhXzEuRGF0YSksdm9pZCAwPT09bG9nZ2VyJiYobG9nZ2VyPWxvZ2dlcl8xLkxvZ2dlciksdGhpcy5kYXRhPWRhdGEsdGhpcy5sb2dnZXI9bG9nZ2VyfXJldHVybiBBcGlDbGllbnQucHJvdG90eXBlLmNoZWNrRGV2aWNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJjaGVja0RldmljZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZ2V0Q29uZmlnXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuYXBwbGljYXRpb25PcGVuPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJhcHBsaWNhdGlvbk9wZW5cIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5yZWdpc3RlckRldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicmVnaXN0ZXJEZXZpY2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS51bnJlZ2lzdGVyRGV2aWNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJ1bnJlZ2lzdGVyRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuZGVsZXRlRGV2aWNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJkZWxldGVEZXZpY2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5tZXNzYWdlRGVsaXZlcnlFdmVudD1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwibWVzc2FnZURlbGl2ZXJ5RXZlbnRcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5wdXNoU3RhdD1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicHVzaFN0YXRcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5zZXRUYWdzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJzZXRUYWdzXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuZ2V0VGFncz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZ2V0VGFnc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnJlZ2lzdGVyVXNlcj1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicmVnaXN0ZXJVc2VyXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucG9zdEV2ZW50PWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJwb3N0RXZlbnRcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJnZXRJbmJveE1lc3NhZ2VzXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuaW5ib3hTdGF0dXM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImluYm94U3RhdHVzXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucGFnZVZpc2l0PWZ1bmN0aW9uKG9wdGlvbnMsdXJsKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicGFnZVZpc2l0XCIsb3B0aW9ucyx1cmwpfSxBcGlDbGllbnQucHJvdG90eXBlLmdldEluQXBwcz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZ2V0SW5BcHBzXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuc2V0UHVyY2hhc2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInNldFB1cmNoYXNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihtZXRob2ROYW1lLHJlcXVlc3QsY3VzdG9tVXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlbnRyeXBvaW50LHJlc3BvbnNlLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwaUVudHJ5cG9pbnQoKV07Y2FzZSAxOnJldHVybiBlbnRyeXBvaW50PV9hLnNlbnQoKSxbNCxmZXRjaChjdXN0b21Vcmx8fGVudHJ5cG9pbnQrbWV0aG9kTmFtZSx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7cmVxdWVzdDpyZXF1ZXN0fSl9KV07Y2FzZSAyOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKV07Y2FzZSAzOnJldHVybihyZXN1bHQ9X2Euc2VudCgpKS5iYXNlX3VybD9bNCx0aGlzLmRhdGEuc2V0QXBpRW50cnlwb2ludChyZXN1bHQuYmFzZV91cmwpXTpbMyw1XTtjYXNlIDQ6X2Euc2VudCgpLF9hLmxhYmVsPTU7Y2FzZSA1OnJldHVybls0LHRoaXMubG9nZ2VyLndyaXRlKFwiYXBpcmVxdWVzdFwiLG1ldGhvZE5hbWUrXCIgY2FsbCB3aXRoIGFyZ3VtZW50czogXCIrSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkrXCIgdG8gUHVzaHdvb3NoIGhhcyBiZWVuIHN1Y2Nlc3NmdWwuIFJlc3VsdDogXCIrSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSldO2Nhc2UgNjpyZXR1cm4gX2Euc2VudCgpLFsyLHJlc3VsdC5yZXNwb25zZV19fSl9KX0sQXBpQ2xpZW50LnByb3RvdHlwZS5jaGVja1Jlc3BvbnNlPWZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYXRhO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDppZigyMDAhPT1yZXNwb25zZS5zdGF0dXMpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29kZTogXCIrcmVzcG9uc2Uuc3RhdHVzK1wiLiBFcnJvciB0ZXh0OiBcIityZXNwb25zZS5zdGF0dXNUZXh0KTtyZXR1cm5bNCxyZXNwb25zZS5qc29uKCldO2Nhc2UgMTppZigyMDAhPT0oZGF0YT1fYS5zZW50KCkpLnN0YXR1c19jb2RlKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGNvZGU6IFwiK2RhdGEuc3RhdHVzX2NvZGUrXCIuIEVycm9yIHRleHQ6IFwiK2RhdGEuc3RhdHVzX21lc3NhZ2UpO3JldHVyblsyLGRhdGFdfX0pfSl9LEFwaUNsaWVudH0oKTtleHBvcnRzLkFwaUNsaWVudD1BcGlDbGllbnR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzKXt2b2lkIDA9PT1wcm9jZXNzfHwhcHJvY2Vzcy52ZXJzaW9ufHwwPT09cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoXCJ2MC5cIil8fDA9PT1wcm9jZXNzLnZlcnNpb24uaW5kZXhPZihcInYxLlwiKSYmMCE9PXByb2Nlc3MudmVyc2lvbi5pbmRleE9mKFwidjEuOC5cIik/bW9kdWxlLmV4cG9ydHM9e25leHRUaWNrOmZ1bmN0aW9uKGZuLGFyZzEsYXJnMixhcmczKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBmbil0aHJvdyBuZXcgVHlwZUVycm9yKCdcImNhbGxiYWNrXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7dmFyIGFyZ3MsaSxsZW49YXJndW1lbnRzLmxlbmd0aDtzd2l0Y2gobGVuKXtjYXNlIDA6Y2FzZSAxOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZuKTtjYXNlIDI6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSl9KTtjYXNlIDM6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSxhcmcyKX0pO2Nhc2UgNDpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe2ZuLmNhbGwobnVsbCxhcmcxLGFyZzIsYXJnMyl9KTtkZWZhdWx0OmZvcihhcmdzPW5ldyBBcnJheShsZW4tMSksaT0wO2k8YXJncy5sZW5ndGg7KWFyZ3NbaSsrXT1hcmd1bWVudHNbaV07cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5hcHBseShudWxsLGFyZ3MpfSl9fX06bW9kdWxlLmV4cG9ydHM9cHJvY2Vzc30pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBidWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyMyksQnVmZmVyPWJ1ZmZlci5CdWZmZXI7ZnVuY3Rpb24gY29weVByb3BzKHNyYyxkc3Qpe2Zvcih2YXIga2V5IGluIHNyYylkc3Rba2V5XT1zcmNba2V5XX1mdW5jdGlvbiBTYWZlQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7cmV0dXJuIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfUJ1ZmZlci5mcm9tJiZCdWZmZXIuYWxsb2MmJkJ1ZmZlci5hbGxvY1Vuc2FmZSYmQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz9tb2R1bGUuZXhwb3J0cz1idWZmZXI6KGNvcHlQcm9wcyhidWZmZXIsZXhwb3J0cyksZXhwb3J0cy5CdWZmZXI9U2FmZUJ1ZmZlciksY29weVByb3BzKEJ1ZmZlcixTYWZlQnVmZmVyKSxTYWZlQnVmZmVyLmZyb209ZnVuY3Rpb24oYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtpZihcIm51bWJlclwiPT10eXBlb2YgYXJnKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9LFNhZmVCdWZmZXIuYWxsb2M9ZnVuY3Rpb24oc2l6ZSxmaWxsLGVuY29kaW5nKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTt2YXIgYnVmPUJ1ZmZlcihzaXplKTtyZXR1cm4gdm9pZCAwIT09ZmlsbD9cInN0cmluZ1wiPT10eXBlb2YgZW5jb2Rpbmc/YnVmLmZpbGwoZmlsbCxlbmNvZGluZyk6YnVmLmZpbGwoZmlsbCk6YnVmLmZpbGwoMCksYnVmfSxTYWZlQnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBCdWZmZXIoc2l6ZSl9LFNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihCdWZmZXIpe21vZHVsZS5leHBvcnRzPXtpc05vZGU6dm9pZCAwIT09QnVmZmVyLG5ld0J1ZmZlckZyb206ZnVuY3Rpb24oZGF0YSxlbmNvZGluZyl7aWYoQnVmZmVyLmZyb20mJkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tKXJldHVybiBCdWZmZXIuZnJvbShkYXRhLGVuY29kaW5nKTtpZihcIm51bWJlclwiPT10eXBlb2YgZGF0YSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRhdGFcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiBuZXcgQnVmZmVyKGRhdGEsZW5jb2RpbmcpfSxhbGxvY0J1ZmZlcjpmdW5jdGlvbihzaXplKXtpZihCdWZmZXIuYWxsb2MpcmV0dXJuIEJ1ZmZlci5hbGxvYyhzaXplKTt2YXIgYnVmPW5ldyBCdWZmZXIoc2l6ZSk7cmV0dXJuIGJ1Zi5maWxsKDApLGJ1Zn0saXNCdWZmZXI6ZnVuY3Rpb24oYil7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihiKX0saXNTdHJlYW06ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvYmoub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9iai5wYXVzZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqLnJlc3VtZX19fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjMpLkJ1ZmZlcil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBfbm9kZUlkLF9jbG9ja3NlcSxybmc9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksYnl0ZXNUb1V1aWQ9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksX2xhc3RNU2Vjcz0wLF9sYXN0TlNlY3M9MDttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihvcHRpb25zLGJ1ZixvZmZzZXQpe3ZhciBpPWJ1ZiYmb2Zmc2V0fHwwLGI9YnVmfHxbXSxub2RlPShvcHRpb25zPW9wdGlvbnN8fHt9KS5ub2RlfHxfbm9kZUlkLGNsb2Nrc2VxPXZvaWQgMCE9PW9wdGlvbnMuY2xvY2tzZXE/b3B0aW9ucy5jbG9ja3NlcTpfY2xvY2tzZXE7aWYobnVsbD09bm9kZXx8bnVsbD09Y2xvY2tzZXEpe3ZhciBzZWVkQnl0ZXM9cm5nKCk7bnVsbD09bm9kZSYmKG5vZGU9X25vZGVJZD1bMXxzZWVkQnl0ZXNbMF0sc2VlZEJ5dGVzWzFdLHNlZWRCeXRlc1syXSxzZWVkQnl0ZXNbM10sc2VlZEJ5dGVzWzRdLHNlZWRCeXRlc1s1XV0pLG51bGw9PWNsb2Nrc2VxJiYoY2xvY2tzZXE9X2Nsb2Nrc2VxPTE2MzgzJihzZWVkQnl0ZXNbNl08PDh8c2VlZEJ5dGVzWzddKSl9dmFyIG1zZWNzPXZvaWQgMCE9PW9wdGlvbnMubXNlY3M/b3B0aW9ucy5tc2VjczoobmV3IERhdGUpLmdldFRpbWUoKSxuc2Vjcz12b2lkIDAhPT1vcHRpb25zLm5zZWNzP29wdGlvbnMubnNlY3M6X2xhc3ROU2VjcysxLGR0PW1zZWNzLV9sYXN0TVNlY3MrKG5zZWNzLV9sYXN0TlNlY3MpLzFlNDtpZihkdDwwJiZ2b2lkIDA9PT1vcHRpb25zLmNsb2Nrc2VxJiYoY2xvY2tzZXE9Y2xvY2tzZXErMSYxNjM4MyksKGR0PDB8fG1zZWNzPl9sYXN0TVNlY3MpJiZ2b2lkIDA9PT1vcHRpb25zLm5zZWNzJiYobnNlY3M9MCksbnNlY3M+PTFlNCl0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtfbGFzdE1TZWNzPW1zZWNzLF9sYXN0TlNlY3M9bnNlY3MsX2Nsb2Nrc2VxPWNsb2Nrc2VxO3ZhciB0bD0oMWU0KigyNjg0MzU0NTUmKG1zZWNzKz0xMjIxOTI5MjhlNSkpK25zZWNzKSU0Mjk0OTY3Mjk2O2JbaSsrXT10bD4+PjI0JjI1NSxiW2krK109dGw+Pj4xNiYyNTUsYltpKytdPXRsPj4+OCYyNTUsYltpKytdPTI1NSZ0bDt2YXIgdG1oPW1zZWNzLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtiW2krK109dG1oPj4+OCYyNTUsYltpKytdPTI1NSZ0bWgsYltpKytdPXRtaD4+PjI0JjE1fDE2LGJbaSsrXT10bWg+Pj4xNiYyNTUsYltpKytdPWNsb2Nrc2VxPj4+OHwxMjgsYltpKytdPTI1NSZjbG9ja3NlcTtmb3IodmFyIG49MDtuPDY7KytuKWJbaStuXT1ub2RlW25dO3JldHVybiBidWZ8fGJ5dGVzVG9VdWlkKGIpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJuZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxieXRlc1RvVXVpZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihvcHRpb25zLGJ1ZixvZmZzZXQpe3ZhciBpPWJ1ZiYmb2Zmc2V0fHwwO1wic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25zJiYoYnVmPVwiYmluYXJ5XCI9PT1vcHRpb25zP25ldyBBcnJheSgxNik6bnVsbCxvcHRpb25zPW51bGwpO3ZhciBybmRzPShvcHRpb25zPW9wdGlvbnN8fHt9KS5yYW5kb218fChvcHRpb25zLnJuZ3x8cm5nKSgpO2lmKHJuZHNbNl09MTUmcm5kc1s2XXw2NCxybmRzWzhdPTYzJnJuZHNbOF18MTI4LGJ1Zilmb3IodmFyIGlpPTA7aWk8MTY7KytpaSlidWZbaStpaV09cm5kc1tpaV07cmV0dXJuIGJ1Znx8Ynl0ZXNUb1V1aWQocm5kcyl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRXZlbnRCdXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtleHBvcnRzLkV2ZW50QnVzPUV2ZW50QnVzXzEuRXZlbnRCdXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1dWlkXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksRXZlbnRCdXM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihuYW1lLGhhbmRsZXIpe3ZhciBzYXZlZEV2ZW50SGFuZGxlcnM9X3RoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwW25hbWVdO3NhdmVkRXZlbnRIYW5kbGVyc3x8KHNhdmVkRXZlbnRIYW5kbGVycz1bXSksc2F2ZWRFdmVudEhhbmRsZXJzLnB1c2goaGFuZGxlciksX3RoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwW25hbWVdPXNhdmVkRXZlbnRIYW5kbGVyc30sdGhpcy5yZW1vdmVFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXt2YXIgc2F2ZWRFdmVudEhhbmRsZXJzPV90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXTtzYXZlZEV2ZW50SGFuZGxlcnMmJihfdGhpcy5zYXZlZEV2ZW50SGFuZGxlcnNNYXBbbmFtZV09c2F2ZWRFdmVudEhhbmRsZXJzLmZpbHRlcihmdW5jdGlvbihzYXZlZEV2ZW50SGFuZGxlcil7cmV0dXJuIHNhdmVkRXZlbnRIYW5kbGVyIT09aGFuZGxlcn0pKX0sdGhpcy5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKG5hbWUscGF5bG9hZCl7dmFyIGV2ZW50SWQ9cGF5bG9hZC5ldmVudElkfHx1dWlkXzEudjQoKSxzYXZlZEV2ZW50SGFuZGxlcnM9X3RoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwW25hbWVdO3JldHVybiBzYXZlZEV2ZW50SGFuZGxlcnM/KHNhdmVkRXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGVsZW1lbnQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlbGVtZW50KF9fYXNzaWduKF9fYXNzaWduKHt9LHBheWxvYWQpLHtldmVudElkOmV2ZW50SWR9KSl9LDApfSksZXZlbnRJZCk6ZXZlbnRJZH0sdGhpcy5zYXZlZEV2ZW50SGFuZGxlcnNNYXA9e319fSgpO2V4cG9ydHMuRXZlbnRCdXM9RXZlbnRCdXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxBcGlDbGllbnRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxBcGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBcGkoZXZlbnRCdXMsZGF0YSxhcGlDbGllbnQpe3ZvaWQgMD09PWRhdGEmJihkYXRhPW5ldyBEYXRhXzEuRGF0YSksdm9pZCAwPT09YXBpQ2xpZW50JiYoYXBpQ2xpZW50PW5ldyBBcGlDbGllbnRfMS5BcGlDbGllbnQpLHRoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGlDbGllbnQ9YXBpQ2xpZW50fXJldHVybiBBcGkucHJvdG90eXBlLmNoZWNrRGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuYXBpQ2xpZW50LmNoZWNrRGV2aWNlKHBhcmFtcyldO2Nhc2UgMjpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEFwaS5wcm90b3R5cGUuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucz1mdW5jdGlvbih1c2VDYWNoZSl7cmV0dXJuIHZvaWQgMD09PXVzZUNhY2hlJiYodXNlQ2FjaGU9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc3RhdHVzLF9hLGV4aXN0LHB1c2hfdG9rZW5fZXhpc3Q7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiB2b2lkIDAhPT0oc3RhdHVzPWxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpKSYmdXNlQ2FjaGU/WzMsMl06WzQsdGhpcy5jaGVja0RldmljZSgpXTtjYXNlIDE6X2E9X2Iuc2VudCgpLGV4aXN0PV9hLmV4aXN0LHB1c2hfdG9rZW5fZXhpc3Q9X2EucHVzaF90b2tlbl9leGlzdCxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTLGV4aXN0JiZwdXNoX3Rva2VuX2V4aXN0P0NPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEOkNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUQpLHN0YXR1cz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKSxfYi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixzdGF0dXM9PT1DT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRF19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oZmVhdHVyZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5nZXRDb25maWcoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7ZmVhdHVyZXM6ZmVhdHVyZXN9KSldfX0pfSl9LEFwaS5wcm90b3R5cGUuYXBwbGljYXRpb25PcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZShEYXRlLm5vdygpKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuYXBwbGljYXRpb25PcGVuKHBhcmFtcyldfX0pfSl9LEFwaS5wcm90b3R5cGUucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsdG9rZW5zLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkKCldO2Nhc2UgMTppZihfYS5zZW50KCkpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVnaXN0ZXIgZGV2aWNlOiBDb21tdW5pY2F0aW9uIGlzIGRpc2FibGVkIVwiKTtyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAyOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSAzOmlmKCEodG9rZW5zPV9hLnNlbnQoKSkucHVzaFRva2VuKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlZ2lzdGVyIGRldmljZTogcHVzaFRva2VuIGlzIG5vdCBleGlzdCFcIik7cmV0dXJuWzQsdGhpcy5hcGlDbGllbnQucmVnaXN0ZXJEZXZpY2UoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7cHVzaF90b2tlbjp0b2tlbnMucHVzaFRva2VuLGF1dGhfdG9rZW46dG9rZW5zLmF1dGhUb2tlbixwdWJsaWNfa2V5OnRva2Vucy5wdWJsaWNLZXksZmNtX3B1c2hfc2V0OnRva2Vucy5mY21QdXNoU2V0LGZjbV90b2tlbjp0b2tlbnMuZmNtVG9rZW59KSldO2Nhc2UgNDpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITEpXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTLENPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJyZWdpc3RlclwiLHt9KSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS51bnJlZ2lzdGVyRGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLHJlc3BvbnNlPXRoaXMuYXBpQ2xpZW50LnVucmVnaXN0ZXJEZXZpY2UocGFyYW1zKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTLENPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUQpLHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInVuc3Vic2NyaWJlXCIse30pLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLmRlbGV0ZURldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxyZXNwb25zZT10aGlzLmFwaUNsaWVudC5kZWxldGVEZXZpY2UocGFyYW1zKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCEwKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJ1bnN1YnNjcmliZVwiLHt9KSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5tZXNzYWdlRGVsaXZlcnlFdmVudD1mdW5jdGlvbihoYXNoLGlzVHJhY2tpbmdMb2dPbkZhaWx1cmUsbWV0YURhdGEpe3JldHVybiB2b2lkIDA9PT1tZXRhRGF0YSYmKG1ldGFEYXRhPXt9KSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIE1hdGgucm91bmQoK25ldyBEYXRlKSxbNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuYXBpQ2xpZW50Lm1lc3NhZ2VEZWxpdmVyeUV2ZW50KF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2hhc2g6aGFzaCxtZXRhRGF0YTptZXRhRGF0YX0pKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sQXBpLnByb3RvdHlwZS5wdXNoU3RhdD1mdW5jdGlvbihoYXNoLGlzVHJhY2tpbmdMb2dPbkZhaWx1cmUsbWV0YURhdGEpe3JldHVybiB2b2lkIDA9PT1tZXRhRGF0YSYmKG1ldGFEYXRhPXt9KSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIE1hdGgucm91bmQoK25ldyBEYXRlKSxbNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuYXBpQ2xpZW50LnB1c2hTdGF0KF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2hhc2g6aGFzaCxtZXRhRGF0YTptZXRhRGF0YX0pKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sQXBpLnByb3RvdHlwZS5zZXRUYWdzPWZ1bmN0aW9uKHRhZ3Mpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5zZXRUYWdzKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse3RhZ3M6dGFnc30pKV19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRUYWdzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldFRhZ3MocGFyYW1zKV19fSl9KX0sQXBpLnByb3RvdHlwZS5yZWdpc3RlclVzZXI9ZnVuY3Rpb24odXNlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsZGV2aWNlVHlwZSxpZCxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDI6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLGlkPVwiXCIrdXNlcklkLFs0LHRoaXMuYXBpQ2xpZW50LnJlZ2lzdGVyVXNlcihfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHt1c2VySWQ6aWQsdHNfb2Zmc2V0OjYwKi0obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZX0pKV07Y2FzZSAzOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFVzZXJJZChcIlwiK3VzZXJJZCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkKCEwKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUucG9zdEV2ZW50PWZ1bmN0aW9uKGV2ZW50LGF0dHJpYnV0ZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxkYXRlLHRpbWUsdGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQsbGFzdE9wZW5NZXNzYWdlLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLGRhdGU9bmV3IERhdGUsdGltZT1kYXRlLmdldFRpbWUoKSx0aW1lc3RhbXBVVEM9TWF0aC5mbG9vcih0aW1lLzFlMyksdGltZXN0YW1wQ3VycmVudD10aW1lc3RhbXBVVEMtZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLzYwKjM2MDAsWzQsdGhpcy5kYXRhLmdldExhc3RPcGVuTWVzc2FnZSgpXTtjYXNlIDI6aWYoKGxhc3RPcGVuTWVzc2FnZT1fYS5zZW50KCkpJiZsYXN0T3Blbk1lc3NhZ2UuZXhwaXJ5PkRhdGUubm93KCkpe2lmKGF0dHJpYnV0ZXMubXNnSGFzaClyZXR1cm5bMixQcm9taXNlLnJlamVjdChcImF0dHJpYnV0ZSBtc2dIYXNoIGFscmVhZHkgZGVmaW5lZFwiKV07YXR0cmlidXRlcz1fX2Fzc2lnbihfX2Fzc2lnbih7fSxhdHRyaWJ1dGVzKSx7bXNnSGFzaDpsYXN0T3Blbk1lc3NhZ2UubWVzc2FnZUhhc2h9KX1yZXR1cm5bNCx0aGlzLmRhdGEuc2V0TGFzdE9wZW5NZXNzYWdlKHZvaWQgMCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpQ2xpZW50LnBvc3RFdmVudChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtldmVudDpldmVudCx0aW1lc3RhbXBVVEM6dGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQ6dGltZXN0YW1wQ3VycmVudCxhdHRyaWJ1dGVzOmF0dHJpYnV0ZXN9KSldO2Nhc2UgNDpyZXR1cm4ocmVzcG9uc2U9X2Euc2VudCgpKSYmcmVzcG9uc2UuY29kZSYmdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicmVjZWl2ZS1pbi1hcHAtY29kZVwiLHtjb2RlOnJlc3BvbnNlLmNvZGV9KSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKGNvdW50KXtyZXR1cm4gdm9pZCAwPT09Y291bnQmJihjb3VudD0wKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxsYXN0Q29kZSxsYXN0UmVxdWVzdFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEluYm94TGFzdFJlcXVlc3RDb2RlKCldO2Nhc2UgMjpyZXR1cm4gbGFzdENvZGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRJbmJveExhc3RSZXF1ZXN0VGltZSgpXTtjYXNlIDM6cmV0dXJuIGxhc3RSZXF1ZXN0VGltZT1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0SW5ib3hNZXNzYWdlcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtjb3VudDpjb3VudCxsYXN0X2NvZGU6bGFzdENvZGUsbGFzdF9yZXF1ZXN0X3RpbWU6bGFzdFJlcXVlc3RUaW1lfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLmluYm94U3RhdHVzPWZ1bmN0aW9uKG9yZGVyLHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmluYm94U3RhdHVzKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2luYm94X2NvZGU6b3JkZXIsc3RhdHVzOnN0YXR1cyx0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLnRyaWdnZXJFdmVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkLCBiZWNhdXNlIHdlIGRvbid0IGFnZ3JlZ2F0ZSB0aGlzIHN0YXRpc3RpY3MuXCIpfSl9KX0sQXBpLnByb3RvdHlwZS5wYWdlVmlzaXQ9ZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsZmVhdHVyZXMsdXJsO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDI6cmV0dXJuIGZlYXR1cmVzPV9hLnNlbnQoKSwodXJsPWZlYXR1cmVzJiZmZWF0dXJlcy5wYWdlX3Zpc2l0JiZmZWF0dXJlcy5wYWdlX3Zpc2l0LmVudHJ5cG9pbnQpP1syLHRoaXMuYXBpQ2xpZW50LnBhZ2VWaXNpdChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLGNvbmZpZyksdXJsKV06WzJdfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0SW5BcHBzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldEluQXBwcyhwYXJhbXMpXX19KX0pfSxBcGkucHJvdG90eXBlLnNldFB1cmNoYXNlPWZ1bmN0aW9uKGF0dHJpYnV0ZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5zZXRQdXJjaGFzZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLGF0dHJpYnV0ZXMpKV19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBhcHBsaWNhdGlvbkNvZGUsaHdpZCxhcGlQYXJhbXMsaW5pdFBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uQ29kZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgMzpyZXR1cm4gYXBpUGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SW5pdFBhcmFtcygpXTtjYXNlIDQ6cmV0dXJuIGluaXRQYXJhbXM9X2Euc2VudCgpLFsyLF9fYXNzaWduKF9fYXNzaWduKHthcHBsaWNhdGlvbkNvZGU6YXBwbGljYXRpb25Db2RlLGh3aWQ6aHdpZH0sYXBpUGFyYW1zKSxpbml0UGFyYW1zKV19fSl9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwaS5wcm90b3R5cGUsXCJwYXJhbXNcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSBcIlB1c2h3b29zaC5hcGkucGFyYW1zXCIgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgYXN5bmMgbWV0aG9kIFwiUHVzaHdvb3NoLmFwaS5nZXRQYXJhbXMoKVwiJyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksQXBpLnByb3RvdHlwZS5nZXRSZXF1ZXN0UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb25Db2RlLGh3aWQsdXNlcklkLGRldmljZVR5cGUsZGV2aWNlTW9kZWwsbGFuZ3VhZ2UsdmVyc2lvbix0aW1lem9uZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uQ29kZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VXNlcklkKCldO2Nhc2UgMzpyZXR1cm4gdXNlcklkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDQ6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VNb2RlbCgpXTtjYXNlIDU6cmV0dXJuIGRldmljZU1vZGVsPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0TGFuZ3VhZ2UoKV07Y2FzZSA2OnJldHVybiBsYW5ndWFnZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNka1ZlcnNpb24oKV07Y2FzZSA3OnJldHVybiB2ZXJzaW9uPV9hLnNlbnQoKSx0aW1lem9uZT02MCotKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLFsyLHthcHBsaWNhdGlvbjphcHBsaWNhdGlvbkNvZGUsaHdpZDpod2lkLHVzZXJJZDp1c2VySWR8fGh3aWQsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZSxkZXZpY2VfbW9kZWw6ZGV2aWNlTW9kZWwsdGltZXpvbmU6dGltZXpvbmUsbGFuZ3VhZ2U6bGFuZ3VhZ2Usdjp2ZXJzaW9ufV19fSl9KX0sQXBpfSgpO2V4cG9ydHMuQXBpPUFwaX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGluaXRpYWxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSxfMjZfMTFfMjAxOF8xPV9fd2VicGFja19yZXF1aXJlX18oMzkpLERhdGVNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLE1pZ3JhdGlvbnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNaWdyYXRpb25zKGRhdGVNb2R1bGUpe3ZvaWQgMD09PWRhdGVNb2R1bGUmJihkYXRlTW9kdWxlPW5ldyBEYXRlTW9kdWxlXzEuZGVmYXVsdCksdGhpcy5taWdyYXRpb25zPXtpbml0aWFsOmluaXRpYWxfMS5kZWZhdWx0LFwiMjAxOC8xMS8yNlwiOl8yNl8xMV8yMDE4XzEuZGVmYXVsdH0sdGhpcy5kYXRlTW9kdWxlPWRhdGVNb2R1bGV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNaWdyYXRpb25zLnByb3RvdHlwZSxcImluaXRpYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWlncmF0aW9ucy5pbml0aWFsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNaWdyYXRpb25zLnByb3RvdHlwZSxcImRhdGVTb3J0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubWlncmF0aW9ucykuZmlsdGVyKGZ1bmN0aW9uKGtleSl7cmV0dXJuXCJpbml0aWFsXCIhPT1rZXl9KS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGRhdGVBPW5ldyBEYXRlTW9kdWxlXzEuZGVmYXVsdChuZXcgRGF0ZShhKSksZGF0ZUI9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KG5ldyBEYXRlKGIpKTtyZXR1cm4gZGF0ZUEuZ2V0VGltZXN0YW1wKCktZGF0ZUIuZ2V0VGltZXN0YW1wKCl9KS5tYXAoZnVuY3Rpb24oa2V5KXtyZXR1cm4gX3RoaXMubWlncmF0aW9uc1trZXldfSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksTWlncmF0aW9uc30oKTtleHBvcnRzLmRlZmF1bHQ9TWlncmF0aW9uc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGhlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO2V4cG9ydHMuZGVmYXVsdD1baGVscGVyc18xLnN0b3JlQ3JlYXRvckRlY29yYXRvcihjb25zdGFudHNfMS5TVE9SRV9OQU1FX0tFWV9WQUxVRSxmdW5jdGlvbihkYXRhYmFzZSl7ZGF0YWJhc2UuY3JlYXRlT2JqZWN0U3RvcmUoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9LRVlfVkFMVUUse2tleVBhdGg6XCJrZXlcIn0pfSksaGVscGVyc18xLnN0b3JlQ3JlYXRvckRlY29yYXRvcihjb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLGZ1bmN0aW9uKGRhdGFiYXNlKXt2YXIgbG9nU3RvcmU9ZGF0YWJhc2UuY3JlYXRlT2JqZWN0U3RvcmUoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NQUlOX0xPRyx7a2V5UGF0aDpjb25zdGFudHNfMS5LRVlfUEFUSF9CQVNFX0lOQ1JFTUVOVCxhdXRvSW5jcmVtZW50OiEwfSk7bG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJlbnZpcm9ubWVudFwiLFwiZW52aXJvbm1lbnRcIix7dW5pcXVlOiExfSksbG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJkYXRlXCIsXCJkYXRlXCIse3VuaXF1ZTohMX0pLGxvZ1N0b3JlLmNyZWF0ZUluZGV4KFwidHlwZVwiLFwidHlwZVwiLHt1bmlxdWU6ITF9KX0pLGhlbHBlcnNfMS5zdG9yZUNyZWF0b3JEZWNvcmF0b3IoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRyxmdW5jdGlvbihkYXRhYmFzZSl7ZGF0YWJhc2UuY3JlYXRlT2JqZWN0U3RvcmUoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRyx7a2V5UGF0aDpjb25zdGFudHNfMS5LRVlfUEFUSF9CQVNFX0lOQ1JFTUVOVCxhdXRvSW5jcmVtZW50OiEwfSkuY3JlYXRlSW5kZXgoXCJkYXRlXCIsXCJkYXRlXCIse3VuaXF1ZTohMX0pfSldfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMjApLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oOSk7ZXhwb3J0cy5kZWZhdWx0PVtoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVMsZnVuY3Rpb24oZGF0YWJhc2Upe3ZhciBzdG9yZT1kYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0lOQk9YX01FU1NBR0VTLHtrZXlQYXRoOlwiaW5ib3hfaWRcIixhdXRvSW5jcmVtZW50OiExfSk7c3RvcmUuY3JlYXRlSW5kZXgoXCJzdGF0dXNcIixcInN0YXR1c1wiLHt1bmlxdWU6ITEsbXVsdGlFbnRyeTohMH0pLHN0b3JlLmNyZWF0ZUluZGV4KFwicnRcIixcInJ0XCIse3VuaXF1ZTohMSxtdWx0aUVudHJ5OiEwfSl9KV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTMpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNCksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksUHVzaFNlcnZpY2VEZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaFNlcnZpY2VEZWZhdWx0KGFwaSxkYXRhLGNvbmZpZyl7dGhpcy5hcGk9YXBpLHRoaXMuZGF0YT1kYXRhLHRoaXMuY29uZmlnPWNvbmZpZ31yZXR1cm4gUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9ufSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUR9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fUFJPTVBUfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldfSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5hc2tQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuZGF0YS5nZXRUb2tlbnMoKV19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihzdWJzY3JpcHRpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRTdWJzY3JpcHRpb24sc2VuZGVySWRfMSxhcHBsaWNhdGlvblNlcnZlcktleSxzZW5kZXJJZCxwdXNoVG9rZW4sX3AyNTZkbixfYXV0aCxwMjU2ZGgsYXV0aCxfYSx0b2tlbixwdXNoU2V0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gY3VycmVudFN1YnNjcmlwdGlvbj1zdWJzY3JpcHRpb24sdGhpcy5jaGVja0lzUGVybWlzc2lvbkdyYW50ZWQoKT9jdXJyZW50U3Vic2NyaXB0aW9uP1szLDZdOls0LHRoaXMudHJ5U3Vic2NyaWJlKCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJZb3UgbXVzdCBoYXZlIHBlcm1pc3Npb24gZ3JhbnRlZCBiZWZvcmUgc3Vic2NyaWJlIVwiKSxbMl0pO2Nhc2UgMTpyZXR1cm4gY3VycmVudFN1YnNjcmlwdGlvbj1fYi5zZW50KCksWzQsdGhpcy5nZXRTZW5kZXJJZEZyb21NYW5pZmVzdCgpXTtjYXNlIDI6cmV0dXJuIHNlbmRlcklkXzE9X2Iuc2VudCgpLFs0LHRoaXMuY2hlY2tJc0NoYW5nZVNlbmRlcklkKHNlbmRlcklkXzEpXTtjYXNlIDM6cmV0dXJuIF9iLnNlbnQoKT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDZdO2Nhc2UgNDpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTZW5kZXJJZChzZW5kZXJJZF8xKV07Y2FzZSA1Ol9iLnNlbnQoKSxfYi5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bNCx0aGlzLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5KCldO2Nhc2UgNzpyZXR1cm4gYXBwbGljYXRpb25TZXJ2ZXJLZXk9X2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZW5kZXJJZCgpXTtjYXNlIDg6cmV0dXJuIHNlbmRlcklkPV9iLnNlbnQoKSxbNCx0aGlzLmdldFB1c2hUb2tlbihjdXJyZW50U3Vic2NyaXB0aW9uKV07Y2FzZSA5OmlmKHB1c2hUb2tlbj1fYi5zZW50KCksX3AyNTZkbj1jdXJyZW50U3Vic2NyaXB0aW9uLmdldEtleShcInAyNTZkaFwiKSxfYXV0aD1jdXJyZW50U3Vic2NyaXB0aW9uLmdldEtleShcImF1dGhcIiksIV9wMjU2ZG58fCFfYXV0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBnZXQgc3Vic2NyaXB0aW9uIGtleXMhXCIpO3JldHVybiBwMjU2ZGg9YnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuZXcgVWludDhBcnJheShfcDI1NmRuKSkpLGF1dGg9YnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuZXcgVWludDhBcnJheShfYXV0aCkpKSxbNCx0aGlzLmdldEZjbUtleXMoe2VuZHBvaW50OmN1cnJlbnRTdWJzY3JpcHRpb24uZW5kcG9pbnQsYXBwbGljYXRpb25fcHViX2tleTphcHBsaWNhdGlvblNlcnZlcktleSxlbmNyeXB0aW9uX2tleTpwMjU2ZGgsZW5jcnlwdGlvbl9hdXRoOmF1dGgsYXV0aG9yaXplZF9lbnRpdHk6c2VuZGVySWR9KV07Y2FzZSAxMDpyZXR1cm4gX2E9X2Iuc2VudCgpLHRva2VuPV9hLnRva2VuLHB1c2hTZXQ9X2EucHVzaFNldCxbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHtwdWJsaWNLZXk6cDI1NmRoLHB1c2hUb2tlbjpwdXNoVG9rZW4sYXV0aFRva2VuOmF1dGgsZmNtUHVzaFNldDpwdXNoU2V0LGZjbVRva2VuOnRva2VuLGVuZHBvaW50OmN1cnJlbnRTdWJzY3JpcHRpb24uZW5kcG9pbnR9KV07Y2FzZSAxMTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuYXBpLnJlZ2lzdGVyRGV2aWNlKCldO2Nhc2UgMTI6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHN1YnNjcmlwdGlvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm5bNCxfYS5zZW50KCkucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO2Nhc2UgMjpyZXR1cm4gc3Vic2NyaXB0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHt9KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLnVucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksc3Vic2NyaXB0aW9uP1s0LHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTpbMl07Y2FzZSA2OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1JlZ2lzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucygpXX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc05lZWRSZXN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNhdmVkU2VuZGVySWQsaXNFeGlzdFNhdmVkU2VuZGVySWQsbWFuaWZlc3RTZW5kZXJJZCxpc0NoYW5nZVNlbmRlcklELGxhc3RQZXJtaXNzaW9uLHBlcm1pc3Npb24sY3JlZGVudGlhbHMscHVzaFRva2VuRnJvbVN1YnNjcmlwdGlvbixwdXNoVG9rZW5Gcm9tU3RvcmUsaXNFcXVhbFB1c2hUb2tlbnM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTZW5kZXJJZCgpXTtjYXNlIDE6cmV0dXJuIHNhdmVkU2VuZGVySWQ9X2Euc2VudCgpLGlzRXhpc3RTYXZlZFNlbmRlcklkPXZvaWQgMCE9PXNhdmVkU2VuZGVySWQsWzQsdGhpcy5nZXRTZW5kZXJJZEZyb21NYW5pZmVzdCgpXTtjYXNlIDI6cmV0dXJuIG1hbmlmZXN0U2VuZGVySWQ9X2Euc2VudCgpLGlzQ2hhbmdlU2VuZGVySUQ9aXNFeGlzdFNhdmVkU2VuZGVySWQmJm1hbmlmZXN0U2VuZGVySWQhPT1zYXZlZFNlbmRlcklkLFs0LHRoaXMuZGF0YS5zZXRTZW5kZXJJZChtYW5pZmVzdFNlbmRlcklkKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldExhc3RQZXJtaXNzaW9uU3RhdHVzKCldO2Nhc2UgNDpyZXR1cm4gbGFzdFBlcm1pc3Npb249X2Euc2VudCgpLHBlcm1pc3Npb249dGhpcy5nZXRQZXJtaXNzaW9uKCksaXNFeGlzdFNhdmVkU2VuZGVySWQmJmxhc3RQZXJtaXNzaW9uIT09cGVybWlzc2lvbj9bNCx0aGlzLmRhdGEuc2V0TGFzdFBlcm1pc3Npb25TdGF0dXMocGVybWlzc2lvbildOlszLDZdO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFsyLCEwXTtjYXNlIDY6cmV0dXJuWzQsdGhpcy5nZXRDcmVkZW50aWFscygpXTtjYXNlIDc6cmV0dXJuIGNyZWRlbnRpYWxzPV9hLnNlbnQoKSxbNCx0aGlzLmdldFB1c2hUb2tlbihjcmVkZW50aWFscyldO2Nhc2UgODpyZXR1cm4gcHVzaFRva2VuRnJvbVN1YnNjcmlwdGlvbj1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFRva2VucygpXTtjYXNlIDk6cmV0dXJuIHB1c2hUb2tlbkZyb21TdG9yZT1fYS5zZW50KCksaXNFcXVhbFB1c2hUb2tlbnM9cHVzaFRva2VuRnJvbVN1YnNjcmlwdGlvbj09PShwdXNoVG9rZW5Gcm9tU3RvcmUmJnB1c2hUb2tlbkZyb21TdG9yZS5wdXNoVG9rZW4pLFsyLGlzQ2hhbmdlU2VuZGVySUR8fCFpc0VxdWFsUHVzaFRva2Vuc119fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXJsLF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5yZWdpc3RyYXRpb24/WzMsNV06WzQsdGhpcy5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKV07Y2FzZSAxOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJVcmwoKV07Y2FzZSAyOnJldHVybiB1cmw9X2Iuc2VudCgpLF9hPXRoaXMsWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKHVybCldO2Nhc2UgMzpyZXR1cm4gX2EucmVnaXN0cmF0aW9uPV9iLnNlbnQoKSxbNCx0aGlzLnJlZ2lzdHJhdGlvbi51cGRhdGUoKV07Y2FzZSA0Ol9iLnNlbnQoKSxfYi5sYWJlbD01O2Nhc2UgNTppZighdGhpcy5yZWdpc3RyYXRpb24pdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgRXJyb3I6IENhbid0IHJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyIVwiKTtyZXR1cm5bMix0aGlzLnJlZ2lzdHJhdGlvbl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5yZWdpc3RlclNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1cmwsc2NvcGUsc2RrVmVyc2lvbixzZXJ2aWNlV29ya2VyVmVyc2lvbixjbGVhbkNhY2hlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VydmljZVdvcmtlclVybCgpXTtjYXNlIDE6cmV0dXJuIHVybD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJTY29wZSgpXTtjYXNlIDI6cmV0dXJuIHNjb3BlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDM6cmV0dXJuIHNka1ZlcnNpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZXJ2aWNlV29ya2VyVmVyc2lvbigpXTtjYXNlIDQ6cmV0dXJuIHNlcnZpY2VXb3JrZXJWZXJzaW9uPV9hLnNlbnQoKSxjbGVhbkNhY2hlPVwiXCIsc2RrVmVyc2lvbiE9PXNlcnZpY2VXb3JrZXJWZXJzaW9uJiYoY2xlYW5DYWNoZT1cIj9jYWNoZV9jbGVhbj1cIit1dWlkXzEudjQoKSksWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCJcIit1cmwrY2xlYW5DYWNoZSx7c2NvcGU6c2NvcGV9KV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfMTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIF9hLnRyeXMucHVzaChbMCwyLCw0XSksWzQsdGhpcy5zdWJzY3JpYmVQdXNoTWFuYWdlcigpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDI6cmV0dXJuIGVycm9yXzE9X2Euc2VudCgpLGNvbnNvbGUuZXJyb3IoZXJyb3JfMSksWzQsdGhpcy51bnN1YnNjcmliZSgpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMix0aGlzLnN1YnNjcmliZVB1c2hNYW5hZ2VyKCldO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5zdWJzY3JpYmVQdXNoTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlZ2lzdHJhdGlvbixhcHBsaWNhdGlvblNlcnZlcktleTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm4gcmVnaXN0cmF0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5KCldO2Nhc2UgMjpyZXR1cm4gYXBwbGljYXRpb25TZXJ2ZXJLZXk9X2Euc2VudCgpLFsyLHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe3VzZXJWaXNpYmxlT25seTohMCxhcHBsaWNhdGlvblNlcnZlcktleTphcHBsaWNhdGlvblNlcnZlcktleT90aGlzLnVybEJhc2U2NFRvVWludDhBcnJheShhcHBsaWNhdGlvblNlcnZlcktleSk6bnVsbH0pXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldENyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm5bNCxfYS5zZW50KCkucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO2Nhc2UgMjpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0RmNtS2V5cz1mdW5jdGlvbihjb25maWcpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxmZXRjaCh0aGlzLmNvbmZpZy5lbnRyeXBvaW50fHxcImh0dHBzOi8vZmNtLmdvb2dsZWFwaXMuY29tL2ZjbS9jb25uZWN0L3N1YnNjcmliZVwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSxib2R5OkpTT04uc3RyaW5naWZ5KGNvbmZpZyl9KV07Y2FzZSAxOnJldHVybiAyMDAhPT0ocmVzcG9uc2U9X2Euc2VudCgpKS5zdGF0dXM/WzMsM106WzQscmVzcG9uc2UuanNvbigpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDM6dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgZXJyb3I6IENhbid0IHJlZ2lzdGVyIGRldmljZSBpbiBmY20uIFN0YXR1czogXCIrcmVzcG9uc2Uuc3RhdHVzK1wiLiBNZXNzYWdlOiBcIityZXNwb25zZS5zdGF0dXNUZXh0KX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFB1c2hUb2tlbj1mdW5jdGlvbihzdWJzY3JpcHRpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVR5cGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksc3Vic2NyaXB0aW9uPzEyPT09ZGV2aWNlVHlwZT9bMixzdWJzY3JpcHRpb24uZW5kcG9pbnRdOlsyLHN1YnNjcmlwdGlvbi5lbmRwb2ludC5zcGxpdChcIi9cIikucG9wKCl8fFwiXCJdOlsyLFwiXCJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDE6cmV0dXJuIDExIT09X2Euc2VudCgpP1syXTpbNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkoKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRTZW5kZXJJZEZyb21NYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1hbmlmZXN0LHVybCxyZXNwb25zZSxkYXRhLG1hdGNoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDppZighKG1hbmlmZXN0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPVwibWFuaWZlc3RcIl0nKSkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IG1hbmlmZXN0Lmpzb24gbm90IGZvdW5kIVwiKTtpZighKHVybD1tYW5pZmVzdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogbWFuaWZlc3QuanNvbiB1cmwgbm90IGZvdW5kIVwiKTtyZXR1cm5bNCxmZXRjaCh1cmwse21ldGhvZDpcIkdFVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIn19KV07Y2FzZSAxOmlmKDIwMCE9PShyZXNwb25zZT1fYS5zZW50KCkpLnN0YXR1cyl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogQ2FuJ3QgbG9hZCBtYW5pZmVzdC5qc29uISBcIityZXNwb25zZS5zdGF0dXNUZXh0KTtyZXR1cm5bNCxyZXNwb25zZS50ZXh0KCldO2Nhc2UgMjppZihkYXRhPV9hLnNlbnQoKSwhKG1hdGNoPWRhdGEubWF0Y2goLyhcInwnKT9nY21fc2VuZGVyX2lkKFwifCcpPzpcXHMqKFwifCcpPyhcXGQrKShcInwnKT8vKSl8fFwic3RyaW5nXCIhPXR5cGVvZiBtYXRjaFs0XSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogQ2FuJ3QgZmluZCBnY21fc2VuZGVyX2lkIGluIG1hbmlmZXN0Lmpzb24hXCIpO3JldHVyblsyLG1hdGNoWzRdXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNDaGFuZ2VTZW5kZXJJZD1mdW5jdGlvbihjdXJyZW50U2VuZGVySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNlbmRlcklkRnJvbUluZGV4ZWREQjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFNlbmRlcklkKCldO2Nhc2UgMTpyZXR1cm4gc2VuZGVySWRGcm9tSW5kZXhlZERCPV9hLnNlbnQoKSxbMixjdXJyZW50U2VuZGVySWQhPT1zZW5kZXJJZEZyb21JbmRleGVkREJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudXJsQmFzZTY0VG9VaW50OEFycmF5PWZ1bmN0aW9uKGJhc2U2NFN0cmluZyl7Zm9yKHZhciBiYXNlNjQ9KGJhc2U2NFN0cmluZytcIj1cIi5yZXBlYXQoKDQtYmFzZTY0U3RyaW5nLmxlbmd0aCU0KSU0KSkucmVwbGFjZSgvXFwtL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIikscmF3RGF0YT13aW5kb3cuYXRvYihiYXNlNjQpLG91dHB1dEFycmF5PW5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKSxpPTA7aTxyYXdEYXRhLmxlbmd0aDsrK2kpb3V0cHV0QXJyYXlbaV09cmF3RGF0YS5jaGFyQ29kZUF0KGkpO3JldHVybiBvdXRwdXRBcnJheX0sUHVzaFNlcnZpY2VEZWZhdWx0fSgpO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFJlZmxlY3RPd25LZXlzLFI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLFJlZmxlY3RBcHBseT1SJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSLmFwcGx5P1IuYXBwbHk6ZnVuY3Rpb24odGFyZ2V0LHJlY2VpdmVyLGFyZ3Mpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQscmVjZWl2ZXIsYXJncyl9O1JlZmxlY3RPd25LZXlzPVImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFIub3duS2V5cz9SLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpfTpmdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpfTt2YXIgTnVtYmVySXNOYU49TnVtYmVyLmlzTmFOfHxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIT12YWx1ZX07ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7RXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKX1tb2R1bGUuZXhwb3J0cz1FdmVudEVtaXR0ZXIsbW9kdWxlLmV4cG9ydHMub25jZT1mdW5jdGlvbihlbWl0dGVyLG5hbWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpe2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSxyZXNvbHZlcikscmVqZWN0KGVycil9ZnVuY3Rpb24gcmVzb2x2ZXIoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyJiZlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixlcnJvckxpc3RlbmVyKSxyZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9ZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsbmFtZSxyZXNvbHZlcix7b25jZTohMH0pLFwiZXJyb3JcIiE9PW5hbWUmJmZ1bmN0aW9uKGVtaXR0ZXIsaGFuZGxlcixmbGFncyl7XCJmdW5jdGlvblwiPT10eXBlb2YgZW1pdHRlci5vbiYmZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsXCJlcnJvclwiLGhhbmRsZXIsZmxhZ3MpfShlbWl0dGVyLGVycm9yTGlzdGVuZXIse29uY2U6ITB9KX0pfSxFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZGVmYXVsdE1heExpc3RlbmVycz0xMDtmdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBsaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBsaXN0ZW5lcil9ZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KXtyZXR1cm4gdm9pZCAwPT09dGhhdC5fbWF4TGlzdGVuZXJzP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoYXQuX21heExpc3RlbmVyc31mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LHR5cGUsbGlzdGVuZXIscHJlcGVuZCl7dmFyIG0sZXZlbnRzLGV4aXN0aW5nO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGFyZ2V0Ll9ldmVudHMpPyhldmVudHM9dGFyZ2V0Ll9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0YXJnZXQuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1ldmVudHMubmV3TGlzdGVuZXImJih0YXJnZXQuZW1pdChcIm5ld0xpc3RlbmVyXCIsdHlwZSxsaXN0ZW5lci5saXN0ZW5lcj9saXN0ZW5lci5saXN0ZW5lcjpsaXN0ZW5lciksZXZlbnRzPXRhcmdldC5fZXZlbnRzKSxleGlzdGluZz1ldmVudHNbdHlwZV0pLHZvaWQgMD09PWV4aXN0aW5nKWV4aXN0aW5nPWV2ZW50c1t0eXBlXT1saXN0ZW5lciwrK3RhcmdldC5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBleGlzdGluZz9leGlzdGluZz1ldmVudHNbdHlwZV09cHJlcGVuZD9bbGlzdGVuZXIsZXhpc3RpbmddOltleGlzdGluZyxsaXN0ZW5lcl06cHJlcGVuZD9leGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTpleGlzdGluZy5wdXNoKGxpc3RlbmVyKSwobT1fZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCkpPjAmJmV4aXN0aW5nLmxlbmd0aD5tJiYhZXhpc3Rpbmcud2FybmVkKXtleGlzdGluZy53YXJuZWQ9ITA7dmFyIHc9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitleGlzdGluZy5sZW5ndGgrXCIgXCIrU3RyaW5nKHR5cGUpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7dy5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdy5lbWl0dGVyPXRhcmdldCx3LnR5cGU9dHlwZSx3LmNvdW50PWV4aXN0aW5nLmxlbmd0aCxmdW5jdGlvbih3YXJuaW5nKXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih3YXJuaW5nKX0odyl9cmV0dXJuIHRhcmdldH1mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LHR5cGUsbGlzdGVuZXIpe3ZhciBzdGF0ZT17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dGFyZ2V0LHR5cGU6dHlwZSxsaXN0ZW5lcjpsaXN0ZW5lcn0sd3JhcHBlZD1mdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9LmJpbmQoc3RhdGUpO3JldHVybiB3cmFwcGVkLmxpc3RlbmVyPWxpc3RlbmVyLHN0YXRlLndyYXBGbj13cmFwcGVkLHdyYXBwZWR9ZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsdHlwZSx1bndyYXApe3ZhciBldmVudHM9dGFyZ2V0Ll9ldmVudHM7aWYodm9pZCAwPT09ZXZlbnRzKXJldHVybltdO3ZhciBldmxpc3RlbmVyPWV2ZW50c1t0eXBlXTtyZXR1cm4gdm9pZCAwPT09ZXZsaXN0ZW5lcj9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBldmxpc3RlbmVyP3Vud3JhcD9bZXZsaXN0ZW5lci5saXN0ZW5lcnx8ZXZsaXN0ZW5lcl06W2V2bGlzdGVuZXJdOnVud3JhcD9mdW5jdGlvbihhcnIpe2Zvcih2YXIgcmV0PW5ldyBBcnJheShhcnIubGVuZ3RoKSxpPTA7aTxyZXQubGVuZ3RoOysraSlyZXRbaV09YXJyW2ldLmxpc3RlbmVyfHxhcnJbaV07cmV0dXJuIHJldH0oZXZsaXN0ZW5lcik6YXJyYXlDbG9uZShldmxpc3RlbmVyLGV2bGlzdGVuZXIubGVuZ3RoKX1mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpe3ZhciBldmVudHM9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PWV2ZW50cyl7dmFyIGV2bGlzdGVuZXI9ZXZlbnRzW3R5cGVdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV2bGlzdGVuZXIpcmV0dXJuIDE7aWYodm9pZCAwIT09ZXZsaXN0ZW5lcilyZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsbil7Zm9yKHZhciBjb3B5PW5ldyBBcnJheShuKSxpPTA7aTxuOysraSljb3B5W2ldPWFycltpXTtyZXR1cm4gY29weX1mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlcixuYW1lLGxpc3RlbmVyLGZsYWdzKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLm9uKWZsYWdzLm9uY2U/ZW1pdHRlci5vbmNlKG5hbWUsbGlzdGVuZXIpOmVtaXR0ZXIub24obmFtZSxsaXN0ZW5lcik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZW1pdHRlcik7ZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZyl7ZmxhZ3Mub25jZSYmZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsd3JhcExpc3RlbmVyKSxsaXN0ZW5lcihhcmcpfSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnN9LHNldDpmdW5jdGlvbihhcmcpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhcmd8fGFyZzwwfHxOdW1iZXJJc05hTihhcmcpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJythcmcrXCIuXCIpO2RlZmF1bHRNYXhMaXN0ZW5lcnM9YXJnfX0pLEV2ZW50RW1pdHRlci5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG58fG48MHx8TnVtYmVySXNOYU4obikpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK24rXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9bix0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odHlwZSl7Zm9yKHZhciBhcmdzPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmd1bWVudHNbaV0pO3ZhciBkb0Vycm9yPVwiZXJyb3JcIj09PXR5cGUsZXZlbnRzPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1ldmVudHMpZG9FcnJvcj1kb0Vycm9yJiZ2b2lkIDA9PT1ldmVudHMuZXJyb3I7ZWxzZSBpZighZG9FcnJvcilyZXR1cm4hMTtpZihkb0Vycm9yKXt2YXIgZXI7aWYoYXJncy5sZW5ndGg+MCYmKGVyPWFyZ3NbMF0pLGVyIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZXI7dmFyIGVycj1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGVyP1wiIChcIitlci5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBlcnIuY29udGV4dD1lcixlcnJ9dmFyIGhhbmRsZXI9ZXZlbnRzW3R5cGVdO2lmKHZvaWQgMD09PWhhbmRsZXIpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaGFuZGxlcilSZWZsZWN0QXBwbHkoaGFuZGxlcix0aGlzLGFyZ3MpO2Vsc2V7dmFyIGxlbj1oYW5kbGVyLmxlbmd0aCxsaXN0ZW5lcnM9YXJyYXlDbG9uZShoYW5kbGVyLGxlbik7Zm9yKGk9MDtpPGxlbjsrK2kpUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSx0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCExKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSx0aGlzLm9uKHR5cGUsX29uY2VXcmFwKHRoaXMsdHlwZSxsaXN0ZW5lcikpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lciksdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSxfb25jZVdyYXAodGhpcyx0eXBlLGxpc3RlbmVyKSksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxldmVudHMscG9zaXRpb24saSxvcmlnaW5hbExpc3RlbmVyO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obGlzdD1ldmVudHNbdHlwZV0pKXJldHVybiB0aGlzO2lmKGxpc3Q9PT1saXN0ZW5lcnx8bGlzdC5saXN0ZW5lcj09PWxpc3RlbmVyKTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBldmVudHNbdHlwZV0sZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHR5cGUsbGlzdC5saXN0ZW5lcnx8bGlzdGVuZXIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGxpc3Qpe2Zvcihwb3NpdGlvbj0tMSxpPWxpc3QubGVuZ3RoLTE7aT49MDtpLS0paWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe29yaWdpbmFsTGlzdGVuZXI9bGlzdFtpXS5saXN0ZW5lcixwb3NpdGlvbj1pO2JyZWFrfWlmKHBvc2l0aW9uPDApcmV0dXJuIHRoaXM7MD09PXBvc2l0aW9uP2xpc3Quc2hpZnQoKTpmdW5jdGlvbihsaXN0LGluZGV4KXtmb3IoO2luZGV4KzE8bGlzdC5sZW5ndGg7aW5kZXgrKylsaXN0W2luZGV4XT1saXN0W2luZGV4KzFdO2xpc3QucG9wKCl9KGxpc3QscG9zaXRpb24pLDE9PT1saXN0Lmxlbmd0aCYmKGV2ZW50c1t0eXBlXT1saXN0WzBdKSx2b2lkIDAhPT1ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdHlwZSxvcmlnaW5hbExpc3RlbmVyfHxsaXN0ZW5lcil9cmV0dXJuIHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmPUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGxpc3RlbmVycyxldmVudHMsaTtpZih2b2lkIDA9PT0oZXZlbnRzPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09ZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09ZXZlbnRzW3R5cGVdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgZXZlbnRzW3R5cGVdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIga2V5LGtleXM9T2JqZWN0LmtleXMoZXZlbnRzKTtmb3IoaT0wO2k8a2V5cy5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShrZXk9a2V5c1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKGxpc3RlbmVycz1ldmVudHNbdHlwZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgaWYodm9pZCAwIT09bGlzdGVuZXJzKWZvcihpPWxpc3RlbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2ldKTtyZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCExKX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQ/ZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOmxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLHR5cGUpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bGlzdGVuZXJDb3VudCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpOltdfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg1MykpLlN0cmVhbT1leHBvcnRzLGV4cG9ydHMuUmVhZGFibGU9ZXhwb3J0cyxleHBvcnRzLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDMpLGV4cG9ydHMuRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTIpLGV4cG9ydHMuVHJhbnNmb3JtPV9fd2VicGFja19yZXF1aXJlX18oNTgpLGV4cG9ydHMuUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5NSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzLHNldEltbWVkaWF0ZSxnbG9iYWwpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7ZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGNvcmtSZXEsc3RhdGUsZXJyKXt2YXIgZW50cnk9Y29ya1JlcS5lbnRyeTtjb3JrUmVxLmVudHJ5PW51bGw7Zm9yKDtlbnRyeTspe3ZhciBjYj1lbnRyeS5jYWxsYmFjaztzdGF0ZS5wZW5kaW5nY2ItLSxjYihlcnIpLGVudHJ5PWVudHJ5Lm5leHR9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlP3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWNvcmtSZXE6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPWNvcmtSZXF9KF90aGlzLHN0YXRlKX19bW9kdWxlLmV4cG9ydHM9V3JpdGFibGU7dmFyIER1cGxleCxhc3luY1dyaXRlPSFwcm9jZXNzLmJyb3dzZXImJltcInYwLjEwXCIsXCJ2MC45LlwiXS5pbmRleE9mKHByb2Nlc3MudmVyc2lvbi5zbGljZSgwLDUpKT4tMT9zZXRJbW1lZGlhdGU6cG5hLm5leHRUaWNrO1dyaXRhYmxlLldyaXRhYmxlU3RhdGU9V3JpdGFibGVTdGF0ZTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBpbnRlcm5hbFV0aWw9e2RlcHJlY2F0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KX0sU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNTQpLEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5CdWZmZXIsT3VyVWludDhBcnJheT1nbG9iYWwuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciByZWFsSGFzSW5zdGFuY2UsZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7ZnVuY3Rpb24gbm9wKCl7fWZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayx3cml0YWJsZUh3bT1vcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHdyaXRhYmxlSHdtfHwwPT09d3JpdGFibGVId20pP3dyaXRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTt2YXIgbm9EZWNvZGU9ITE9PT1vcHRpb25zLmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFub0RlY29kZSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlcil7IWZ1bmN0aW9uKHN0cmVhbSxlcil7dmFyIHN0YXRlPXN0cmVhbS5fd3JpdGFibGVTdGF0ZSxzeW5jPXN0YXRlLnN5bmMsY2I9c3RhdGUud3JpdGVjYjtpZihmdW5jdGlvbihzdGF0ZSl7c3RhdGUud3JpdGluZz0hMSxzdGF0ZS53cml0ZWNiPW51bGwsc3RhdGUubGVuZ3RoLT1zdGF0ZS53cml0ZWxlbixzdGF0ZS53cml0ZWxlbj0wfShzdGF0ZSksZXIpIWZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKXstLXN0YXRlLnBlbmRpbmdjYixzeW5jPyhwbmEubmV4dFRpY2soY2IsZXIpLHBuYS5uZXh0VGljayhmaW5pc2hNYXliZSxzdHJlYW0sc3RhdGUpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSk6KGNiKGVyKSxzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlciksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSl9KHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKTtlbHNle3ZhciBmaW5pc2hlZD1uZWVkRmluaXNoKHN0YXRlKTtmaW5pc2hlZHx8c3RhdGUuY29ya2VkfHxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nfHwhc3RhdGUuYnVmZmVyZWRSZXF1ZXN0fHxjbGVhckJ1ZmZlcihzdHJlYW0sc3RhdGUpLHN5bmM/YXN5bmNXcml0ZShhZnRlcldyaXRlLHN0cmVhbSxzdGF0ZSxmaW5pc2hlZCxjYik6YWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfX0oc3RyZWFtLGVyKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgQ29ya2VkUmVxdWVzdCh0aGlzKX1mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwhKHJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLHRoaXMpfHx0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSlyZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLndyaXRlJiYodGhpcy5fd3JpdGU9b3B0aW9ucy53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy53cml0ZXYmJih0aGlzLl93cml0ZXY9b3B0aW9ucy53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLmZpbmFsJiYodGhpcy5fZmluYWw9b3B0aW9ucy5maW5hbCkpLFN0cmVhbS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLHN0YXRlLHdyaXRldixsZW4sY2h1bmssZW5jb2RpbmcsY2Ipe3N0YXRlLndyaXRlbGVuPWxlbixzdGF0ZS53cml0ZWNiPWNiLHN0YXRlLndyaXRpbmc9ITAsc3RhdGUuc3luYz0hMCx3cml0ZXY/c3RyZWFtLl93cml0ZXYoY2h1bmssc3RhdGUub253cml0ZSk6c3RyZWFtLl93cml0ZShjaHVuayxlbmNvZGluZyxzdGF0ZS5vbndyaXRlKSxzdGF0ZS5zeW5jPSExfWZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLHN0YXRlLGZpbmlzaGVkLGNiKXtmaW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXswPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5uZWVkRHJhaW4mJihzdGF0ZS5uZWVkRHJhaW49ITEsc3RyZWFtLmVtaXQoXCJkcmFpblwiKSl9KHN0cmVhbSxzdGF0ZSksc3RhdGUucGVuZGluZ2NiLS0sY2IoKSxmaW5pc2hNYXliZShzdHJlYW0sc3RhdGUpfWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSxzdGF0ZSl7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz0hMDt2YXIgZW50cnk9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0O2lmKHN0cmVhbS5fd3JpdGV2JiZlbnRyeSYmZW50cnkubmV4dCl7dmFyIGw9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQsYnVmZmVyPW5ldyBBcnJheShsKSxob2xkZXI9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO2hvbGRlci5lbnRyeT1lbnRyeTtmb3IodmFyIGNvdW50PTAsYWxsQnVmZmVycz0hMDtlbnRyeTspYnVmZmVyW2NvdW50XT1lbnRyeSxlbnRyeS5pc0J1Znx8KGFsbEJ1ZmZlcnM9ITEpLGVudHJ5PWVudHJ5Lm5leHQsY291bnQrPTE7YnVmZmVyLmFsbEJ1ZmZlcnM9YWxsQnVmZmVycyxkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMCxzdGF0ZS5sZW5ndGgsYnVmZmVyLFwiXCIsaG9sZGVyLmZpbmlzaCksc3RhdGUucGVuZGluZ2NiKyssc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLGhvbGRlci5uZXh0PyhzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9aG9sZGVyLm5leHQsaG9sZGVyLm5leHQ9bnVsbCk6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKSxzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtlbnRyeTspe3ZhciBjaHVuaz1lbnRyeS5jaHVuayxlbmNvZGluZz1lbnRyeS5lbmNvZGluZyxjYj1lbnRyeS5jYWxsYmFjaztpZihkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxzdGF0ZS5vYmplY3RNb2RlPzE6Y2h1bmsubGVuZ3RoLGNodW5rLGVuY29kaW5nLGNiKSxlbnRyeT1lbnRyeS5uZXh0LHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sc3RhdGUud3JpdGluZylicmVha31udWxsPT09ZW50cnkmJihzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXN0YXRlLmJ1ZmZlcmVkUmVxdWVzdD1lbnRyeSxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpe3JldHVybiBzdGF0ZS5lbmRpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJm51bGw9PT1zdGF0ZS5idWZmZXJlZFJlcXVlc3QmJiFzdGF0ZS5maW5pc2hlZCYmIXN0YXRlLndyaXRpbmd9ZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSxzdGF0ZSl7c3RyZWFtLl9maW5hbChmdW5jdGlvbihlcnIpe3N0YXRlLnBlbmRpbmdjYi0tLGVyciYmc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyciksc3RhdGUucHJlZmluaXNoZWQ9ITAsc3RyZWFtLmVtaXQoXCJwcmVmaW5pc2hcIiksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKX0pfWZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSxzdGF0ZSl7dmFyIG5lZWQ9bmVlZEZpbmlzaChzdGF0ZSk7cmV0dXJuIG5lZWQmJighZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5wcmVmaW5pc2hlZHx8c3RhdGUuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW0uX2ZpbmFsPyhzdGF0ZS5wZW5kaW5nY2IrKyxzdGF0ZS5maW5hbENhbGxlZD0hMCxwbmEubmV4dFRpY2soY2FsbEZpbmFsLHN0cmVhbSxzdGF0ZSkpOihzdGF0ZS5wcmVmaW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcInByZWZpbmlzaFwiKSkpfShzdHJlYW0sc3RhdGUpLDA9PT1zdGF0ZS5wZW5kaW5nY2ImJihzdGF0ZS5maW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcImZpbmlzaFwiKSkpLG5lZWR9dXRpbC5pbmhlcml0cyhXcml0YWJsZSxTdHJlYW0pLFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgY3VycmVudD10aGlzLmJ1ZmZlcmVkUmVxdWVzdCxvdXQ9W107Y3VycmVudDspb3V0LnB1c2goY3VycmVudCksY3VycmVudD1jdXJyZW50Lm5leHQ7cmV0dXJuIG91dH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDppbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9LFwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC5cIixcIkRFUDAwMDNcIil9KX1jYXRjaChfKXt9fSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmhhc0luc3RhbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8ocmVhbEhhc0luc3RhbmNlPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZSxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuISFyZWFsSGFzSW5zdGFuY2UuY2FsbCh0aGlzLG9iamVjdCl8fHRoaXM9PT1Xcml0YWJsZSYmKG9iamVjdCYmb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZSl9fSkpOnJlYWxIYXNJbnN0YW5jZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzfSxXcml0YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiKSl9LFdyaXRhYmxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGUscmV0PSExLGlzQnVmPSFzdGF0ZS5vYmplY3RNb2RlJiZmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0oY2h1bmspO3JldHVybiBpc0J1ZiYmIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykmJihjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbmNvZGluZyYmKGNiPWVuY29kaW5nLGVuY29kaW5nPW51bGwpLGlzQnVmP2VuY29kaW5nPVwiYnVmZmVyXCI6ZW5jb2Rpbmd8fChlbmNvZGluZz1zdGF0ZS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNiJiYoY2I9bm9wKSxzdGF0ZS5lbmRlZD9mdW5jdGlvbihzdHJlYW0sY2Ipe3ZhciBlcj1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSxwbmEubmV4dFRpY2soY2IsZXIpfSh0aGlzLGNiKTooaXNCdWZ8fGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxjaHVuayxjYil7dmFyIHZhbGlkPSEwLGVyPSExO3JldHVybiBudWxsPT09Y2h1bms/ZXI9bmV3IFR5cGVFcnJvcihcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIpOlwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8dm9pZCAwPT09Y2h1bmt8fHN0YXRlLm9iamVjdE1vZGV8fChlcj1uZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVua1wiKSksZXImJihzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpLHBuYS5uZXh0VGljayhjYixlciksdmFsaWQ9ITEpLHZhbGlkfSh0aGlzLHN0YXRlLGNodW5rLGNiKSkmJihzdGF0ZS5wZW5kaW5nY2IrKyxyZXQ9ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGlzQnVmLGNodW5rLGVuY29kaW5nLGNiKXtpZighaXNCdWYpe3ZhciBuZXdDaHVuaz1mdW5jdGlvbihzdGF0ZSxjaHVuayxlbmNvZGluZyl7c3RhdGUub2JqZWN0TW9kZXx8ITE9PT1zdGF0ZS5kZWNvZGVTdHJpbmdzfHxcInN0cmluZ1wiIT10eXBlb2YgY2h1bmt8fChjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZykpO3JldHVybiBjaHVua30oc3RhdGUsY2h1bmssZW5jb2RpbmcpO2NodW5rIT09bmV3Q2h1bmsmJihpc0J1Zj0hMCxlbmNvZGluZz1cImJ1ZmZlclwiLGNodW5rPW5ld0NodW5rKX12YXIgbGVuPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGg7c3RhdGUubGVuZ3RoKz1sZW47dmFyIHJldD1zdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyaztyZXR8fChzdGF0ZS5uZWVkRHJhaW49ITApO2lmKHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZCl7dmFyIGxhc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpjaHVuayxlbmNvZGluZzplbmNvZGluZyxpc0J1Zjppc0J1ZixjYWxsYmFjazpjYixuZXh0Om51bGx9LGxhc3Q/bGFzdC5uZXh0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q6c3RhdGUuYnVmZmVyZWRSZXF1ZXN0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Qsc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxsZW4sY2h1bmssZW5jb2RpbmcsY2IpO3JldHVybiByZXR9KHRoaXMsc3RhdGUsaXNCdWYsY2h1bmssZW5jb2RpbmcsY2IpKSxyZXR9LFdyaXRhYmxlLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sV3JpdGFibGUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO3N0YXRlLmNvcmtlZCYmKHN0YXRlLmNvcmtlZC0tLHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZHx8c3RhdGUuZmluaXNoZWR8fHN0YXRlLmJ1ZmZlclByb2Nlc3Npbmd8fCFzdGF0ZS5idWZmZXJlZFJlcXVlc3R8fGNsZWFyQnVmZmVyKHRoaXMsc3RhdGUpKX0sV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYoZW5jb2Rpbmc9ZW5jb2RpbmcudG9Mb3dlckNhc2UoKSksIShbXCJoZXhcIixcInV0ZjhcIixcInV0Zi04XCIsXCJhc2NpaVwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIixcInVjczJcIixcInVjcy0yXCIsXCJ1dGYxNmxlXCIsXCJ1dGYtMTZsZVwiLFwicmF3XCJdLmluZGV4T2YoKGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lbmNvZGluZyx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihuZXcgRXJyb3IoXCJfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldj1udWxsLFdyaXRhYmxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGNodW5rPyhjYj1jaHVuayxjaHVuaz1udWxsLGVuY29kaW5nPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGVuY29kaW5nJiYoY2I9ZW5jb2RpbmcsZW5jb2Rpbmc9bnVsbCksbnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuayYmdGhpcy53cml0ZShjaHVuayxlbmNvZGluZyksc3RhdGUuY29ya2VkJiYoc3RhdGUuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksc3RhdGUuZW5kaW5nfHxzdGF0ZS5maW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGNiKXtzdGF0ZS5lbmRpbmc9ITAsZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSxjYiYmKHN0YXRlLmZpbmlzaGVkP3BuYS5uZXh0VGljayhjYik6c3RyZWFtLm9uY2UoXCJmaW5pc2hcIixjYikpO3N0YXRlLmVuZGVkPSEwLHN0cmVhbS53cml0YWJsZT0hMX0odGhpcyxzdGF0ZSxjYil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxXcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5lbmQoKSxjYihlcnIpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KS5zZXRJbW1lZGlhdGUsX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSxEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MyksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7ZnVuY3Rpb24gQ29tcHJlc3NlZE9iamVjdChjb21wcmVzc2VkU2l6ZSx1bmNvbXByZXNzZWRTaXplLGNyYzMyLGNvbXByZXNzaW9uLGRhdGEpe3RoaXMuY29tcHJlc3NlZFNpemU9Y29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplPXVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMj1jcmMzMix0aGlzLmNvbXByZXNzaW9uPWNvbXByZXNzaW9uLHRoaXMuY29tcHJlc3NlZENvbnRlbnQ9ZGF0YX1Db21wcmVzc2VkT2JqZWN0LnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciB3b3JrZXI9bmV3IERhdGFXb3JrZXIoZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBEYXRhTGVuZ3RoUHJvYmUoXCJkYXRhX2xlbmd0aFwiKSksdGhhdD10aGlzO3JldHVybiB3b3JrZXIub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKHRoaXMuc3RyZWFtSW5mby5kYXRhX2xlbmd0aCE9PXRoYXQudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoXCIpfSksd29ya2VyfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRhV29ya2VyKGV4dGVybmFsLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2VkU2l6ZVwiLHRoaXMuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwidW5jb21wcmVzc2VkU2l6ZVwiLHRoaXMudW5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLHRoaXMuY3JjMzIpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIix0aGlzLmNvbXByZXNzaW9uKX19LENvbXByZXNzZWRPYmplY3QuY3JlYXRlV29ya2VyRnJvbT1mdW5jdGlvbih1bmNvbXByZXNzZWRXb3JrZXIsY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gdW5jb21wcmVzc2VkV29ya2VyLnBpcGUobmV3IENyYzMyUHJvYmUpLnBpcGUobmV3IERhdGFMZW5ndGhQcm9iZShcInVuY29tcHJlc3NlZFNpemVcIikpLnBpcGUoY29tcHJlc3Npb24uY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb25PcHRpb25zKSkucGlwZShuZXcgRGF0YUxlbmd0aFByb2JlKFwiY29tcHJlc3NlZFNpemVcIikpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIixjb21wcmVzc2lvbil9LG1vZHVsZS5leHBvcnRzPUNvbXByZXNzZWRPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGlucHV0LGNyYyl7cmV0dXJuIHZvaWQgMCE9PWlucHV0JiZpbnB1dC5sZW5ndGg/XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk/ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfSgwfGNyYyxpbnB1dCxpbnB1dC5sZW5ndGgsMCk6ZnVuY3Rpb24oY3JjLHN0cixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNec3RyLmNoYXJDb2RlQXQoaSkpXTtyZXR1cm4tMV5jcmN9KDB8Y3JjLGlucHV0LGlucHV0Lmxlbmd0aCwwKTowfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0OCksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlc1B1YmxpY18xPV9fd2VicGFja19yZXF1aXJlX18oMjcpLEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveE1lc3NhZ2VzKGV2ZW50QnVzLGRhdGEsYXBpLHN0b3JhZ2UsZGF0ZU1vZHVsZSl7dm9pZCAwPT09c3RvcmFnZSYmKHN0b3JhZ2U9bmV3IFN0b3JhZ2VfMS5kZWZhdWx0KSx2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGk9YXBpLHRoaXMuc3RvcmFnZT1zdG9yYWdlLHRoaXMuc3RvcmVOYW1lPVwiaW5ib3hNZXNzYWdlc1wiLHRoaXMuZGF0ZU1vZHVsZT1kYXRlTW9kdWxlfXJldHVybiBJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldEluYm94TWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZUdldEluYm94TWVzc2FnZXNSZXF1ZXN0UGFyYW1zKHJlc3BvbnNlLm5leHQscmVzcG9uc2UubmV3X2luYm94KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIscmVzcG9uc2VdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnN0b3JlR2V0SW5ib3hNZXNzYWdlc1JlcXVlc3RQYXJhbXM9ZnVuY3Rpb24obmV4dCxuZXdNZXNzYWdlc0NvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsWzQsdGhpcy5kYXRhLnNldEluYm94TGFzdFJlcXVlc3RUaW1lKHRoaXMuZGF0ZU1vZHVsZS5nZXRVdGNUaW1lc3RhbXAoKSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbmJveExhc3RSZXF1ZXN0Q29kZShuZXh0KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldEluYm94TmV3TWVzc2FnZXNDb3VudChuZXdNZXNzYWdlc0NvdW50KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1dFNlcnZlck1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwdXRUcmFuc2FjdGlvbnMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHB1dFRyYW5zYWN0aW9ucz1tZXNzYWdlcy5tYXAoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxvY2FsTWVzc2FnZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlLmluYm94X2lkLHt9KV07Y2FzZSAxOnJldHVyblwic3RhdHVzXCJpbihsb2NhbE1lc3NhZ2U9X2Euc2VudCgpKSYmKG1lc3NhZ2Uuc3RhdHVzPWxvY2FsTWVzc2FnZS5zdGF0dXMpLFsyLHRoaXMucHV0TWVzc2FnZShtZXNzYWdlKV19fSl9KX0pLFsyLFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0TWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0QnVsa01lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpcyxwdXRUcmFuc2FjdGlvbnM9bWVzc2FnZXMubWFwKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfdGhpcy5wdXRNZXNzYWdlKG1lc3NhZ2UpfSk7cmV0dXJuIFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzPWZ1bmN0aW9uKGNvZGVzKXt2YXIgX3RoaXM9dGhpcyxkZWxldGVUcmFuc2FjdGlvbnM9Y29kZXMubWFwKGZ1bmN0aW9uKGNvZGUpe3JldHVybiBfdGhpcy5zdG9yYWdlLmRlbGV0ZShfdGhpcy5zdG9yZU5hbWUsY29kZSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoZGVsZXRlVHJhbnNhY3Rpb25zKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXBwZXJCb3VuZCxhbGxNZXNzYWdlcyxjb2Rlc1RvRGVsZXRlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsdXBwZXJCb3VuZD10aGlzLmRhdGVNb2R1bGUuZ2V0VGltZXN0YW1wKCkudG9TdHJpbmcoKSxbNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVybiBhbGxNZXNzYWdlcz1fYS5zZW50KCksY29kZXNUb0RlbGV0ZT1hbGxNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLnJ0PnVwcGVyQm91bmR9KS5tYXAoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLmluYm94X2lkfSksWzIsdGhpcy5kZWxldGVNZXNzYWdlcyhjb2Rlc1RvRGVsZXRlKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxjb2RlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0UmVhZE9wZW5NZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmFnZS5nZXRBbGwodGhpcy5zdG9yZU5hbWUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpLmZpbHRlcihmdW5jdGlvbihtc2cpe3JldHVybiAyPT09bXNnLnN0YXR1c3x8Mz09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gMT09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmFnZS5jb3VudCh0aGlzLnN0b3JlTmFtZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRlbGl2ZXJlZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBkZWxpdmVyZWRTdGF0dXM9MSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxkZWxpdmVyZWRTdGF0dXMpXX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmdldFJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWFkU3RhdHVzPTIsc3RhdHVzSW5kZXhOYW1lPVwic3RhdHVzXCIsWzIsdGhpcy5zdG9yYWdlLmNvdW50QnlJbmRleCh0aGlzLnN0b3JlTmFtZSxzdGF0dXNJbmRleE5hbWUscmVhZFN0YXR1cyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxyZWFkU3RhdHVzLG9wZW5TdGF0dXMsa2V5UmFuZ2Usc3RhdHVzSW5kZXhOYW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtyZXR1cm4gcmVhZFN0YXR1cz0oX2E9WzIsM10pWzBdLG9wZW5TdGF0dXM9X2FbMV0sa2V5UmFuZ2U9SURCS2V5UmFuZ2UuYm91bmQocmVhZFN0YXR1cyxvcGVuU3RhdHVzKSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxrZXlSYW5nZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRJbmJveE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlTWVzc2FnZXMocmVzcG9uc2UuZGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMucHV0U2VydmVyTWVzc2FnZXMocmVzcG9uc2UubWVzc2FnZXMpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJ1cGRhdGUtaW5ib3gtbWVzc2FnZXNcIix7bWVzc2FnZXM6bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzKX0pLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzfSgpO2V4cG9ydHMuZGVmYXVsdD1JbmJveE1lc3NhZ2VzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHZlcnNpb25fMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxNaWdyYXRpb25FeGVjdXRvcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTkpLFN0b3JlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0OSksU3RvcmFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JhZ2UoKXt9cmV0dXJuIFN0b3JhZ2UucHJvdG90eXBlLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24oZGIsZXZlbnQpe2NvbnNvbGUuaW5mbyhcIm9udmVyc2lvbmNoYW5nZVwiLGV2ZW50KSxkYi5jbG9zZSgpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RTdWNjZXNzSGFuZGxlcj1mdW5jdGlvbihyZXNvbHZlLGV2ZW50KXt2YXIgX3RoaXM9dGhpcyxkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJWZXJzaW9uQ2hhbmdlSGFuZGxlcihkYXRhYmFzZSxldmVudCl9LHJlc29sdmUoZGF0YWJhc2UpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcj1mdW5jdGlvbihldmVudCl7dmFyIF90aGlzPXRoaXMsZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24oZXZlbnQpe190aGlzLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXIoZGF0YWJhc2UsZXZlbnQpfSxuZXcgTWlncmF0aW9uRXhlY3V0b3JfMS5kZWZhdWx0KGRhdGFiYXNlKS5hcHBseU1pZ3JhdGlvbnMoKX0sU3RvcmFnZS5wcm90b3R5cGUuZ2V0REI9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWluZGV4ZWREQi5vcGVuKFwiUFVTSFdPT1NIX1NES19TVE9SRVwiLHZlcnNpb25fMS5kZWZhdWx0KTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJSZXF1ZXN0U3VjY2Vzc0hhbmRsZXIocmVzb2x2ZSxldmVudCl9LHJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGV2ZW50KXtfdGhpcy5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcihldmVudCl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JhZ2UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihzdG9yZU5hbWUsZGF0YSxrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkucHV0KGRhdGEsa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5kZWxldGUoa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSxkZWZhdWx0VmFsdWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0KGtleSxkZWZhdWx0VmFsdWUpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihzdG9yZU5hbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0QWxsKCldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdHx8W11dfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKHN0b3JlTmFtZSxxdWVyeSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5jb3VudChxdWVyeSldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdF19fSl9KX0sU3RvcmFnZS5wcm90b3R5cGUuY291bnRCeUluZGV4PWZ1bmN0aW9uKHN0b3JlTmFtZSxpbmRleE5hbWUsa2V5KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixzdG9yZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksKHN0b3JlPW5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKSkuaW5kZXg9aW5kZXhOYW1lLFs0LHN0b3JlLmNvdW50QnlJbmRleChrZXkpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2V9KCk7ZXhwb3J0cy5kZWZhdWx0PVN0b3JhZ2V9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JlKGRiLG5hbWUpe3RoaXMubmFtZT1uYW1lLHRoaXMuc3RvcmU9ZGIudHJhbnNhY3Rpb24odGhpcy5uYW1lLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRoaXMubmFtZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG9yZS5wcm90b3R5cGUsXCJpbmRleFwiLHtzZXQ6ZnVuY3Rpb24oaW5kZXgpe3RoaXMuc3RvcmUuaW5kZXhOYW1lcy5jb250YWlucyhpbmRleCk/dGhpcy5faW5kZXg9dGhpcy5zdG9yZS5pbmRleChpbmRleCk6Y29uc29sZS53YXJuKCdJbmRleCBcIicraW5kZXgrJ1wiIGluICcpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFN0b3JlLnByb3RvdHlwZS53cml0ZVJlcXVlc3RQcm9taXNlPWZ1bmN0aW9uKHJlcXVlc3QscmVzdWx0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmVzb2x2ZShyZXN1bHQpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5yZWFkUmVxdWVzdFByb21pc2U9ZnVuY3Rpb24ocmVxdWVzdCxkZWZhdWx0VmFsdWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciB0YXJnZXQ9ZXZlbnQudGFyZ2V0O3Jlc29sdmUodGFyZ2V0LnJlc3VsdHx8ZGVmYXVsdFZhbHVlKX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxTdG9yZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGRhdGEsa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLnB1dChkYXRhLGtleSk7cmV0dXJuIHRoaXMud3JpdGVSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LGtleSl9LFN0b3JlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZGF0YSxrZXkpe3JldHVybiB0aGlzLnB1dChkYXRhLGtleSl9LFN0b3JlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLmRlbGV0ZShrZXkpO3JldHVybiB0aGlzLndyaXRlUmVxdWVzdFByb21pc2UocmVxdWVzdCl9LFN0b3JlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oa2V5LGRlZmF1bHRWYWx1ZSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5nZXQoa2V5KTtyZXR1cm4gdGhpcy5yZWFkUmVxdWVzdFByb21pc2UocmVxdWVzdCxkZWZhdWx0VmFsdWUpfSxTdG9yZS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGN1cnNvcj10aGlzLnN0b3JlLm9wZW5DdXJzb3IoKSxyZXN1bHQ9W107cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgY3Vyc29yUmVzdWx0PWV2ZW50LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhyZXN1bHQucHVzaChjdXJzb3JSZXN1bHQudmFsdWUpLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTpyZXNvbHZlKHJlc3VsdCl9LGN1cnNvci5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KGN1cnNvci5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihxdWVyeSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5jb3VudChxdWVyeSk7cmV0dXJuIHRoaXMucmVhZFJlcXVlc3RQcm9taXNlKHJlcXVlc3QsMCl9LFN0b3JlLnByb3RvdHlwZS5jb3VudEJ5SW5kZXg9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLl9pbmRleC5jb3VudChrZXkpO3JldHVybiB0aGlzLnJlYWRSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LDApfSxTdG9yZX0oKTtleHBvcnRzLmRlZmF1bHQ9U3RvcmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSlNaaXA9X193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7ZXhwb3J0cy5nZXRaaXA9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGZldGNoKHVybCx7bWV0aG9kOlwiR0VUXCJ9KV07Y2FzZSAxOnJldHVybiAyMDAhPT0ocmVzcG9uc2U9X2Euc2VudCgpKS5zdGF0dXMmJm5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSxbNCxyZXNwb25zZS5ibG9iKCldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxbMixKU1ppcC5sb2FkQXN5bmMocmVzdWx0KV19fSl9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgdG9TdHJpbmc9e30udG9TdHJpbmc7bW9kdWxlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYXJyKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXRvU3RyaW5nLmNhbGwoYXJyKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oODkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZ2xvYmFsLHByb2Nlc3Mpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7bW9kdWxlLmV4cG9ydHM9UmVhZGFibGU7dmFyIER1cGxleCxpc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oNTEpO1JlYWRhYmxlLlJlYWRhYmxlU3RhdGU9UmVhZGFibGVTdGF0ZTtfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKS5FdmVudEVtaXR0ZXI7dmFyIEVFbGlzdGVuZXJDb3VudD1mdW5jdGlvbihlbWl0dGVyLHR5cGUpe3JldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGh9LFN0cmVhbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU0KSxCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzMCkuQnVmZmVyLE91clVpbnQ4QXJyYXk9Z2xvYmFsLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBkZWJ1Z1V0aWw9X193ZWJwYWNrX3JlcXVpcmVfXyg5MCksZGVidWc9dm9pZCAwO2RlYnVnPWRlYnVnVXRpbCYmZGVidWdVdGlsLmRlYnVnbG9nP2RlYnVnVXRpbC5kZWJ1Z2xvZyhcInN0cmVhbVwiKTpmdW5jdGlvbigpe307dmFyIFN0cmluZ0RlY29kZXIsQnVmZmVyTGlzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkxKSxkZXN0cm95SW1wbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTt1dGlsLmluaGVyaXRzKFJlYWRhYmxlLFN0cmVhbSk7dmFyIGtQcm94eUV2ZW50cz1bXCJlcnJvclwiLFwiY2xvc2VcIixcImRlc3Ryb3lcIixcInBhdXNlXCIsXCJyZXN1bWVcIl07ZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLHN0cmVhbSl7RHVwbGV4PUR1cGxleHx8X193ZWJwYWNrX3JlcXVpcmVfXygxMiksb3B0aW9ucz1vcHRpb25zfHx7fTt2YXIgaXNEdXBsZXg9c3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4O3RoaXMub2JqZWN0TW9kZT0hIW9wdGlvbnMub2JqZWN0TW9kZSxpc0R1cGxleCYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGUpO3ZhciBod209b3B0aW9ucy5oaWdoV2F0ZXJNYXJrLHJlYWRhYmxlSHdtPW9wdGlvbnMucmVhZGFibGVIaWdoV2F0ZXJNYXJrLGRlZmF1bHRId209dGhpcy5vYmplY3RNb2RlPzE2OjE2Mzg0O3RoaXMuaGlnaFdhdGVyTWFyaz1od218fDA9PT1od20/aHdtOmlzRHVwbGV4JiYocmVhZGFibGVId218fDA9PT1yZWFkYWJsZUh3bSk/cmVhZGFibGVId206ZGVmYXVsdEh3bSx0aGlzLmhpZ2hXYXRlck1hcms9TWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspLHRoaXMuYnVmZmVyPW5ldyBCdWZmZXJMaXN0LHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5hd2FpdERyYWluPTAsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRlY29kZXI9bnVsbCx0aGlzLmVuY29kaW5nPW51bGwsb3B0aW9ucy5lbmNvZGluZyYmKFN0cmluZ0RlY29kZXJ8fChTdHJpbmdEZWNvZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTcpLlN0cmluZ0RlY29kZXIpLHRoaXMuZGVjb2Rlcj1uZXcgU3RyaW5nRGVjb2RlcihvcHRpb25zLmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPW9wdGlvbnMuZW5jb2RpbmcpfWZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpe2lmKER1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSlyZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLnJlYWRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLnJlYWQmJih0aGlzLl9yZWFkPW9wdGlvbnMucmVhZCksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5kZXN0cm95JiYodGhpcy5fZGVzdHJveT1vcHRpb25zLmRlc3Ryb3kpKSxTdHJlYW0uY2FsbCh0aGlzKX1mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSxjaHVuayxlbmNvZGluZyxhZGRUb0Zyb250LHNraXBDaHVua0NoZWNrKXt2YXIgZXIsc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO251bGw9PT1jaHVuaz8oc3RhdGUucmVhZGluZz0hMSxmdW5jdGlvbihzdHJlYW0sc3RhdGUpe2lmKHN0YXRlLmVuZGVkKXJldHVybjtpZihzdGF0ZS5kZWNvZGVyKXt2YXIgY2h1bms9c3RhdGUuZGVjb2Rlci5lbmQoKTtjaHVuayYmY2h1bmsubGVuZ3RoJiYoc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspLHN0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aCl9c3RhdGUuZW5kZWQ9ITAsZW1pdFJlYWRhYmxlKHN0cmVhbSl9KHN0cmVhbSxzdGF0ZSkpOihza2lwQ2h1bmtDaGVja3x8KGVyPWZ1bmN0aW9uKHN0YXRlLGNodW5rKXt2YXIgZXI7KGZ1bmN0aW9uKG9iail7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopfHxvYmogaW5zdGFuY2VvZiBPdXJVaW50OEFycmF5fSkoY2h1bmspfHxcInN0cmluZ1wiPT10eXBlb2YgY2h1bmt8fHZvaWQgMD09PWNodW5rfHxzdGF0ZS5vYmplY3RNb2RlfHwoZXI9bmV3IFR5cGVFcnJvcihcIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmtcIikpO3JldHVybiBlcn0oc3RhdGUsY2h1bmspKSxlcj9zdHJlYW0uZW1pdChcImVycm9yXCIsZXIpOnN0YXRlLm9iamVjdE1vZGV8fGNodW5rJiZjaHVuay5sZW5ndGg+MD8oXCJzdHJpbmdcIj09dHlwZW9mIGNodW5rfHxzdGF0ZS5vYmplY3RNb2RlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2h1bmspPT09QnVmZmVyLnByb3RvdHlwZXx8KGNodW5rPWZ1bmN0aW9uKGNodW5rKXtyZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspfShjaHVuaykpLGFkZFRvRnJvbnQ/c3RhdGUuZW5kRW1pdHRlZD9zdHJlYW0uZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIikpOmFkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMCk6c3RhdGUuZW5kZWQ/c3RyZWFtLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIpKTooc3RhdGUucmVhZGluZz0hMSxzdGF0ZS5kZWNvZGVyJiYhZW5jb2Rpbmc/KGNodW5rPXN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspLHN0YXRlLm9iamVjdE1vZGV8fDAhPT1jaHVuay5sZW5ndGg/YWRkQ2h1bmsoc3RyZWFtLHN0YXRlLGNodW5rLCExKTptYXliZVJlYWRNb3JlKHN0cmVhbSxzdGF0ZSkpOmFkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMSkpKTphZGRUb0Zyb250fHwoc3RhdGUucmVhZGluZz0hMSkpO3JldHVybiBmdW5jdGlvbihzdGF0ZSl7cmV0dXJuIXN0YXRlLmVuZGVkJiYoc3RhdGUubmVlZFJlYWRhYmxlfHxzdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFya3x8MD09PXN0YXRlLmxlbmd0aCl9KHN0YXRlKX1mdW5jdGlvbiBhZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssYWRkVG9Gcm9udCl7c3RhdGUuZmxvd2luZyYmMD09PXN0YXRlLmxlbmd0aCYmIXN0YXRlLnN5bmM/KHN0cmVhbS5lbWl0KFwiZGF0YVwiLGNodW5rKSxzdHJlYW0ucmVhZCgwKSk6KHN0YXRlLmxlbmd0aCs9c3RhdGUub2JqZWN0TW9kZT8xOmNodW5rLmxlbmd0aCxhZGRUb0Zyb250P3N0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTpzdGF0ZS5idWZmZXIucHVzaChjaHVuayksc3RhdGUubmVlZFJlYWRhYmxlJiZlbWl0UmVhZGFibGUoc3RyZWFtKSksbWF5YmVSZWFkTW9yZShzdHJlYW0sc3RhdGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxSZWFkYWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksUmVhZGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5wdXNoKG51bGwpLGNiKGVycil9LFJlYWRhYmxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nKXt2YXIgc2tpcENodW5rQ2hlY2ssc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gc3RhdGUub2JqZWN0TW9kZT9za2lwQ2h1bmtDaGVjaz0hMDpcInN0cmluZ1wiPT10eXBlb2YgY2h1bmsmJigoZW5jb2Rpbmc9ZW5jb2Rpbmd8fHN0YXRlLmRlZmF1bHRFbmNvZGluZykhPT1zdGF0ZS5lbmNvZGluZyYmKGNodW5rPUJ1ZmZlci5mcm9tKGNodW5rLGVuY29kaW5nKSxlbmNvZGluZz1cIlwiKSxza2lwQ2h1bmtDaGVjaz0hMCkscmVhZGFibGVBZGRDaHVuayh0aGlzLGNodW5rLGVuY29kaW5nLCExLHNraXBDaHVua0NoZWNrKX0sUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oY2h1bmspe3JldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsY2h1bmssbnVsbCwhMCwhMSl9LFJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSxSZWFkYWJsZS5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24oZW5jKXtyZXR1cm4gU3RyaW5nRGVjb2Rlcnx8KFN0cmluZ0RlY29kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1NykuU3RyaW5nRGVjb2RlciksdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPW5ldyBTdHJpbmdEZWNvZGVyKGVuYyksdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz1lbmMsdGhpc307dmFyIE1BWF9IV009ODM4ODYwODtmdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sc3RhdGUpe3JldHVybiBuPD0wfHwwPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5lbmRlZD8wOnN0YXRlLm9iamVjdE1vZGU/MTpuIT1uP3N0YXRlLmZsb3dpbmcmJnN0YXRlLmxlbmd0aD9zdGF0ZS5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDpzdGF0ZS5sZW5ndGg6KG4+c3RhdGUuaGlnaFdhdGVyTWFyayYmKHN0YXRlLmhpZ2hXYXRlck1hcms9ZnVuY3Rpb24obil7cmV0dXJuIG4+PU1BWF9IV00/bj1NQVhfSFdNOihuLS0sbnw9bj4+PjEsbnw9bj4+PjIsbnw9bj4+PjQsbnw9bj4+Pjgsbnw9bj4+PjE2LG4rKyksbn0obikpLG48PXN0YXRlLmxlbmd0aD9uOnN0YXRlLmVuZGVkP3N0YXRlLmxlbmd0aDooc3RhdGUubmVlZFJlYWRhYmxlPSEwLDApKX1mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO3N0YXRlLm5lZWRSZWFkYWJsZT0hMSxzdGF0ZS5lbWl0dGVkUmVhZGFibGV8fChkZWJ1ZyhcImVtaXRSZWFkYWJsZVwiLHN0YXRlLmZsb3dpbmcpLHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMCxzdGF0ZS5zeW5jP3BuYS5uZXh0VGljayhlbWl0UmVhZGFibGVfLHN0cmVhbSk6ZW1pdFJlYWRhYmxlXyhzdHJlYW0pKX1mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSl7ZGVidWcoXCJlbWl0IHJlYWRhYmxlXCIpLHN0cmVhbS5lbWl0KFwicmVhZGFibGVcIiksZmxvdyhzdHJlYW0pfWZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZWFkaW5nTW9yZXx8KHN0YXRlLnJlYWRpbmdNb3JlPSEwLHBuYS5uZXh0VGljayhtYXliZVJlYWRNb3JlXyxzdHJlYW0sc3RhdGUpKX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sc3RhdGUpe2Zvcih2YXIgbGVuPXN0YXRlLmxlbmd0aDshc3RhdGUucmVhZGluZyYmIXN0YXRlLmZsb3dpbmcmJiFzdGF0ZS5lbmRlZCYmc3RhdGUubGVuZ3RoPHN0YXRlLmhpZ2hXYXRlck1hcmsmJihkZWJ1ZyhcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLHN0cmVhbS5yZWFkKDApLGxlbiE9PXN0YXRlLmxlbmd0aCk7KWxlbj1zdGF0ZS5sZW5ndGg7c3RhdGUucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKXtkZWJ1ZyhcInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMFwiKSxzZWxmLnJlYWQoMCl9ZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sc3RhdGUpe3N0YXRlLnJlYWRpbmd8fChkZWJ1ZyhcInJlc3VtZSByZWFkIDBcIiksc3RyZWFtLnJlYWQoMCkpLHN0YXRlLnJlc3VtZVNjaGVkdWxlZD0hMSxzdGF0ZS5hd2FpdERyYWluPTAsc3RyZWFtLmVtaXQoXCJyZXN1bWVcIiksZmxvdyhzdHJlYW0pLHN0YXRlLmZsb3dpbmcmJiFzdGF0ZS5yZWFkaW5nJiZzdHJlYW0ucmVhZCgwKX1mdW5jdGlvbiBmbG93KHN0cmVhbSl7dmFyIHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtmb3IoZGVidWcoXCJmbG93XCIsc3RhdGUuZmxvd2luZyk7c3RhdGUuZmxvd2luZyYmbnVsbCE9PXN0cmVhbS5yZWFkKCk7KTt9ZnVuY3Rpb24gZnJvbUxpc3QobixzdGF0ZSl7cmV0dXJuIDA9PT1zdGF0ZS5sZW5ndGg/bnVsbDooc3RhdGUub2JqZWN0TW9kZT9yZXQ9c3RhdGUuYnVmZmVyLnNoaWZ0KCk6IW58fG4+PXN0YXRlLmxlbmd0aD8ocmV0PXN0YXRlLmRlY29kZXI/c3RhdGUuYnVmZmVyLmpvaW4oXCJcIik6MT09PXN0YXRlLmJ1ZmZlci5sZW5ndGg/c3RhdGUuYnVmZmVyLmhlYWQuZGF0YTpzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCksc3RhdGUuYnVmZmVyLmNsZWFyKCkpOnJldD1mdW5jdGlvbihuLGxpc3QsaGFzU3RyaW5ncyl7dmFyIHJldDtuPGxpc3QuaGVhZC5kYXRhLmxlbmd0aD8ocmV0PWxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsbiksbGlzdC5oZWFkLmRhdGE9bGlzdC5oZWFkLmRhdGEuc2xpY2UobikpOnJldD1uPT09bGlzdC5oZWFkLmRhdGEubGVuZ3RoP2xpc3Quc2hpZnQoKTpoYXNTdHJpbmdzP2Z1bmN0aW9uKG4sbGlzdCl7dmFyIHA9bGlzdC5oZWFkLGM9MSxyZXQ9cC5kYXRhO24tPXJldC5sZW5ndGg7Zm9yKDtwPXAubmV4dDspe3ZhciBzdHI9cC5kYXRhLG5iPW4+c3RyLmxlbmd0aD9zdHIubGVuZ3RoOm47aWYobmI9PT1zdHIubGVuZ3RoP3JldCs9c3RyOnJldCs9c3RyLnNsaWNlKDAsbiksMD09PShuLT1uYikpe25iPT09c3RyLmxlbmd0aD8oKytjLHAubmV4dD9saXN0LmhlYWQ9cC5uZXh0Omxpc3QuaGVhZD1saXN0LnRhaWw9bnVsbCk6KGxpc3QuaGVhZD1wLHAuZGF0YT1zdHIuc2xpY2UobmIpKTticmVha30rK2N9cmV0dXJuIGxpc3QubGVuZ3RoLT1jLHJldH0obixsaXN0KTpmdW5jdGlvbihuLGxpc3Qpe3ZhciByZXQ9QnVmZmVyLmFsbG9jVW5zYWZlKG4pLHA9bGlzdC5oZWFkLGM9MTtwLmRhdGEuY29weShyZXQpLG4tPXAuZGF0YS5sZW5ndGg7Zm9yKDtwPXAubmV4dDspe3ZhciBidWY9cC5kYXRhLG5iPW4+YnVmLmxlbmd0aD9idWYubGVuZ3RoOm47aWYoYnVmLmNvcHkocmV0LHJldC5sZW5ndGgtbiwwLG5iKSwwPT09KG4tPW5iKSl7bmI9PT1idWYubGVuZ3RoPygrK2MscC5uZXh0P2xpc3QuaGVhZD1wLm5leHQ6bGlzdC5oZWFkPWxpc3QudGFpbD1udWxsKToobGlzdC5oZWFkPXAscC5kYXRhPWJ1Zi5zbGljZShuYikpO2JyZWFrfSsrY31yZXR1cm4gbGlzdC5sZW5ndGgtPWMscmV0fShuLGxpc3QpO3JldHVybiByZXR9KG4sc3RhdGUuYnVmZmVyLHN0YXRlLmRlY29kZXIpLHJldCk7dmFyIHJldH1mdW5jdGlvbiBlbmRSZWFkYWJsZShzdHJlYW0pe3ZhciBzdGF0ZT1zdHJlYW0uX3JlYWRhYmxlU3RhdGU7aWYoc3RhdGUubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCdcImVuZFJlYWRhYmxlKClcIiBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO3N0YXRlLmVuZEVtaXR0ZWR8fChzdGF0ZS5lbmRlZD0hMCxwbmEubmV4dFRpY2soZW5kUmVhZGFibGVOVCxzdGF0ZSxzdHJlYW0pKX1mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLHN0cmVhbSl7c3RhdGUuZW5kRW1pdHRlZHx8MCE9PXN0YXRlLmxlbmd0aHx8KHN0YXRlLmVuZEVtaXR0ZWQ9ITAsc3RyZWFtLnJlYWRhYmxlPSExLHN0cmVhbS5lbWl0KFwiZW5kXCIpKX1mdW5jdGlvbiBpbmRleE9mKHhzLHgpe2Zvcih2YXIgaT0wLGw9eHMubGVuZ3RoO2k8bDtpKyspaWYoeHNbaV09PT14KXJldHVybiBpO3JldHVybi0xfVJlYWRhYmxlLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKG4pe2RlYnVnKFwicmVhZFwiLG4pLG49cGFyc2VJbnQobiwxMCk7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGUsbk9yaWc9bjtpZigwIT09biYmKHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PW4mJnN0YXRlLm5lZWRSZWFkYWJsZSYmKHN0YXRlLmxlbmd0aD49c3RhdGUuaGlnaFdhdGVyTWFya3x8c3RhdGUuZW5kZWQpKXJldHVybiBkZWJ1ZyhcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLHN0YXRlLmxlbmd0aCxzdGF0ZS5lbmRlZCksMD09PXN0YXRlLmxlbmd0aCYmc3RhdGUuZW5kZWQ/ZW5kUmVhZGFibGUodGhpcyk6ZW1pdFJlYWRhYmxlKHRoaXMpLG51bGw7aWYoMD09PShuPWhvd011Y2hUb1JlYWQobixzdGF0ZSkpJiZzdGF0ZS5lbmRlZClyZXR1cm4gMD09PXN0YXRlLmxlbmd0aCYmZW5kUmVhZGFibGUodGhpcyksbnVsbDt2YXIgcmV0LGRvUmVhZD1zdGF0ZS5uZWVkUmVhZGFibGU7cmV0dXJuIGRlYnVnKFwibmVlZCByZWFkYWJsZVwiLGRvUmVhZCksKDA9PT1zdGF0ZS5sZW5ndGh8fHN0YXRlLmxlbmd0aC1uPHN0YXRlLmhpZ2hXYXRlck1hcmspJiZkZWJ1ZyhcImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrXCIsZG9SZWFkPSEwKSxzdGF0ZS5lbmRlZHx8c3RhdGUucmVhZGluZz9kZWJ1ZyhcInJlYWRpbmcgb3IgZW5kZWRcIixkb1JlYWQ9ITEpOmRvUmVhZCYmKGRlYnVnKFwiZG8gcmVhZFwiKSxzdGF0ZS5yZWFkaW5nPSEwLHN0YXRlLnN5bmM9ITAsMD09PXN0YXRlLmxlbmd0aCYmKHN0YXRlLm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKSxzdGF0ZS5zeW5jPSExLHN0YXRlLnJlYWRpbmd8fChuPWhvd011Y2hUb1JlYWQobk9yaWcsc3RhdGUpKSksbnVsbD09PShyZXQ9bj4wP2Zyb21MaXN0KG4sc3RhdGUpOm51bGwpPyhzdGF0ZS5uZWVkUmVhZGFibGU9ITAsbj0wKTpzdGF0ZS5sZW5ndGgtPW4sMD09PXN0YXRlLmxlbmd0aCYmKHN0YXRlLmVuZGVkfHwoc3RhdGUubmVlZFJlYWRhYmxlPSEwKSxuT3JpZyE9PW4mJnN0YXRlLmVuZGVkJiZlbmRSZWFkYWJsZSh0aGlzKSksbnVsbCE9PXJldCYmdGhpcy5lbWl0KFwiZGF0YVwiLHJldCkscmV0fSxSZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24obil7dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKSl9LFJlYWRhYmxlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGRlc3QscGlwZU9wdHMpe3ZhciBzcmM9dGhpcyxzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChzdGF0ZS5waXBlc0NvdW50KXtjYXNlIDA6c3RhdGUucGlwZXM9ZGVzdDticmVhaztjYXNlIDE6c3RhdGUucGlwZXM9W3N0YXRlLnBpcGVzLGRlc3RdO2JyZWFrO2RlZmF1bHQ6c3RhdGUucGlwZXMucHVzaChkZXN0KX1zdGF0ZS5waXBlc0NvdW50Kz0xLGRlYnVnKFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsc3RhdGUucGlwZXNDb3VudCxwaXBlT3B0cyk7dmFyIGVuZEZuPSghcGlwZU9wdHN8fCExIT09cGlwZU9wdHMuZW5kKSYmZGVzdCE9PXByb2Nlc3Muc3Rkb3V0JiZkZXN0IT09cHJvY2Vzcy5zdGRlcnI/b25lbmQ6dW5waXBlO2Z1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlLHVucGlwZUluZm8pe2RlYnVnKFwib251bnBpcGVcIikscmVhZGFibGU9PT1zcmMmJnVucGlwZUluZm8mJiExPT09dW5waXBlSW5mby5oYXNVbnBpcGVkJiYodW5waXBlSW5mby5oYXNVbnBpcGVkPSEwLGRlYnVnKFwiY2xlYW51cFwiKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvbmNsb3NlKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsb25maW5pc2gpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG9uZHJhaW4pLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG9uZXJyb3IpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixvbnVucGlwZSksc3JjLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsb25lbmQpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHVucGlwZSksc3JjLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLG9uZGF0YSksY2xlYW5lZFVwPSEwLCFzdGF0ZS5hd2FpdERyYWlufHxkZXN0Ll93cml0YWJsZVN0YXRlJiYhZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW58fG9uZHJhaW4oKSl9ZnVuY3Rpb24gb25lbmQoKXtkZWJ1ZyhcIm9uZW5kXCIpLGRlc3QuZW5kKCl9c3RhdGUuZW5kRW1pdHRlZD9wbmEubmV4dFRpY2soZW5kRm4pOnNyYy5vbmNlKFwiZW5kXCIsZW5kRm4pLGRlc3Qub24oXCJ1bnBpcGVcIixvbnVucGlwZSk7dmFyIG9uZHJhaW49ZnVuY3Rpb24oc3JjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgc3RhdGU9c3JjLl9yZWFkYWJsZVN0YXRlO2RlYnVnKFwicGlwZU9uRHJhaW5cIixzdGF0ZS5hd2FpdERyYWluKSxzdGF0ZS5hd2FpdERyYWluJiZzdGF0ZS5hd2FpdERyYWluLS0sMD09PXN0YXRlLmF3YWl0RHJhaW4mJkVFbGlzdGVuZXJDb3VudChzcmMsXCJkYXRhXCIpJiYoc3RhdGUuZmxvd2luZz0hMCxmbG93KHNyYykpfX0oc3JjKTtkZXN0Lm9uKFwiZHJhaW5cIixvbmRyYWluKTt2YXIgY2xlYW5lZFVwPSExO3ZhciBpbmNyZWFzZWRBd2FpdERyYWluPSExO2Z1bmN0aW9uIG9uZGF0YShjaHVuayl7ZGVidWcoXCJvbmRhdGFcIiksaW5jcmVhc2VkQXdhaXREcmFpbj0hMSwhMSE9PWRlc3Qud3JpdGUoY2h1bmspfHxpbmNyZWFzZWRBd2FpdERyYWlufHwoKDE9PT1zdGF0ZS5waXBlc0NvdW50JiZzdGF0ZS5waXBlcz09PWRlc3R8fHN0YXRlLnBpcGVzQ291bnQ+MSYmLTEhPT1pbmRleE9mKHN0YXRlLnBpcGVzLGRlc3QpKSYmIWNsZWFuZWRVcCYmKGRlYnVnKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pLHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKyssaW5jcmVhc2VkQXdhaXREcmFpbj0hMCksc3JjLnBhdXNlKCkpfWZ1bmN0aW9uIG9uZXJyb3IoZXIpe2RlYnVnKFwib25lcnJvclwiLGVyKSx1bnBpcGUoKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSwwPT09RUVsaXN0ZW5lckNvdW50KGRlc3QsXCJlcnJvclwiKSYmZGVzdC5lbWl0KFwiZXJyb3JcIixlcil9ZnVuY3Rpb24gb25jbG9zZSgpe2Rlc3QucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixvbmZpbmlzaCksdW5waXBlKCl9ZnVuY3Rpb24gb25maW5pc2goKXtkZWJ1ZyhcIm9uZmluaXNoXCIpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG9uY2xvc2UpLHVucGlwZSgpfWZ1bmN0aW9uIHVucGlwZSgpe2RlYnVnKFwidW5waXBlXCIpLHNyYy51bnBpcGUoZGVzdCl9cmV0dXJuIHNyYy5vbihcImRhdGFcIixvbmRhdGEpLGZ1bmN0aW9uKGVtaXR0ZXIsZXZlbnQsZm4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKXJldHVybiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lcihldmVudCxmbik7ZW1pdHRlci5fZXZlbnRzJiZlbWl0dGVyLl9ldmVudHNbZXZlbnRdP2lzQXJyYXkoZW1pdHRlci5fZXZlbnRzW2V2ZW50XSk/ZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTplbWl0dGVyLl9ldmVudHNbZXZlbnRdPVtmbixlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTplbWl0dGVyLm9uKGV2ZW50LGZuKX0oZGVzdCxcImVycm9yXCIsb25lcnJvciksZGVzdC5vbmNlKFwiY2xvc2VcIixvbmNsb3NlKSxkZXN0Lm9uY2UoXCJmaW5pc2hcIixvbmZpbmlzaCksZGVzdC5lbWl0KFwicGlwZVwiLHNyYyksc3RhdGUuZmxvd2luZ3x8KGRlYnVnKFwicGlwZSByZXN1bWVcIiksc3JjLnJlc3VtZSgpKSxkZXN0fSxSZWFkYWJsZS5wcm90b3R5cGUudW5waXBlPWZ1bmN0aW9uKGRlc3Qpe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlLHVucGlwZUluZm89e2hhc1VucGlwZWQ6ITF9O2lmKDA9PT1zdGF0ZS5waXBlc0NvdW50KXJldHVybiB0aGlzO2lmKDE9PT1zdGF0ZS5waXBlc0NvdW50KXJldHVybiBkZXN0JiZkZXN0IT09c3RhdGUucGlwZXM/dGhpczooZGVzdHx8KGRlc3Q9c3RhdGUucGlwZXMpLHN0YXRlLnBpcGVzPW51bGwsc3RhdGUucGlwZXNDb3VudD0wLHN0YXRlLmZsb3dpbmc9ITEsZGVzdCYmZGVzdC5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKSx0aGlzKTtpZighZGVzdCl7dmFyIGRlc3RzPXN0YXRlLnBpcGVzLGxlbj1zdGF0ZS5waXBlc0NvdW50O3N0YXRlLnBpcGVzPW51bGwsc3RhdGUucGlwZXNDb3VudD0wLHN0YXRlLmZsb3dpbmc9ITE7Zm9yKHZhciBpPTA7aTxsZW47aSsrKWRlc3RzW2ldLmVtaXQoXCJ1bnBpcGVcIix0aGlzLHVucGlwZUluZm8pO3JldHVybiB0aGlzfXZhciBpbmRleD1pbmRleE9mKHN0YXRlLnBpcGVzLGRlc3QpO3JldHVybi0xPT09aW5kZXg/dGhpczooc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LDEpLHN0YXRlLnBpcGVzQ291bnQtPTEsMT09PXN0YXRlLnBpcGVzQ291bnQmJihzdGF0ZS5waXBlcz1zdGF0ZS5waXBlc1swXSksZGVzdC5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKSx0aGlzKX0sUmVhZGFibGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGV2LGZuKXt2YXIgcmVzPVN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLGV2LGZuKTtpZihcImRhdGFcIj09PWV2KSExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiZ0aGlzLnJlc3VtZSgpO2Vsc2UgaWYoXCJyZWFkYWJsZVwiPT09ZXYpe3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N0YXRlLmVuZEVtaXR0ZWR8fHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nfHwoc3RhdGUucmVhZGFibGVMaXN0ZW5pbmc9c3RhdGUubmVlZFJlYWRhYmxlPSEwLHN0YXRlLmVtaXR0ZWRSZWFkYWJsZT0hMSxzdGF0ZS5yZWFkaW5nP3N0YXRlLmxlbmd0aCYmZW1pdFJlYWRhYmxlKHRoaXMpOnBuYS5uZXh0VGljayhuUmVhZGluZ05leHRUaWNrLHRoaXMpKX1yZXR1cm4gcmVzfSxSZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9UmVhZGFibGUucHJvdG90eXBlLm9uLFJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gc3RhdGUuZmxvd2luZ3x8KGRlYnVnKFwicmVzdW1lXCIpLHN0YXRlLmZsb3dpbmc9ITAsZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZXN1bWVTY2hlZHVsZWR8fChzdGF0ZS5yZXN1bWVTY2hlZHVsZWQ9ITAscG5hLm5leHRUaWNrKHJlc3VtZV8sc3RyZWFtLHN0YXRlKSl9KHRoaXMsc3RhdGUpKSx0aGlzfSxSZWFkYWJsZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gZGVidWcoXCJjYWxsIHBhdXNlIGZsb3dpbmc9JWpcIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLCExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiYoZGVidWcoXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXN9LFJlYWRhYmxlLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHN0cmVhbSl7dmFyIF90aGlzPXRoaXMsc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZSxwYXVzZWQ9ITE7Zm9yKHZhciBpIGluIHN0cmVhbS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7aWYoZGVidWcoXCJ3cmFwcGVkIGVuZFwiKSxzdGF0ZS5kZWNvZGVyJiYhc3RhdGUuZW5kZWQpe3ZhciBjaHVuaz1zdGF0ZS5kZWNvZGVyLmVuZCgpO2NodW5rJiZjaHVuay5sZW5ndGgmJl90aGlzLnB1c2goY2h1bmspfV90aGlzLnB1c2gobnVsbCl9KSxzdHJlYW0ub24oXCJkYXRhXCIsZnVuY3Rpb24oY2h1bmspeyhkZWJ1ZyhcIndyYXBwZWQgZGF0YVwiKSxzdGF0ZS5kZWNvZGVyJiYoY2h1bms9c3RhdGUuZGVjb2Rlci53cml0ZShjaHVuaykpLCFzdGF0ZS5vYmplY3RNb2RlfHxudWxsIT09Y2h1bmsmJnZvaWQgMCE9PWNodW5rKSYmKChzdGF0ZS5vYmplY3RNb2RlfHxjaHVuayYmY2h1bmsubGVuZ3RoKSYmKF90aGlzLnB1c2goY2h1bmspfHwocGF1c2VkPSEwLHN0cmVhbS5wYXVzZSgpKSkpfSksc3RyZWFtKXZvaWQgMD09PXRoaXNbaV0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHN0cmVhbVtpXSYmKHRoaXNbaV09ZnVuY3Rpb24obWV0aG9kKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gc3RyZWFtW21ldGhvZF0uYXBwbHkoc3RyZWFtLGFyZ3VtZW50cyl9fShpKSk7Zm9yKHZhciBuPTA7bjxrUHJveHlFdmVudHMubGVuZ3RoO24rKylzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLHRoaXMuZW1pdC5iaW5kKHRoaXMsa1Byb3h5RXZlbnRzW25dKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24obil7ZGVidWcoXCJ3cmFwcGVkIF9yZWFkXCIsbikscGF1c2VkJiYocGF1c2VkPSExLHN0cmVhbS5yZXN1bWUoKSl9LHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0pLFJlYWRhYmxlLl9mcm9tTGlzdD1mcm9tTGlzdH0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDEpLkV2ZW50RW1pdHRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBuYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtmdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLGVycil7c2VsZi5lbWl0KFwiZXJyb3JcIixlcnIpfW1vZHVsZS5leHBvcnRzPXtkZXN0cm95OmZ1bmN0aW9uKGVycixjYil7dmFyIF90aGlzPXRoaXMscmVhZGFibGVEZXN0cm95ZWQ9dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQsd3JpdGFibGVEZXN0cm95ZWQ9dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7cmV0dXJuIHJlYWRhYmxlRGVzdHJveWVkfHx3cml0YWJsZURlc3Ryb3llZD8oY2I/Y2IoZXJyKTohZXJyfHx0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZHx8cG5hLm5leHRUaWNrKGVtaXRFcnJvck5ULHRoaXMsZXJyKSx0aGlzKToodGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX2Rlc3Ryb3koZXJyfHxudWxsLGZ1bmN0aW9uKGVycil7IWNiJiZlcnI/KHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCxfdGhpcyxlcnIpLF90aGlzLl93cml0YWJsZVN0YXRlJiYoX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwKSk6Y2ImJmNiKGVycil9KSx0aGlzKX0sdW5kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZz0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMSksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHNjb3BlPXZvaWQgMCE9PWdsb2JhbCYmZ2xvYmFsfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZnx8d2luZG93LGFwcGx5PUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtmdW5jdGlvbiBUaW1lb3V0KGlkLGNsZWFyRm4pe3RoaXMuX2lkPWlkLHRoaXMuX2NsZWFyRm49Y2xlYXJGbn1leHBvcnRzLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LHNjb3BlLGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZXhwb3J0cy5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLHNjb3BlLGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGV4cG9ydHMuY2xlYXJUaW1lb3V0PWV4cG9ydHMuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0aW1lb3V0KXt0aW1lb3V0JiZ0aW1lb3V0LmNsb3NlKCl9LFRpbWVvdXQucHJvdG90eXBlLnVucmVmPVRpbWVvdXQucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sVGltZW91dC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsdGhpcy5faWQpfSxleHBvcnRzLmVucm9sbD1mdW5jdGlvbihpdGVtLG1zZWNzKXtjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCksaXRlbS5faWRsZVRpbWVvdXQ9bXNlY3N9LGV4cG9ydHMudW5lbnJvbGw9ZnVuY3Rpb24oaXRlbSl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpLGl0ZW0uX2lkbGVUaW1lb3V0PS0xfSxleHBvcnRzLl91bnJlZkFjdGl2ZT1leHBvcnRzLmFjdGl2ZT1mdW5jdGlvbihpdGVtKXtjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7dmFyIG1zZWNzPWl0ZW0uX2lkbGVUaW1lb3V0O21zZWNzPj0wJiYoaXRlbS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aXRlbS5fb25UaW1lb3V0JiZpdGVtLl9vblRpbWVvdXQoKX0sbXNlY3MpKX0sX193ZWJwYWNrX3JlcXVpcmVfXyg5MyksZXhwb3J0cy5zZXRJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuc2V0SW1tZWRpYXRlfHx2b2lkIDAhPT1nbG9iYWwmJmdsb2JhbC5zZXRJbW1lZGlhdGV8fHRoaXMmJnRoaXMuc2V0SW1tZWRpYXRlLGV4cG9ydHMuY2xlYXJJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuY2xlYXJJbW1lZGlhdGV8fHZvaWQgMCE9PWdsb2JhbCYmZ2xvYmFsLmNsZWFySW1tZWRpYXRlfHx0aGlzJiZ0aGlzLmNsZWFySW1tZWRpYXRlfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5CdWZmZXIsaXNFbmNvZGluZz1CdWZmZXIuaXNFbmNvZGluZ3x8ZnVuY3Rpb24oZW5jb2Rpbmcpe3N3aXRjaCgoZW5jb2Rpbmc9XCJcIitlbmNvZGluZykmJmVuY29kaW5nLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Y2FzZVwicmF3XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19O2Z1bmN0aW9uIFN0cmluZ0RlY29kZXIoZW5jb2Rpbmcpe3ZhciBuYjtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihlbmMpe3ZhciBuZW5jPWZ1bmN0aW9uKGVuYyl7aWYoIWVuYylyZXR1cm5cInV0ZjhcIjtmb3IodmFyIHJldHJpZWQ7Oylzd2l0Y2goZW5jKXtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm5cInV0ZjhcIjtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm5cInV0ZjE2bGVcIjtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm5cImxhdGluMVwiO2Nhc2VcImJhc2U2NFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiaGV4XCI6cmV0dXJuIGVuYztkZWZhdWx0OmlmKHJldHJpZWQpcmV0dXJuO2VuYz0oXCJcIitlbmMpLnRvTG93ZXJDYXNlKCkscmV0cmllZD0hMH19KGVuYyk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG5lbmMmJihCdWZmZXIuaXNFbmNvZGluZz09PWlzRW5jb2Rpbmd8fCFpc0VuY29kaW5nKGVuYykpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuYyk7cmV0dXJuIG5lbmN8fGVuY30oZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjE2bGVcIjp0aGlzLnRleHQ9dXRmMTZUZXh0LHRoaXMuZW5kPXV0ZjE2RW5kLG5iPTQ7YnJlYWs7Y2FzZVwidXRmOFwiOnRoaXMuZmlsbExhc3Q9dXRmOEZpbGxMYXN0LG5iPTQ7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy50ZXh0PWJhc2U2NFRleHQsdGhpcy5lbmQ9YmFzZTY0RW5kLG5iPTM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy53cml0ZT1zaW1wbGVXcml0ZSx2b2lkKHRoaXMuZW5kPXNpbXBsZUVuZCl9dGhpcy5sYXN0TmVlZD0wLHRoaXMubGFzdFRvdGFsPTAsdGhpcy5sYXN0Q2hhcj1CdWZmZXIuYWxsb2NVbnNhZmUobmIpfWZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSl7cmV0dXJuIGJ5dGU8PTEyNz8wOmJ5dGU+PjU9PTY/MjpieXRlPj40PT0xND8zOmJ5dGU+PjM9PTMwPzQ6Ynl0ZT4+Nj09Mj8tMTotMn1mdW5jdGlvbiB1dGY4RmlsbExhc3QoYnVmKXt2YXIgcD10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLHI9ZnVuY3Rpb24oc2VsZixidWYscCl7aWYoMTI4IT0oMTkyJmJ1ZlswXSkpcmV0dXJuIHNlbGYubGFzdE5lZWQ9MCxcIu+/vVwiO2lmKHNlbGYubGFzdE5lZWQ+MSYmYnVmLmxlbmd0aD4xKXtpZigxMjghPSgxOTImYnVmWzFdKSlyZXR1cm4gc2VsZi5sYXN0TmVlZD0xLFwi77+9XCI7aWYoc2VsZi5sYXN0TmVlZD4yJiZidWYubGVuZ3RoPjImJjEyOCE9KDE5MiZidWZbMl0pKXJldHVybiBzZWxmLmxhc3ROZWVkPTIsXCLvv71cIn19KHRoaXMsYnVmKTtyZXR1cm4gdm9pZCAwIT09cj9yOnRoaXMubGFzdE5lZWQ8PWJ1Zi5sZW5ndGg/KGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIscCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIscCwwLGJ1Zi5sZW5ndGgpLHZvaWQodGhpcy5sYXN0TmVlZC09YnVmLmxlbmd0aCkpfWZ1bmN0aW9uIHV0ZjE2VGV4dChidWYsaSl7aWYoKGJ1Zi5sZW5ndGgtaSklMj09MCl7dmFyIHI9YnVmLnRvU3RyaW5nKFwidXRmMTZsZVwiLGkpO2lmKHIpe3ZhciBjPXIuY2hhckNvZGVBdChyLmxlbmd0aC0xKTtpZihjPj01NTI5NiYmYzw9NTYzMTkpcmV0dXJuIHRoaXMubGFzdE5lZWQ9Mix0aGlzLmxhc3RUb3RhbD00LHRoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1idWZbYnVmLmxlbmd0aC0xXSxyLnNsaWNlKDAsLTEpfXJldHVybiByfXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTFdLGJ1Zi50b1N0cmluZyhcInV0ZjE2bGVcIixpLGJ1Zi5sZW5ndGgtMSl9ZnVuY3Rpb24gdXRmMTZFbmQoYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIGVuZD10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiByK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJ1dGYxNmxlXCIsMCxlbmQpfXJldHVybiByfWZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLGkpe3ZhciBuPShidWYubGVuZ3RoLWkpJTM7cmV0dXJuIDA9PT1uP2J1Zi50b1N0cmluZyhcImJhc2U2NFwiLGkpOih0aGlzLmxhc3ROZWVkPTMtbix0aGlzLmxhc3RUb3RhbD0zLDE9PT1uP3RoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09YnVmW2J1Zi5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1idWZbYnVmLmxlbmd0aC0xXSksYnVmLnRvU3RyaW5nKFwiYmFzZTY0XCIsaSxidWYubGVuZ3RoLW4pKX1mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/cit0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOnJ9ZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKXtyZXR1cm4gYnVmLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIHNpbXBsZUVuZChidWYpe3JldHVybiBidWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCJ9ZXhwb3J0cy5TdHJpbmdEZWNvZGVyPVN0cmluZ0RlY29kZXIsU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oYnVmKXtpZigwPT09YnVmLmxlbmd0aClyZXR1cm5cIlwiO3ZhciByLGk7aWYodGhpcy5sYXN0TmVlZCl7aWYodm9pZCAwPT09KHI9dGhpcy5maWxsTGFzdChidWYpKSlyZXR1cm5cIlwiO2k9dGhpcy5sYXN0TmVlZCx0aGlzLmxhc3ROZWVkPTB9ZWxzZSBpPTA7cmV0dXJuIGk8YnVmLmxlbmd0aD9yP3IrdGhpcy50ZXh0KGJ1ZixpKTp0aGlzLnRleHQoYnVmLGkpOnJ8fFwiXCJ9LFN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihidWYpe3ZhciByPWJ1ZiYmYnVmLmxlbmd0aD90aGlzLndyaXRlKGJ1Zik6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9yK1wi77+9XCI6cn0sU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihidWYsaSl7dmFyIHRvdGFsPWZ1bmN0aW9uKHNlbGYsYnVmLGkpe3ZhciBqPWJ1Zi5sZW5ndGgtMTtpZihqPGkpcmV0dXJuIDA7dmFyIG5iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKTtpZihuYj49MClyZXR1cm4gbmI+MCYmKHNlbGYubGFzdE5lZWQ9bmItMSksbmI7aWYoLS1qPGl8fC0yPT09bmIpcmV0dXJuIDA7aWYoKG5iPXV0ZjhDaGVja0J5dGUoYnVmW2pdKSk+PTApcmV0dXJuIG5iPjAmJihzZWxmLmxhc3ROZWVkPW5iLTIpLG5iO2lmKC0tajxpfHwtMj09PW5iKXJldHVybiAwO2lmKChuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSkpPj0wKXJldHVybiBuYj4wJiYoMj09PW5iP25iPTA6c2VsZi5sYXN0TmVlZD1uYi0zKSxuYjtyZXR1cm4gMH0odGhpcyxidWYsaSk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGJ1Zi50b1N0cmluZyhcInV0ZjhcIixpKTt0aGlzLmxhc3RUb3RhbD10b3RhbDt2YXIgZW5kPWJ1Zi5sZW5ndGgtKHRvdGFsLXRoaXMubGFzdE5lZWQpO3JldHVybiBidWYuY29weSh0aGlzLmxhc3RDaGFyLDAsZW5kKSxidWYudG9TdHJpbmcoXCJ1dGY4XCIsaSxlbmQpfSxTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbihidWYpe2lmKHRoaXMubGFzdE5lZWQ8PWJ1Zi5sZW5ndGgpcmV0dXJuIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTtidWYuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCxidWYubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT1idWYubGVuZ3RofX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9VHJhbnNmb3JtO3ZhciBEdXBsZXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTtmdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSlyZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtEdXBsZXguY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuX3RyYW5zZm9ybVN0YXRlPXthZnRlclRyYW5zZm9ybTpmdW5jdGlvbihlcixkYXRhKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7dHMudHJhbnNmb3JtaW5nPSExO3ZhciBjYj10cy53cml0ZWNiO2lmKCFjYilyZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJ3cml0ZSBjYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIikpO3RzLndyaXRlY2h1bms9bnVsbCx0cy53cml0ZWNiPW51bGwsbnVsbCE9ZGF0YSYmdGhpcy5wdXNoKGRhdGEpLGNiKGVyKTt2YXIgcnM9dGhpcy5fcmVhZGFibGVTdGF0ZTtycy5yZWFkaW5nPSExLChycy5uZWVkUmVhZGFibGV8fHJzLmxlbmd0aDxycy5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKX0uYmluZCh0aGlzKSxuZWVkVHJhbnNmb3JtOiExLHRyYW5zZm9ybWluZzohMSx3cml0ZWNiOm51bGwsd3JpdGVjaHVuazpudWxsLHdyaXRlZW5jb2Rpbmc6bnVsbH0sdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGU9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPSExLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT1vcHRpb25zLnRyYW5zZm9ybSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5mbHVzaCYmKHRoaXMuX2ZsdXNoPW9wdGlvbnMuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIscHJlZmluaXNoKX1mdW5jdGlvbiBwcmVmaW5pc2goKXt2YXIgX3RoaXM9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLl9mbHVzaD90aGlzLl9mbHVzaChmdW5jdGlvbihlcixkYXRhKXtkb25lKF90aGlzLGVyLGRhdGEpfSk6ZG9uZSh0aGlzLG51bGwsbnVsbCl9ZnVuY3Rpb24gZG9uZShzdHJlYW0sZXIsZGF0YSl7aWYoZXIpcmV0dXJuIHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlcik7aWYobnVsbCE9ZGF0YSYmc3RyZWFtLnB1c2goZGF0YSksc3RyZWFtLl93cml0YWJsZVN0YXRlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3MubGVuZ3RoICE9IDBcIik7aWYoc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZ1wiKTtyZXR1cm4gc3RyZWFtLnB1c2gobnVsbCl9dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSx1dGlsLmluaGVyaXRzKFRyYW5zZm9ybSxEdXBsZXgpLFRyYW5zZm9ybS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayxlbmNvZGluZyl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm09ITEsRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxjaHVuayxlbmNvZGluZyl9LFRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dGhyb3cgbmV3IEVycm9yKFwiX3RyYW5zZm9ybSgpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciB0cz10aGlzLl90cmFuc2Zvcm1TdGF0ZTtpZih0cy53cml0ZWNiPWNiLHRzLndyaXRlY2h1bms9Y2h1bmssdHMud3JpdGVlbmNvZGluZz1lbmNvZGluZywhdHMudHJhbnNmb3JtaW5nKXt2YXIgcnM9dGhpcy5fcmVhZGFibGVTdGF0ZTsodHMubmVlZFRyYW5zZm9ybXx8cnMubmVlZFJlYWRhYmxlfHxycy5sZW5ndGg8cnMuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayl9fSxUcmFuc2Zvcm0ucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKG4pe3ZhciB0cz10aGlzLl90cmFuc2Zvcm1TdGF0ZTtudWxsIT09dHMud3JpdGVjaHVuayYmdHMud3JpdGVjYiYmIXRzLnRyYW5zZm9ybWluZz8odHMudHJhbnNmb3JtaW5nPSEwLHRoaXMuX3RyYW5zZm9ybSh0cy53cml0ZWNodW5rLHRzLndyaXRlZW5jb2RpbmcsdHMuYWZ0ZXJUcmFuc2Zvcm0pKTp0cy5uZWVkVHJhbnNmb3JtPSEwfSxUcmFuc2Zvcm0ucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dmFyIF90aGlzMj10aGlzO0R1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLGVycixmdW5jdGlvbihlcnIyKXtjYihlcnIyKSxfdGhpczIuZW1pdChcImNsb3NlXCIpfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksX2tleVN0cj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7ZXhwb3J0cy5lbmNvZGU9ZnVuY3Rpb24oaW5wdXQpe2Zvcih2YXIgY2hyMSxjaHIyLGNocjMsZW5jMSxlbmMyLGVuYzMsZW5jNCxvdXRwdXQ9W10saT0wLGxlbj1pbnB1dC5sZW5ndGgscmVtYWluaW5nQnl0ZXM9bGVuLGlzQXJyYXk9XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk7aTxpbnB1dC5sZW5ndGg7KXJlbWFpbmluZ0J5dGVzPWxlbi1pLGlzQXJyYXk/KGNocjE9aW5wdXRbaSsrXSxjaHIyPWk8bGVuP2lucHV0W2krK106MCxjaHIzPWk8bGVuP2lucHV0W2krK106MCk6KGNocjE9aW5wdXQuY2hhckNvZGVBdChpKyspLGNocjI9aTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKyspOjAsY2hyMz1pPGxlbj9pbnB1dC5jaGFyQ29kZUF0KGkrKyk6MCksZW5jMT1jaHIxPj4yLGVuYzI9KDMmY2hyMSk8PDR8Y2hyMj4+NCxlbmMzPXJlbWFpbmluZ0J5dGVzPjE/KDE1JmNocjIpPDwyfGNocjM+PjY6NjQsZW5jND1yZW1haW5pbmdCeXRlcz4yPzYzJmNocjM6NjQsb3V0cHV0LnB1c2goX2tleVN0ci5jaGFyQXQoZW5jMSkrX2tleVN0ci5jaGFyQXQoZW5jMikrX2tleVN0ci5jaGFyQXQoZW5jMykrX2tleVN0ci5jaGFyQXQoZW5jNCkpO3JldHVybiBvdXRwdXQuam9pbihcIlwiKX0sZXhwb3J0cy5kZWNvZGU9ZnVuY3Rpb24oaW5wdXQpe3ZhciBjaHIxLGNocjIsY2hyMyxlbmMyLGVuYzMsZW5jNCxpPTAscmVzdWx0SW5kZXg9MDtpZihcImRhdGE6XCI9PT1pbnB1dC5zdWJzdHIoMCxcImRhdGE6XCIubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBpbnB1dCwgaXQgbG9va3MgbGlrZSBhIGRhdGEgdXJsLlwiKTt2YXIgb3V0cHV0LHRvdGFsTGVuZ3RoPTMqKGlucHV0PWlucHV0LnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLFwiXCIpKS5sZW5ndGgvNDtpZihpbnB1dC5jaGFyQXQoaW5wdXQubGVuZ3RoLTEpPT09X2tleVN0ci5jaGFyQXQoNjQpJiZ0b3RhbExlbmd0aC0tLGlucHV0LmNoYXJBdChpbnB1dC5sZW5ndGgtMik9PT1fa2V5U3RyLmNoYXJBdCg2NCkmJnRvdGFsTGVuZ3RoLS0sdG90YWxMZW5ndGglMSE9MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBpbnB1dCwgYmFkIGNvbnRlbnQgbGVuZ3RoLlwiKTtmb3Iob3V0cHV0PXN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheSgwfHRvdGFsTGVuZ3RoKTpuZXcgQXJyYXkoMHx0b3RhbExlbmd0aCk7aTxpbnB1dC5sZW5ndGg7KWNocjE9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTw8MnwoZW5jMj1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKT4+NCxjaHIyPSgxNSZlbmMyKTw8NHwoZW5jMz1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKT4+MixjaHIzPSgzJmVuYzMpPDw2fChlbmM0PV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSkpLG91dHB1dFtyZXN1bHRJbmRleCsrXT1jaHIxLDY0IT09ZW5jMyYmKG91dHB1dFtyZXN1bHRJbmRleCsrXT1jaHIyKSw2NCE9PWVuYzQmJihvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMyk7cmV0dXJuIG91dHB1dH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihCdWZmZXIpe3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLENvbnZlcnRXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMDMpLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxiYXNlNjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLGV4dGVybmFsPV9fd2VicGFja19yZXF1aXJlX18oMjYpLE5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXI9bnVsbDtpZihzdXBwb3J0Lm5vZGVzdHJlYW0pdHJ5e05vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMDQpfWNhdGNoKGUpe31mdW5jdGlvbiBhY2N1bXVsYXRlKGhlbHBlcix1cGRhdGVDYWxsYmFjayl7cmV0dXJuIG5ldyBleHRlcm5hbC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgZGF0YUFycmF5PVtdLGNodW5rVHlwZT1oZWxwZXIuX2ludGVybmFsVHlwZSxyZXN1bHRUeXBlPWhlbHBlci5fb3V0cHV0VHlwZSxtaW1lVHlwZT1oZWxwZXIuX21pbWVUeXBlO2hlbHBlci5vbihcImRhdGFcIixmdW5jdGlvbihkYXRhLG1ldGEpe2RhdGFBcnJheS5wdXNoKGRhdGEpLHVwZGF0ZUNhbGxiYWNrJiZ1cGRhdGVDYWxsYmFjayhtZXRhKX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlcnIpe2RhdGFBcnJheT1bXSxyZWplY3QoZXJyKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt0cnl7dmFyIHJlc3VsdD1mdW5jdGlvbih0eXBlLGNvbnRlbnQsbWltZVR5cGUpe3N3aXRjaCh0eXBlKXtjYXNlXCJibG9iXCI6cmV0dXJuIHV0aWxzLm5ld0Jsb2IodXRpbHMudHJhbnNmb3JtVG8oXCJhcnJheWJ1ZmZlclwiLGNvbnRlbnQpLG1pbWVUeXBlKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0LmVuY29kZShjb250ZW50KTtkZWZhdWx0OnJldHVybiB1dGlscy50cmFuc2Zvcm1Ubyh0eXBlLGNvbnRlbnQpfX0ocmVzdWx0VHlwZSxmdW5jdGlvbih0eXBlLGRhdGFBcnJheSl7dmFyIGksaW5kZXg9MCxyZXM9bnVsbCx0b3RhbExlbmd0aD0wO2ZvcihpPTA7aTxkYXRhQXJyYXkubGVuZ3RoO2krKyl0b3RhbExlbmd0aCs9ZGF0YUFycmF5W2ldLmxlbmd0aDtzd2l0Y2godHlwZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGRhdGFBcnJheS5qb2luKFwiXCIpO2Nhc2VcImFycmF5XCI6cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sZGF0YUFycmF5KTtjYXNlXCJ1aW50OGFycmF5XCI6Zm9yKHJlcz1uZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCksaT0wO2k8ZGF0YUFycmF5Lmxlbmd0aDtpKyspcmVzLnNldChkYXRhQXJyYXlbaV0saW5kZXgpLGluZGV4Kz1kYXRhQXJyYXlbaV0ubGVuZ3RoO3JldHVybiByZXM7Y2FzZVwibm9kZWJ1ZmZlclwiOnJldHVybiBCdWZmZXIuY29uY2F0KGRhdGFBcnJheSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJjb25jYXQgOiB1bnN1cHBvcnRlZCB0eXBlICdcIit0eXBlK1wiJ1wiKX19KGNodW5rVHlwZSxkYXRhQXJyYXkpLG1pbWVUeXBlKTtyZXNvbHZlKHJlc3VsdCl9Y2F0Y2goZSl7cmVqZWN0KGUpfWRhdGFBcnJheT1bXX0pLnJlc3VtZSgpfSl9ZnVuY3Rpb24gU3RyZWFtSGVscGVyKHdvcmtlcixvdXRwdXRUeXBlLG1pbWVUeXBlKXt2YXIgaW50ZXJuYWxUeXBlPW91dHB1dFR5cGU7c3dpdGNoKG91dHB1dFR5cGUpe2Nhc2VcImJsb2JcIjpjYXNlXCJhcnJheWJ1ZmZlclwiOmludGVybmFsVHlwZT1cInVpbnQ4YXJyYXlcIjticmVhaztjYXNlXCJiYXNlNjRcIjppbnRlcm5hbFR5cGU9XCJzdHJpbmdcIn10cnl7dGhpcy5faW50ZXJuYWxUeXBlPWludGVybmFsVHlwZSx0aGlzLl9vdXRwdXRUeXBlPW91dHB1dFR5cGUsdGhpcy5fbWltZVR5cGU9bWltZVR5cGUsdXRpbHMuY2hlY2tTdXBwb3J0KGludGVybmFsVHlwZSksdGhpcy5fd29ya2VyPXdvcmtlci5waXBlKG5ldyBDb252ZXJ0V29ya2VyKGludGVybmFsVHlwZSkpLHdvcmtlci5sb2NrKCl9Y2F0Y2goZSl7dGhpcy5fd29ya2VyPW5ldyBHZW5lcmljV29ya2VyKFwiZXJyb3JcIiksdGhpcy5fd29ya2VyLmVycm9yKGUpfX1TdHJlYW1IZWxwZXIucHJvdG90eXBlPXthY2N1bXVsYXRlOmZ1bmN0aW9uKHVwZGF0ZUNiKXtyZXR1cm4gYWNjdW11bGF0ZSh0aGlzLHVwZGF0ZUNiKX0sb246ZnVuY3Rpb24oZXZ0LGZuKXt2YXIgc2VsZj10aGlzO3JldHVyblwiZGF0YVwiPT09ZXZ0P3RoaXMuX3dvcmtlci5vbihldnQsZnVuY3Rpb24oY2h1bmspe2ZuLmNhbGwoc2VsZixjaHVuay5kYXRhLGNodW5rLm1ldGEpfSk6dGhpcy5fd29ya2VyLm9uKGV2dCxmdW5jdGlvbigpe3V0aWxzLmRlbGF5KGZuLGFyZ3VtZW50cyxzZWxmKX0pLHRoaXN9LHJlc3VtZTpmdW5jdGlvbigpe3JldHVybiB1dGlscy5kZWxheSh0aGlzLl93b3JrZXIucmVzdW1lLFtdLHRoaXMuX3dvcmtlciksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ya2VyLnBhdXNlKCksdGhpc30sdG9Ob2RlanNTdHJlYW06ZnVuY3Rpb24odXBkYXRlQ2Ipe2lmKHV0aWxzLmNoZWNrU3VwcG9ydChcIm5vZGVzdHJlYW1cIiksXCJub2RlYnVmZmVyXCIhPT10aGlzLl9vdXRwdXRUeXBlKXRocm93IG5ldyBFcnJvcih0aGlzLl9vdXRwdXRUeXBlK1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtZXRob2RcIik7cmV0dXJuIG5ldyBOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyKHRoaXMse29iamVjdE1vZGU6XCJub2RlYnVmZmVyXCIhPT10aGlzLl9vdXRwdXRUeXBlfSx1cGRhdGVDYil9fSxtb2R1bGUuZXhwb3J0cz1TdHJlYW1IZWxwZXJ9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygyMykuQnVmZmVyKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5iYXNlNjQ9ITEsZXhwb3J0cy5iaW5hcnk9ITEsZXhwb3J0cy5kaXI9ITEsZXhwb3J0cy5jcmVhdGVGb2xkZXJzPSEwLGV4cG9ydHMuZGF0ZT1udWxsLGV4cG9ydHMuY29tcHJlc3Npb249bnVsbCxleHBvcnRzLmNvbXByZXNzaW9uT3B0aW9ucz1udWxsLGV4cG9ydHMuY29tbWVudD1udWxsLGV4cG9ydHMudW5peFBlcm1pc3Npb25zPW51bGwsZXhwb3J0cy5kb3NQZXJtaXNzaW9ucz1udWxsfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMik7ZnVuY3Rpb24gRGF0YVdvcmtlcihkYXRhUCl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJEYXRhV29ya2VyXCIpO3ZhciBzZWxmPXRoaXM7dGhpcy5kYXRhSXNSZWFkeT0hMSx0aGlzLmluZGV4PTAsdGhpcy5tYXg9MCx0aGlzLmRhdGE9bnVsbCx0aGlzLnR5cGU9XCJcIix0aGlzLl90aWNrU2NoZWR1bGVkPSExLGRhdGFQLnRoZW4oZnVuY3Rpb24oZGF0YSl7c2VsZi5kYXRhSXNSZWFkeT0hMCxzZWxmLmRhdGE9ZGF0YSxzZWxmLm1heD1kYXRhJiZkYXRhLmxlbmd0aHx8MCxzZWxmLnR5cGU9dXRpbHMuZ2V0VHlwZU9mKGRhdGEpLHNlbGYuaXNQYXVzZWR8fHNlbGYuX3RpY2tBbmRSZXBlYXQoKX0sZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pfXV0aWxzLmluaGVyaXRzKERhdGFXb3JrZXIsR2VuZXJpY1dvcmtlciksRGF0YVdvcmtlci5wcm90b3R5cGUuY2xlYW5VcD1mdW5jdGlvbigpe0dlbmVyaWNXb3JrZXIucHJvdG90eXBlLmNsZWFuVXAuY2FsbCh0aGlzKSx0aGlzLmRhdGE9bnVsbH0sRGF0YVdvcmtlci5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLl90aWNrU2NoZWR1bGVkJiZ0aGlzLmRhdGFJc1JlYWR5JiYodGhpcy5fdGlja1NjaGVkdWxlZD0hMCx1dGlscy5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpKSwhMCl9LERhdGFXb3JrZXIucHJvdG90eXBlLl90aWNrQW5kUmVwZWF0PWZ1bmN0aW9uKCl7dGhpcy5fdGlja1NjaGVkdWxlZD0hMSx0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWR8fCh0aGlzLl90aWNrKCksdGhpcy5pc0ZpbmlzaGVkfHwodXRpbHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSx0aGlzLl90aWNrU2NoZWR1bGVkPSEwKSl9LERhdGFXb3JrZXIucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3ZhciBkYXRhPW51bGwsbmV4dEluZGV4PU1hdGgubWluKHRoaXMubWF4LHRoaXMuaW5kZXgrMTYzODQpO2lmKHRoaXMuaW5kZXg+PXRoaXMubWF4KXJldHVybiB0aGlzLmVuZCgpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2VcInN0cmluZ1wiOmRhdGE9dGhpcy5kYXRhLnN1YnN0cmluZyh0aGlzLmluZGV4LG5leHRJbmRleCk7YnJlYWs7Y2FzZVwidWludDhhcnJheVwiOmRhdGE9dGhpcy5kYXRhLnN1YmFycmF5KHRoaXMuaW5kZXgsbmV4dEluZGV4KTticmVhaztjYXNlXCJhcnJheVwiOmNhc2VcIm5vZGVidWZmZXJcIjpkYXRhPXRoaXMuZGF0YS5zbGljZSh0aGlzLmluZGV4LG5leHRJbmRleCl9cmV0dXJuIHRoaXMuaW5kZXg9bmV4dEluZGV4LHRoaXMucHVzaCh7ZGF0YTpkYXRhLG1ldGE6e3BlcmNlbnQ6dGhpcy5tYXg/dGhpcy5pbmRleC90aGlzLm1heCoxMDA6MH19KX0sbW9kdWxlLmV4cG9ydHM9RGF0YVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2Z1bmN0aW9uIERhdGFMZW5ndGhQcm9iZShwcm9wTmFtZSl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJEYXRhTGVuZ3RoUHJvYmUgZm9yIFwiK3Byb3BOYW1lKSx0aGlzLnByb3BOYW1lPXByb3BOYW1lLHRoaXMud2l0aFN0cmVhbUluZm8ocHJvcE5hbWUsMCl9dXRpbHMuaW5oZXJpdHMoRGF0YUxlbmd0aFByb2JlLEdlbmVyaWNXb3JrZXIpLERhdGFMZW5ndGhQcm9iZS5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXtpZihjaHVuayl7dmFyIGxlbmd0aD10aGlzLnN0cmVhbUluZm9bdGhpcy5wcm9wTmFtZV18fDA7dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdPWxlbmd0aCtjaHVuay5kYXRhLmxlbmd0aH1HZW5lcmljV29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bmsuY2FsbCh0aGlzLGNodW5rKX0sbW9kdWxlLmV4cG9ydHM9RGF0YUxlbmd0aFByb2JlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNDUpO2Z1bmN0aW9uIENyYzMyUHJvYmUoKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkNyYzMyUHJvYmVcIiksdGhpcy53aXRoU3RyZWFtSW5mbyhcImNyYzMyXCIsMCl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhDcmMzMlByb2JlLEdlbmVyaWNXb3JrZXIpLENyYzMyUHJvYmUucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7dGhpcy5zdHJlYW1JbmZvLmNyYzMyPWNyYzMyKGNodW5rLmRhdGEsdGhpcy5zdHJlYW1JbmZvLmNyYzMyfHwwKSx0aGlzLnB1c2goY2h1bmspfSxtb2R1bGUuZXhwb3J0cz1DcmMzMlByb2JlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2V4cG9ydHMuU1RPUkU9e21hZ2ljOlwiXFwwXFwwXCIsY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gbmV3IEdlbmVyaWNXb3JrZXIoXCJTVE9SRSBjb21wcmVzc2lvblwiKX0sdW5jb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgR2VuZXJpY1dvcmtlcihcIlNUT1JFIGRlY29tcHJlc3Npb25cIil9fSxleHBvcnRzLkRFRkxBVEU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDcpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhZGxlcixidWYsbGVuLHBvcyl7Zm9yKHZhciBzMT02NTUzNSZhZGxlcnwwLHMyPWFkbGVyPj4+MTYmNjU1MzV8MCxuPTA7MCE9PWxlbjspe2xlbi09bj1sZW4+MmUzPzJlMzpsZW47ZG97czI9czIrKHMxPXMxK2J1Zltwb3MrK118MCl8MH13aGlsZSgtLW4pO3MxJT02NTUyMSxzMiU9NjU1MjF9cmV0dXJuIHMxfHMyPDwxNnwwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGNyY1RhYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBjLHRhYmxlPVtdLG49MDtuPDI1NjtuKyspe2M9bjtmb3IodmFyIGs9MDtrPDg7aysrKWM9MSZjPzM5ODgyOTIzODReYz4+PjE6Yz4+PjE7dGFibGVbbl09Y31yZXR1cm4gdGFibGV9KCk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksU1RSX0FQUExZX09LPSEwLFNUUl9BUFBMWV9VSUFfT0s9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxbMF0pfWNhdGNoKF9fKXtTVFJfQVBQTFlfT0s9ITF9dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goX18pe1NUUl9BUFBMWV9VSUFfT0s9ITF9Zm9yKHZhciBfdXRmOGxlbj1uZXcgdXRpbHMuQnVmOCgyNTYpLHE9MDtxPDI1NjtxKyspX3V0ZjhsZW5bcV09cT49MjUyPzY6cT49MjQ4PzU6cT49MjQwPzQ6cT49MjI0PzM6cT49MTkyPzI6MTtmdW5jdGlvbiBidWYyYmluc3RyaW5nKGJ1ZixsZW4pe2lmKGxlbjw2NTUzNCYmKGJ1Zi5zdWJhcnJheSYmU1RSX0FQUExZX1VJQV9PS3x8IWJ1Zi5zdWJhcnJheSYmU1RSX0FQUExZX09LKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHV0aWxzLnNocmlua0J1ZihidWYsbGVuKSk7Zm9yKHZhciByZXN1bHQ9XCJcIixpPTA7aTxsZW47aSsrKXJlc3VsdCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO3JldHVybiByZXN1bHR9X3V0ZjhsZW5bMjU0XT1fdXRmOGxlblsyNTRdPTEsZXhwb3J0cy5zdHJpbmcyYnVmPWZ1bmN0aW9uKHN0cil7dmFyIGJ1ZixjLGMyLG1fcG9zLGksc3RyX2xlbj1zdHIubGVuZ3RoLGJ1Zl9sZW49MDtmb3IobV9wb3M9MDttX3BvczxzdHJfbGVuO21fcG9zKyspNTUyOTY9PSg2NDUxMiYoYz1zdHIuY2hhckNvZGVBdChtX3BvcykpKSYmbV9wb3MrMTxzdHJfbGVuJiY1NjMyMD09KDY0NTEyJihjMj1zdHIuY2hhckNvZGVBdChtX3BvcysxKSkpJiYoYz02NTUzNisoYy01NTI5Njw8MTApKyhjMi01NjMyMCksbV9wb3MrKyksYnVmX2xlbis9YzwxMjg/MTpjPDIwNDg/MjpjPDY1NTM2PzM6NDtmb3IoYnVmPW5ldyB1dGlscy5CdWY4KGJ1Zl9sZW4pLGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGM8MTI4P2J1ZltpKytdPWM6YzwyMDQ4PyhidWZbaSsrXT0xOTJ8Yz4+PjYsYnVmW2krK109MTI4fDYzJmMpOmM8NjU1MzY/KGJ1ZltpKytdPTIyNHxjPj4+MTIsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTooYnVmW2krK109MjQwfGM+Pj4xOCxidWZbaSsrXT0xMjh8Yz4+PjEyJjYzLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk7cmV0dXJuIGJ1Zn0sZXhwb3J0cy5idWYyYmluc3RyaW5nPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIGJ1ZjJiaW5zdHJpbmcoYnVmLGJ1Zi5sZW5ndGgpfSxleHBvcnRzLmJpbnN0cmluZzJidWY9ZnVuY3Rpb24oc3RyKXtmb3IodmFyIGJ1Zj1uZXcgdXRpbHMuQnVmOChzdHIubGVuZ3RoKSxpPTAsbGVuPWJ1Zi5sZW5ndGg7aTxsZW47aSsrKWJ1ZltpXT1zdHIuY2hhckNvZGVBdChpKTtyZXR1cm4gYnVmfSxleHBvcnRzLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIGksb3V0LGMsY19sZW4sbGVuPW1heHx8YnVmLmxlbmd0aCx1dGYxNmJ1Zj1uZXcgQXJyYXkoMipsZW4pO2ZvcihvdXQ9MCxpPTA7aTxsZW47KWlmKChjPWJ1ZltpKytdKTwxMjgpdXRmMTZidWZbb3V0KytdPWM7ZWxzZSBpZigoY19sZW49X3V0ZjhsZW5bY10pPjQpdXRmMTZidWZbb3V0KytdPTY1NTMzLGkrPWNfbGVuLTE7ZWxzZXtmb3IoYyY9Mj09PWNfbGVuPzMxOjM9PT1jX2xlbj8xNTo3O2NfbGVuPjEmJmk8bGVuOyljPWM8PDZ8NjMmYnVmW2krK10sY19sZW4tLTtjX2xlbj4xP3V0ZjE2YnVmW291dCsrXT02NTUzMzpjPDY1NTM2P3V0ZjE2YnVmW291dCsrXT1jOihjLT02NTUzNix1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMyx1dGYxNmJ1ZltvdXQrK109NTYzMjB8MTAyMyZjKX1yZXR1cm4gYnVmMmJpbnN0cmluZyh1dGYxNmJ1ZixvdXQpfSxleHBvcnRzLnV0Zjhib3JkZXI9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvcztmb3IoKG1heD1tYXh8fGJ1Zi5sZW5ndGgpPmJ1Zi5sZW5ndGgmJihtYXg9YnVmLmxlbmd0aCkscG9zPW1heC0xO3Bvcz49MCYmMTI4PT0oMTkyJmJ1Zltwb3NdKTspcG9zLS07cmV0dXJuIHBvczwwP21heDowPT09cG9zP21heDpwb3MrX3V0ZjhsZW5bYnVmW3Bvc11dPm1heD9wb3M6bWF4fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5MT0NBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAzXHUwMDA0XCIsZXhwb3J0cy5DRU5UUkFMX0ZJTEVfSEVBREVSPVwiUEtcdTAwMDFcdTAwMDJcIixleHBvcnRzLkNFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA1XHUwMDA2XCIsZXhwb3J0cy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SPVwiUEtcdTAwMDZcdTAwMDdcIixleHBvcnRzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA2XHUwMDA2XCIsZXhwb3J0cy5EQVRBX0RFU0NSSVBUT1I9XCJQS1x1MDAwN1xcYlwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksQXJyYXlSZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MyksU3RyaW5nUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTIxKSxOb2RlQnVmZmVyUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTIyKSxVaW50OEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzUpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGRhdGEpe3ZhciB0eXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKTtyZXR1cm4gdXRpbHMuY2hlY2tTdXBwb3J0KHR5cGUpLFwic3RyaW5nXCIhPT10eXBlfHxzdXBwb3J0LnVpbnQ4YXJyYXk/XCJub2RlYnVmZmVyXCI9PT10eXBlP25ldyBOb2RlQnVmZmVyUmVhZGVyKGRhdGEpOnN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheVJlYWRlcih1dGlscy50cmFuc2Zvcm1UbyhcInVpbnQ4YXJyYXlcIixkYXRhKSk6bmV3IEFycmF5UmVhZGVyKHV0aWxzLnRyYW5zZm9ybVRvKFwiYXJyYXlcIixkYXRhKSk6bmV3IFN0cmluZ1JlYWRlcihkYXRhKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBEYXRhUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzQpO2Z1bmN0aW9uIEFycmF5UmVhZGVyKGRhdGEpe0RhdGFSZWFkZXIuY2FsbCh0aGlzLGRhdGEpO2Zvcih2YXIgaT0wO2k8dGhpcy5kYXRhLmxlbmd0aDtpKyspZGF0YVtpXT0yNTUmZGF0YVtpXX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKEFycmF5UmVhZGVyLERhdGFSZWFkZXIpLEFycmF5UmVhZGVyLnByb3RvdHlwZS5ieXRlQXQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnplcm8raV19LEFycmF5UmVhZGVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbihzaWcpe2Zvcih2YXIgc2lnMD1zaWcuY2hhckNvZGVBdCgwKSxzaWcxPXNpZy5jaGFyQ29kZUF0KDEpLHNpZzI9c2lnLmNoYXJDb2RlQXQoMiksc2lnMz1zaWcuY2hhckNvZGVBdCgzKSxpPXRoaXMubGVuZ3RoLTQ7aT49MDstLWkpaWYodGhpcy5kYXRhW2ldPT09c2lnMCYmdGhpcy5kYXRhW2krMV09PT1zaWcxJiZ0aGlzLmRhdGFbaSsyXT09PXNpZzImJnRoaXMuZGF0YVtpKzNdPT09c2lnMylyZXR1cm4gaS10aGlzLnplcm87cmV0dXJuLTF9LEFycmF5UmVhZGVyLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXt2YXIgc2lnMD1zaWcuY2hhckNvZGVBdCgwKSxzaWcxPXNpZy5jaGFyQ29kZUF0KDEpLHNpZzI9c2lnLmNoYXJDb2RlQXQoMiksc2lnMz1zaWcuY2hhckNvZGVBdCgzKSxkYXRhPXRoaXMucmVhZERhdGEoNCk7cmV0dXJuIHNpZzA9PT1kYXRhWzBdJiZzaWcxPT09ZGF0YVsxXSYmc2lnMj09PWRhdGFbMl0mJnNpZzM9PT1kYXRhWzNdfSxBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7aWYodGhpcy5jaGVja09mZnNldChzaXplKSwwPT09c2l6ZSlyZXR1cm5bXTt2YXIgcmVzdWx0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtzaXplKTtyZXR1cm4gdGhpcy5pbmRleCs9c2l6ZSxyZXN1bHR9LG1vZHVsZS5leHBvcnRzPUFycmF5UmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtmdW5jdGlvbiBEYXRhUmVhZGVyKGRhdGEpe3RoaXMuZGF0YT1kYXRhLHRoaXMubGVuZ3RoPWRhdGEubGVuZ3RoLHRoaXMuaW5kZXg9MCx0aGlzLnplcm89MH1EYXRhUmVhZGVyLnByb3RvdHlwZT17Y2hlY2tPZmZzZXQ6ZnVuY3Rpb24ob2Zmc2V0KXt0aGlzLmNoZWNrSW5kZXgodGhpcy5pbmRleCtvZmZzZXQpfSxjaGVja0luZGV4OmZ1bmN0aW9uKG5ld0luZGV4KXtpZih0aGlzLmxlbmd0aDx0aGlzLnplcm8rbmV3SW5kZXh8fG5ld0luZGV4PDApdGhyb3cgbmV3IEVycm9yKFwiRW5kIG9mIGRhdGEgcmVhY2hlZCAoZGF0YSBsZW5ndGggPSBcIit0aGlzLmxlbmd0aCtcIiwgYXNrZWQgaW5kZXggPSBcIituZXdJbmRleCtcIikuIENvcnJ1cHRlZCB6aXAgP1wiKX0sc2V0SW5kZXg6ZnVuY3Rpb24obmV3SW5kZXgpe3RoaXMuY2hlY2tJbmRleChuZXdJbmRleCksdGhpcy5pbmRleD1uZXdJbmRleH0sc2tpcDpmdW5jdGlvbihuKXt0aGlzLnNldEluZGV4KHRoaXMuaW5kZXgrbil9LGJ5dGVBdDpmdW5jdGlvbihpKXt9LHJlYWRJbnQ6ZnVuY3Rpb24oc2l6ZSl7dmFyIGkscmVzdWx0PTA7Zm9yKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksaT10aGlzLmluZGV4K3NpemUtMTtpPj10aGlzLmluZGV4O2ktLSlyZXN1bHQ9KHJlc3VsdDw8OCkrdGhpcy5ieXRlQXQoaSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxyZWFkU3RyaW5nOmZ1bmN0aW9uKHNpemUpe3JldHVybiB1dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMucmVhZERhdGEoc2l6ZSkpfSxyZWFkRGF0YTpmdW5jdGlvbihzaXplKXt9LGxhc3RJbmRleE9mU2lnbmF0dXJlOmZ1bmN0aW9uKHNpZyl7fSxyZWFkQW5kQ2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oc2lnKXt9LHJlYWREYXRlOmZ1bmN0aW9uKCl7dmFyIGRvc3RpbWU9dGhpcy5yZWFkSW50KDQpO3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxOTgwKyhkb3N0aW1lPj4yNSYxMjcpLChkb3N0aW1lPj4yMSYxNSktMSxkb3N0aW1lPj4xNiYzMSxkb3N0aW1lPj4xMSYzMSxkb3N0aW1lPj41JjYzLCgzMSZkb3N0aW1lKTw8MSkpfX0sbW9kdWxlLmV4cG9ydHM9RGF0YVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzMpO2Z1bmN0aW9uIFVpbnQ4QXJyYXlSZWFkZXIoZGF0YSl7QXJyYXlSZWFkZXIuY2FsbCh0aGlzLGRhdGEpfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoVWludDhBcnJheVJlYWRlcixBcnJheVJlYWRlciksVWludDhBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7aWYodGhpcy5jaGVja09mZnNldChzaXplKSwwPT09c2l6ZSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1VaW50OEFycmF5UmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRT1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24td2lkZ2V0XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ9XCJib3R0b21SaWdodFwiLGV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVD1cImJvdHRvbUxlZnRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUPVwidG9wUmlnaHRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ9XCJ0b3BMZWZ0XCIsZXhwb3J0cy5XSURHRVRfQ09OVEFJTkVSX0lEPVwicHVzaHdvb3NoQmVsbFdpZGdldFwiLGV4cG9ydHMuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRz17cG9zaXRpb246ZXhwb3J0cy5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZULGJnQ29sb3I6XCIjMTJBRTdFXCIsYmVsbENvbG9yOlwid2hpdGVcIixiZWxsU3Ryb2tlQ29sb3I6XCIjMDg3NTRmXCIsYmVsbEJ1dHRvbkJvcmRlcjpcIjFweCBzb2xpZCAjMzc5Njc2XCIsc2hhZG93OlwiMHB4IDBweCA2cHggcmdiYSgwLCAwLCAwLCAwLjc1KVwiLHNpemU6XCI0OHB4XCIsaW5kZW50OlwiMjBweFwiLHpJbmRleDpcIjk5OTk5OVwiLHRvb2x0aXBUZXh0OntzdWNjZXNzU3Vic2NyaWJlOlwiWW91IGFyZSBzdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCFcIixuZWVkU3Vic2NyaWJlOlwiR2V0IG5vdGlmaWNhdGlvbnMgYWJvdXQgaW1wb3J0YW50IG5ld3MhXCIsYmxvY2tTdWJzY3JpYmU6XCJDbGljayB0byBzZWUgaG93IHRvIGdldCBub3RpZmljYXRpb25zXCIsYWxyZWFkeVN1YnNjcmliZWQ6XCJZb3UgYXJlIGFscmVhZHkgc3Vic2NyaWJlZFwifX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBQdXNod29vc2hfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtleHBvcnRzLlB1c2h3b29zaD1QdXNod29vc2hfMS5kZWZhdWx0LF9fd2VicGFja19yZXF1aXJlX18oMTQ1KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSksX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTMpLEV2ZW50QnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNCksQXBpXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNiksRGF0YV8xPV9fd2VicGFja19yZXF1aXJlX18oNSksQXBpQ2xpZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygyOCksUHVzaFNlcnZpY2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwKSxQb3B1cF8xPV9fd2VicGFja19yZXF1aXJlX18oODIpLFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0XzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4NCksU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0XzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjUpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGZ1bmN0aW9uc18xPV9fd2VicGFja19yZXF1aXJlX18oMTApLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjEpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNCksRmFjZWJvb2tNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyksSW5BcHBzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjgpLHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLEluYm94TWVzc2FnZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KSxJbmJveE1lc3NhZ2VzUHVibGljXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyNyksUHVzaHdvb3NoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaHdvb3NoKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5yZWFkeT0hMSx0aGlzLmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihuYW1lLGhhbmRsZXIpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIobmFtZSxoYW5kbGVyKX0sdGhpcy5yZW1vdmVFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXtyZXR1cm4gX3RoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRIYW5kbGVyKG5hbWUsaGFuZGxlcil9LHRoaXMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuYW1lLHBheWxvYWQpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KG5hbWUscGF5bG9hZCl9LHRoaXMuZGVidWc9e3Nob3dMb2c6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpdGVtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLmxvZy5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBpdGVtcz1fYS5zZW50KCksY29uc29sZS5sb2coaXRlbXMpLFsyXX19KX0pfSxzaG93S2V5VmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXRlbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBpdGVtcz1fYS5zZW50KCksY29uc29sZS5sb2coaXRlbXMpLFsyXX19KX0pfSxzaG93TWVzc2FnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzdG9yYWdlXzEubWVzc2FnZS5nZXRBbGwoKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCkuZm9yRWFjaChmdW5jdGlvbihpKXtyZXR1cm4gY29uc29sZS5sb2coaSl9KSxbMl19fSl9KX19LHRoaXMuZXZlbnRCdXM9bmV3IEV2ZW50QnVzXzEuRXZlbnRCdXMsdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YSx0aGlzLmFwaUNsaWVudD1uZXcgQXBpQ2xpZW50XzEuQXBpQ2xpZW50KHRoaXMuZGF0YSksdGhpcy5hcGk9bmV3IEFwaV8xLkFwaSh0aGlzLmV2ZW50QnVzLHRoaXMuZGF0YSx0aGlzLmFwaUNsaWVudCksdGhpcy5wbGF0Zm9ybUNoZWNrZXI9bmV3IFBsYXRmb3JtQ2hlY2tlcl8xLlBsYXRmb3JtQ2hlY2tlcix0aGlzLmluYm94TW9kZWw9bmV3IEluYm94TWVzc2FnZXNfMS5kZWZhdWx0KHRoaXMuZXZlbnRCdXMsdGhpcy5kYXRhLHRoaXMuYXBpKSx0aGlzLnB3aW5ib3g9bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzLmluYm94TW9kZWwpLHRoaXMub25TZXJ2aWNlV29ya2VyTWVzc2FnZT10aGlzLm9uU2VydmljZVdvcmtlck1lc3NhZ2UuYmluZCh0aGlzKTt2YXIgcG9wdXA9bmV3IFBvcHVwXzEuUG9wdXAoXCJzdWJzY3JpcHRpb24tc2VnbWVudHNcIixmdW5jdGlvbigpe3JldHVybiBfdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwiaGlkZS1zdWJzY3JpcHRpb24td2lkZ2V0XCIse30pfSx7cG9zaXRpb246XCJ0b3BcIn0pO3RoaXMuc3Vic2NyaXB0aW9uU2VnbWVudFdpZGdldD1uZXcgU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfMS5TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldCh0aGlzLmV2ZW50QnVzLHRoaXMuZGF0YSx0aGlzLmFwaUNsaWVudCx0aGlzLmFwaSxwb3B1cCx0aGlzKSx0aGlzLnN1YnNjcmlwdGlvblByb21wdFdpZGdldD1uZXcgU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0XzEuU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0KHRoaXMuZXZlbnRCdXMsdGhpcyl9cmV0dXJuIFB1c2h3b29zaC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjb21tYW5kKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb21tYW5kKXtpZighQXJyYXkuaXNBcnJheShjb21tYW5kKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbW1hbmQhXCIpO3N3aXRjaChjb21tYW5kWzBdKXtjYXNlXCJpbml0XCI6dGhpcy5pbml0aWFsaXplKGNvbW1hbmRbMV0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0xPQUQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUkVBRFk6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUkVHSVNURVI6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU1VCU0NSSUJFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VOU1VCU0NSSUJFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NXX0lOSVRfRVJST1I6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVTSF9ERUxJVkVSWTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9OT1RJRklDQVRJT05fQ0xJQ0s6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0NIQU5HRV9DT01NVU5JQ0FUSU9OX0VOQUJMRUQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVUX05FV19NRVNTQUdFX1RPX0lOQk9YX1NUT1JFOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TSE9XX1NVQlNDUklQVElPTl9XSURHRVQ6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVEOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRDp0aGlzLnN1YnNjcmliZVRvTGVnYWN5RXZlbnRzKGNvbW1hbmRbMF0sY29tbWFuZFsxXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbW1hbmQhXCIpfX1lbHNlIHRoaXMuc3Vic2NyaWJlVG9MZWdhY3lFdmVudHMoXCJvblJlYWR5XCIsY29tbWFuZCl9LFB1c2h3b29zaC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGlzRm9yY2VTdWJzY3JpYmUpe3JldHVybiB2b2lkIDA9PT1pc0ZvcmNlU3Vic2NyaWJlJiYoaXNGb3JjZVN1YnNjcmliZT0hMCksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uXzEscGVybWlzc2lvbixpc01hbnVhbFVuc3Vic2NyaWJlZCxpc0RldmljZVJlZ2lzdGVyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZCYmbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiQ29tbXVuaWNhdGlvbiBpcyBkaXNhYmxlZCFcIiksdGhpcy5kcml2ZXIuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0KCk/KHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInNob3ctbm90aWZpY2F0aW9uLXBlcm1pc3Npb24tZGlhbG9nXCIse30pLFs0LHRoaXMuZHJpdmVyLmFza1Blcm1pc3Npb24oKV0pOlszLDJdO2Nhc2UgMTpfYS5zZW50KCkscGVybWlzc2lvbl8xPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJoaWRlLW5vdGlmaWNhdGlvbi1wZXJtaXNzaW9uLWRpYWxvZ1wiLHtwZXJtaXNzaW9uOnBlcm1pc3Npb25fMX0pLF9hLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMzpyZXR1cm4gaXNNYW51YWxVbnN1YnNjcmliZWQ9X2Euc2VudCgpLFs0LHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoITEpXTtjYXNlIDQ6cmV0dXJuIGlzRGV2aWNlUmVnaXN0ZXI9X2Euc2VudCgpLHBlcm1pc3Npb24hPT1DT05TVEFOVFMuUEVSTUlTU0lPTl9HUkFOVEVEP1szLDddOih0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWdyYW50ZWRcIix7fSksIShpc0ZvcmNlU3Vic2NyaWJlfHwhaXNNYW51YWxVbnN1YnNjcmliZWQpfHxpc0RldmljZVJlZ2lzdGVyP1szLDZdOls0LHRoaXMuZHJpdmVyLnN1YnNjcmliZSgpXSk7Y2FzZSA1Ol9hLnNlbnQoKSxfYS5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlXCIse30pLFsyXTtjYXNlIDc6cmV0dXJuIHBlcm1pc3Npb24hPT1DT05TVEFOVFMuUEVSTUlTU0lPTl9ERU5JRUQ/WzMsMTBdOih0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWRlbmllZFwiLHt9KSxpc0RldmljZVJlZ2lzdGVyP1s0LHRoaXMuZHJpdmVyLnVuc3Vic2NyaWJlKCldOlszLDldKTtjYXNlIDg6X2Euc2VudCgpLF9hLmxhYmVsPTk7Y2FzZSA5OmNhc2UgMTA6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl8xO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX2EudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCx0aGlzLmRyaXZlci51bnN1YnNjcmliZSgpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMywzXTtjYXNlIDI6cmV0dXJuIGVycm9yXzE9X2Euc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcl8xLFwiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZVwiKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZm9yY2VTdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN1YnNjcmliZSghMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlUmVnaXN0ZXJlZD1mdW5jdGlvbigpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKT09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlVW5yZWdpc3RlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpPT09Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRH0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc1N1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCldfSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0NvbW11bmljYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCgpXTtjYXNlIDE6cmV0dXJuWzIsIV9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZXRDb21tdW5pY2F0aW9uRW5hYmxlZD1mdW5jdGlvbihpc0VuYWJsZWQpe3JldHVybiB2b2lkIDA9PT1pc0VuYWJsZWQmJihpc0VuYWJsZWQ9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZSxpc1Blcm1pc3Npb25HcmFudGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDE6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ9dGhpcy5kcml2ZXIuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkKCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCghaXNFbmFibGVkKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksaXNFbmFibGVkP1s0LHRoaXMuZGF0YS5zZXRTdGF0dXNEcm9wQWxsRGF0YSghMSldOlszLDZdO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ/WzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV06WzMsNV07Y2FzZSA0Ol9hLnNlbnQoKSxfYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMyw4XTtjYXNlIDY6cmV0dXJuWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDc6X2Euc2VudCgpLF9hLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJjaGFuZ2UtZW5hYmxlZC1jb21tdW5pY2F0aW9uXCIse2lzRW5hYmxlZDppc0VuYWJsZWR9KSxbNCx0aGlzLmFwaS5wb3N0RXZlbnQoQ09OU1RBTlRTLkVWRU5UX0dEUFJfQ09OU0VOVCx7Y2hhbm5lbDppc0VuYWJsZWQsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZX0pXTtjYXNlIDk6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5yZW1vdmVBbGxEZXZpY2VEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAxOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxbNCx0aGlzLmFwaS5wb3N0RXZlbnQoQ09OU1RBTlRTLkVWRU5UX0dEUFJfREVMRVRFLHtzdGF0dXM6ITAsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZX0pXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS5kZWxldGVEZXZpY2UoKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLmNsZWFyQWxsKCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNEcm9wQWxsRGF0YSghMCldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldEhXSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFB1c2hUb2tlbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5wdXNoVG9rZW5dfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZ2V0VXNlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFVzZXJJZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnN9LFB1c2h3b29zaC5wcm90b3R5cGUuc2VuZFN0YXRpc3RpY3NWaXNpdGVkUGFnZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRpdGxlLF9hLG9yaWdpbixwYXRobmFtZSxocmVmO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGl0bGU9d2luZG93LmRvY3VtZW50LnRpdGxlLF9hPXdpbmRvdy5sb2NhdGlvbixvcmlnaW49X2Eub3JpZ2luLHBhdGhuYW1lPV9hLnBhdGhuYW1lLGhyZWY9X2EuaHJlZixbNCx0aGlzLmFwaS5wYWdlVmlzaXQoe3RpdGxlOnRpdGxlLHVybF9wYXRoOlwiXCIrb3JpZ2luK3BhdGhuYW1lLHVybDpocmVmfSldO2Nhc2UgMTpyZXR1cm4gX2Iuc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzRW5hYmxlQ2hhbm5lbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcyxjaGFubmVscztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm4gZmVhdHVyZXM9X2Euc2VudCgpLGNoYW5uZWxzPWZlYXR1cmVzJiZmZWF0dXJlcy5jaGFubmVscyxbMixBcnJheS5pc0FycmF5KGNoYW5uZWxzKSYmISFjaGFubmVscy5sZW5ndGhdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1hbnVhbERlYnVnLGFwcGxpY2F0aW9uQ29kZSxub3RTYXZlZEFwcGxpY2F0aW9uQ29kZSxpc0NoYW5nZUFwcGxpY2F0aW9uQ29kZSxpZCxjb25maWcsX2EsdXNlcklkV2FzQ2hhbmdlLGluQXBwc0NvbmZpZyxlcnJvcl8yLGVycm9yXzMsZGVsYXllZEV2ZW50LHR5cGUscGF5bG9hZCxoYXNoUmVnLGhhc2g7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBtYW51YWxEZWJ1Zz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuTUFOVUFMX1NFVF9MT0dHRVJfTEVWRUwpLGxvZ2dlcl8xLkxvZ2dlci5zZXRMZXZlbChtYW51YWxEZWJ1Z3x8cGFyYW1zLmxvZ0xldmVsfHxcImVycm9yXCIpLHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz9bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldOlsyXTtjYXNlIDE6aWYoYXBwbGljYXRpb25Db2RlPV9iLnNlbnQoKSwhcGFyYW1zLmFwcGxpY2F0aW9uQ29kZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGFwcGxpY2F0aW9uIGNvZGUhXCIpO3JldHVybiBub3RTYXZlZEFwcGxpY2F0aW9uQ29kZT0hYXBwbGljYXRpb25Db2RlLGlzQ2hhbmdlQXBwbGljYXRpb25Db2RlPWFwcGxpY2F0aW9uQ29kZSYmYXBwbGljYXRpb25Db2RlIT09cGFyYW1zLmFwcGxpY2F0aW9uQ29kZSxub3RTYXZlZEFwcGxpY2F0aW9uQ29kZXx8aXNDaGFuZ2VBcHBsaWNhdGlvbkNvZGU/WzQsdGhpcy5kYXRhLmNsZWFyQWxsKCldOlszLDRdO2Nhc2UgMjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRBcHBsaWNhdGlvbkNvZGUocGFyYW1zLmFwcGxpY2F0aW9uQ29kZSldO2Nhc2UgMzpfYi5zZW50KCksX2IubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSA1OnJldHVybiBfYi5zZW50KCk/WzMsN106KGlkPXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUrXCJfXCIrdXVpZF8xLnY0KCksWzQsdGhpcy5kYXRhLnNldEh3aWQoaWQpXSk7Y2FzZSA2OnJldHVybiBfYi5zZW50KCksWzMsOV07Y2FzZSA3OnJldHVybls0LHRoaXMuYXBpLmNoZWNrRGV2aWNlKCldO2Nhc2UgODpfYi5zZW50KCksX2IubGFiZWw9OTtjYXNlIDk6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERldmljZVR5cGUodGhpcy5wbGF0Zm9ybUNoZWNrZXIuZ2V0UGxhdGZvcm1UeXBlKCkpXTtjYXNlIDEwOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLnNldERldmljZU1vZGVsKHRoaXMucGxhdGZvcm1DaGVja2VyLmdldEJyb3dzZXJWZXJzaW9uKCkpXTtjYXNlIDExOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLnNldExhbmd1YWdlKHBhcmFtcy50YWdzJiZwYXJhbXMudGFncy5MYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlKV07Y2FzZSAxMjpyZXR1cm4gX2Iuc2VudCgpLHBhcmFtcy5wdXNod29vc2hVcmw/WzQsdGhpcy5kYXRhLnNldEFwaUVudHJ5cG9pbnQocGFyYW1zLnB1c2h3b29zaFVybCldOlszLDE0XTtjYXNlIDEzOl9iLnNlbnQoKSxfYi5sYWJlbD0xNDtjYXNlIDE0OnJldHVybls0LHRoaXMuZGF0YS5zZXRTZGtWZXJzaW9uKFwiMy4yNC4wXCIpXTtjYXNlIDE1OnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5hcGkuZ2V0Q29uZmlnKFtcInBhZ2VfdmlzaXRcIixcInZhcGlkX2tleVwiLFwid2ViX2luX2FwcHNcIixcImV2ZW50c1wiLFwic3Vic2NyaXB0aW9uX3Byb21wdFwiXSldO2Nhc2UgMTY6cmV0dXJuIGNvbmZpZz1fYi5zZW50KCksdGhpcy5vbkdldENvbmZpZyhjb25maWcmJmNvbmZpZy5mZWF0dXJlcyksdGhpcy5zdWJzY3JpYmVXaWRnZXRDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLnN1YnNjcmliZVdpZGdldCksdGhpcy5pbmJveFdpZGdldENvbmZpZz1fX2Fzc2lnbih7ZW5hYmxlOiExfSxwYXJhbXMuaW5ib3hXaWRnZXQpLHRoaXMuc3Vic2NyaWJlUG9wdXBDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLnN1YnNjcmliZVBvcHVwKSxfYT10aGlzLFs0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAxNzpyZXR1cm4gX2EuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWQ9X2Iuc2VudCgpLFs0LHRoaXMub3BlbigpXTtjYXNlIDE4OnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQoKV07Y2FzZSAxOTpyZXR1cm4gdXNlcklkV2FzQ2hhbmdlPV9iLnNlbnQoKSwhcGFyYW1zLnVzZXJJZHx8XCJ1c2VyX2lkXCI9PT1wYXJhbXMudXNlcklkfHx1c2VySWRXYXNDaGFuZ2U/WzMsMjFdOls0LHRoaXMuYXBpLnJlZ2lzdGVyVXNlcihwYXJhbXMudXNlcklkKV07Y2FzZSAyMDpfYi5zZW50KCksX2IubGFiZWw9MjE7Y2FzZSAyMTpyZXR1cm4gcGFyYW1zLnRhZ3MmJnRoaXMuYXBpLnNldFRhZ3MocGFyYW1zLnRhZ3MpLGluQXBwc0NvbmZpZz1fX2Fzc2lnbih7ZW5hYmxlOmNvbmZpZy5mZWF0dXJlcy53ZWJfaW5fYXBwcyYmY29uZmlnLmZlYXR1cmVzLndlYl9pbl9hcHBzLmVuYWJsZWR9LHBhcmFtcy5pbkFwcHMpLFs0LHRoaXMuaW5pdEluQXBwKGluQXBwc0NvbmZpZyldO2Nhc2UgMjI6cmV0dXJuIF9iLnNlbnQoKSx0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM/WzQsdGhpcy5pbml0UHVzaE5vdGlmaWNhdGlvbnMocGFyYW1zKV06WzMsMjRdO2Nhc2UgMjM6X2Iuc2VudCgpLF9iLmxhYmVsPTI0O2Nhc2UgMjQ6cmV0dXJuIF9iLnRyeXMucHVzaChbMjQsMjYsLDI3XSksWzQsdGhpcy5pbmJveE1vZGVsLnVwZGF0ZU1lc3NhZ2VzKCldO2Nhc2UgMjU6cmV0dXJuIF9iLnNlbnQoKSxbMywyN107Y2FzZSAyNjpyZXR1cm4gZXJyb3JfMj1fYi5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLndyaXRlKFwiZXJyb3JcIixlcnJvcl8yKSxbMywyN107Y2FzZSAyNzpyZXR1cm4gX2IudHJ5cy5wdXNoKFsyNywyOSwsMzBdKSxbNCx0aGlzLmluaXRGYWNlYm9vayhwYXJhbXMpXTtjYXNlIDI4OnJldHVybiBfYi5zZW50KCksWzMsMzBdO2Nhc2UgMjk6cmV0dXJuIGVycm9yXzM9X2Iuc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsZXJyb3JfMyksWzMsMzBdO2Nhc2UgMzA6cmV0dXJuIHRoaXMucmVhZHk9ITAsdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIix7fSksWzQsdGhpcy5kYXRhLmdldERlbGF5ZWRFdmVudCgpXTtjYXNlIDMxOnJldHVybihkZWxheWVkRXZlbnQ9X2Iuc2VudCgpKT8odHlwZT1kZWxheWVkRXZlbnQudHlwZSxwYXlsb2FkPWRlbGF5ZWRFdmVudC5wYXlsb2FkLFs0LHRoaXMuZW1pdExlZ2FjeUV2ZW50c0Zyb21TZXJ2aWNlV29ya2VyKHR5cGUscGF5bG9hZCldKTpbMywzNF07Y2FzZSAzMjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXREZWxheWVkRXZlbnQobnVsbCldO2Nhc2UgMzM6X2Iuc2VudCgpLF9iLmxhYmVsPTM0O2Nhc2UgMzQ6cmV0dXJuXCJzZXJ2aWNlV29ya2VyXCJpbiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5vbm1lc3NhZ2U9dGhpcy5vblNlcnZpY2VXb3JrZXJNZXNzYWdlKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInB1c2h3b29zaC13ZWJzZGstc3RhdHVzXCIsXCJpbml0XCIpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIse2RldGFpbDp7cHc6dGhpc319KSksdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNTYWZhcmkmJihoYXNoUmVnPS8jUCguKikvLGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhhc2gpLGhhc2hSZWcudGVzdChoYXNoKSYmdGhpcy5hcGkucHVzaFN0YXQoaGFzaFJlZy5leGVjKGhhc2gpWzFdKS50aGVuKGZ1bmN0aW9uc18xLmNsZWFyTG9jYXRpb25IYXNoKSksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZGVmYXVsdFByb2Nlc3M9ZnVuY3Rpb24oaW5pdFBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGVybWlzc2lvbixpc0NvbW11bmljYXRpb25EaXNhYmxlZCxpc0Ryb3BBbGxEYXRhLGlzTmVlZFJlc3Vic2NyaWJlLGZlYXR1cmVzLGN1cnJlbnRQcm9tcHRVc2VDYXNlLGF1dG9TdWJzY3JpYmUsaXNNYW51YWxVbnN1YnNjcmliZWQsaXNSZWdpc3Rlcix3aWRnZXRDb25maWcsaXNEZWZhdWx0VXNlQ2FzZSxpc05vdFNldFVzZUNhc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm5cImdyYW50ZWRcIiE9PShwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSk/WzMsMl06WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTtjYXNlIDE6X2Iuc2VudCgpLF9iLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAzOnJldHVybiBpc0NvbW11bmljYXRpb25EaXNhYmxlZD1fYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c0Ryb3BBbGxEYXRhKCldO2Nhc2UgNDpyZXR1cm4gaXNEcm9wQWxsRGF0YT1fYi5zZW50KCksWzQsdGhpcy5kcml2ZXIuY2hlY2tJc05lZWRSZXN1YnNjcmliZSgpXTtjYXNlIDU6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlPV9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSA2OnJldHVybiBmZWF0dXJlcz1fYi5zZW50KCksY3VycmVudFByb21wdFVzZUNhc2U9ZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdCYmZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdC51c2VfY2FzZSxpc0NvbW11bmljYXRpb25EaXNhYmxlZHx8aXNEcm9wQWxsRGF0YT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDhdO2Nhc2UgNzpyZXR1cm4gX2Iuc2VudCgpLFsyXTtjYXNlIDg6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlP1s0LHRoaXMudW5zdWJzY3JpYmUoKV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITEpXTtjYXNlIDEwOl9iLnNlbnQoKSxfYi5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBhdXRvU3Vic2NyaWJlPWluaXRQYXJhbXMuYXV0b1N1YnNjcmliZSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMTI6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9iLnNlbnQoKSxbNCx0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCExKV07Y2FzZSAxMzpzd2l0Y2goaXNSZWdpc3Rlcj1fYi5zZW50KCkscGVybWlzc2lvbil7Y2FzZSBDT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFQ6cmV0dXJuWzMsMTRdO2Nhc2UgQ09OU1RBTlRTLlBFUk1JU1NJT05fREVOSUVEOnJldHVyblszLDIyXTtjYXNlIENPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzMsMjVdfXJldHVyblszLDMxXTtjYXNlIDE0OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWRlZmF1bHRcIix7fSksaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDE2XTtjYXNlIDE1Ol9iLnNlbnQoKSxfYi5sYWJlbD0xNjtjYXNlIDE2OnJldHVybls0LHRoaXMuZ2V0V2lkZ2V0Q29uZmlnKCldO2Nhc2UgMTc6cmV0dXJuIHdpZGdldENvbmZpZz1fYi5zZW50KCksWzQsdGhpcy5jaGVja0NhblNob3dCeUNhcHBpbmcod2lkZ2V0Q29uZmlnKV07Y2FzZSAxODpyZXR1cm4gX2Iuc2VudCgpP2N1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfVE9QSUNfQkFTRUQ/WzQsdGhpcy5zdWJzY3JpcHRpb25TZWdtZW50V2lkZ2V0LmluaXQoKV06WzMsMjBdOlszLDMxXTtjYXNlIDE5Ol9iLnNlbnQoKSxfYi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiBpc0RlZmF1bHRVc2VDYXNlPWN1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfREVGQVVMVCxpc05vdFNldFVzZUNhc2U9Y3VycmVudFByb21wdFVzZUNhc2U9PT1DT05TVEFOVFMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUJiZhdXRvU3Vic2NyaWJlLChpc0RlZmF1bHRVc2VDYXNlfHxpc05vdFNldFVzZUNhc2UpJiYodGhpcy5zdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQuaW5pdCh3aWRnZXRDb25maWcpLHRoaXMuc3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnNob3coKSksWzQsdGhpcy51cGRhdGVDYXBwaW5nUGFyYW1zKCldO2Nhc2UgMjE6cmV0dXJuIF9iLnNlbnQoKSxbMywzMV07Y2FzZSAyMjpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1kZW5pZWRcIix7fSksaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDI0XTtjYXNlIDIzOl9iLnNlbnQoKSxfYi5sYWJlbD0yNDtjYXNlIDI0OnJldHVyblszLDMxXTtjYXNlIDI1OnJldHVybiB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJwZXJtaXNzaW9uLWdyYW50ZWRcIix7fSksaXNNYW51YWxVbnN1YnNjcmliZWQmJmlzUmVnaXN0ZXI/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMywyN107Y2FzZSAyNjpfYi5zZW50KCksX2IubGFiZWw9Mjc7Y2FzZSAyNzpyZXR1cm4haXNSZWdpc3RlciYmIWlzTWFudWFsVW5zdWJzY3JpYmVkfHxpc05lZWRSZXN1YnNjcmliZT9bNCx0aGlzLnN1YnNjcmliZSghMCldOlszLDMwXTtjYXNlIDI4OnJldHVybiBfYi5zZW50KCksY3VycmVudFByb21wdFVzZUNhc2U9PT1DT05TVEFOVFMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9UT1BJQ19CQVNFRD8ocmVzdWx0PWZlYXR1cmVzLmNoYW5uZWxzLm1hcChmdW5jdGlvbihjaGFubmVsKXtyZXR1cm4gY2hhbm5lbC5jb2RlfSksWzQsdGhpcy5hcGkuc2V0VGFncyh7XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIjpyZXN1bHR9KV0pOlszLDMwXTtjYXNlIDI5Ol9iLnNlbnQoKSxfYi5sYWJlbD0zMDtjYXNlIDMwOnJldHVyblszLDMxXTtjYXNlIDMxOnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFdpZGdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGZlYXR1cmVzLGN1cnJlbnRDb25maWcsY29uZmlnV2l0aERlZmF1bHRDYXBwaW5nO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSAxOnJldHVybiBmZWF0dXJlcz1fYS5zZW50KCksY3VycmVudENvbmZpZz1mZWF0dXJlcy5zdWJzY3JpcHRpb25fcHJvbXB0X3dpZGdldCYmZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdF93aWRnZXQucGFyYW1zLGNvbmZpZ1dpdGhEZWZhdWx0Q2FwcGluZz1fX2Fzc2lnbih7Y2FwcGluZ0NvdW50OkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRy5jYXBwaW5nQ291bnQsY2FwcGluZ0RlbGF5OkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRy5jYXBwaW5nRGVsYXl9LGN1cnJlbnRDb25maWcpLFsyLGN1cnJlbnRDb25maWc/Y29uZmlnV2l0aERlZmF1bHRDYXBwaW5nOkNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJR119fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5jaGVja0NhblNob3dCeUNhcHBpbmc9ZnVuY3Rpb24od2lkZ2V0Q29uZmlnKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBjdXJyZW50VGltZSxkaXNwbGF5Q291bnQsbGFzdFNlZW5UaW1lLGNhblNob3dCeUNhcHBpbmcsY2FuU2hvd0J5TGFzdFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBjdXJyZW50VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxbNCx0aGlzLmRhdGEuZ2V0UHJvbXB0RGlzcGxheUNvdW50KCldO2Nhc2UgMTpyZXR1cm4gZGlzcGxheUNvdW50PV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0UHJvbXB0TGFzdFNlZW5UaW1lKCldO2Nhc2UgMjpyZXR1cm4gbGFzdFNlZW5UaW1lPV9hLnNlbnQoKSxjYW5TaG93QnlDYXBwaW5nPXdpZGdldENvbmZpZy5jYXBwaW5nQ291bnQ+ZGlzcGxheUNvdW50LGNhblNob3dCeUxhc3RUaW1lPWN1cnJlbnRUaW1lLWxhc3RTZWVuVGltZT53aWRnZXRDb25maWcuY2FwcGluZ0RlbGF5LFsyLGNhblNob3dCeUNhcHBpbmcmJmNhblNob3dCeUxhc3RUaW1lXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLnVwZGF0ZUNhcHBpbmdQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkaXNwbGF5Q291bnQsY3VycmVudFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRQcm9tcHREaXNwbGF5Q291bnQoKV07Y2FzZSAxOnJldHVybiBkaXNwbGF5Q291bnQ9X2Euc2VudCgpLGN1cnJlbnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFs0LHRoaXMuZGF0YS5zZXRQcm9tcHREaXNwbGF5Q291bnQoZGlzcGxheUNvdW50KzEpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0UHJvbXB0TGFzdFNlZW5UaW1lKGN1cnJlbnRUaW1lKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdEZhY2Vib29rPWZ1bmN0aW9uKGluaXRQYXJhbXMpe3ZhciBmYWNlYm9vaz1fX2Fzc2lnbih7ZW5hYmxlOiExLHBhZ2VJZDpcIlwiLGNvbnRhaW5lckNsYXNzOlwiXCJ9LGluaXRQYXJhbXMuZmFjZWJvb2spO2lmKGZhY2Vib29rJiZmYWNlYm9vay5lbmFibGUpdHJ5e25ldyBGYWNlYm9va01vZHVsZV8xLmRlZmF1bHQoe3BhZ2VJZDpmYWNlYm9vay5wYWdlSWQsY29udGFpbmVyQ2xhc3M6ZmFjZWJvb2suY29udGFpbmVyQ2xhc3MsYXBwbGljYXRpb25Db2RlOmluaXRQYXJhbXMuYXBwbGljYXRpb25Db2RlLHVzZXJJZDppbml0UGFyYW1zLnVzZXJJZHx8XCJcIn0pfWNhdGNoKGVycm9yKXtsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyb3IsXCJmYWNlYm9vayBtb2R1bGUgaW5pdGlhbGl6YXRpb24gZmFpbGVkXCIpfX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0SW5BcHA9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl80LF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKCFwYXJhbXN8fCFwYXJhbXMuZW5hYmxlKXJldHVyblszLDRdO19hLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBfYS50cnlzLnB1c2goWzEsMywsNF0pLHRoaXMuSW5BcHBzPW5ldyBJbkFwcHNfMS5JbkFwcHMocGFyYW1zLHRoaXMsdGhpcy5ldmVudEJ1cyx0aGlzLmFwaSksWzQsdGhpcy5JbkFwcHMuaW5pdCgpLnRoZW4oZnVuY3Rpb24oKXtsb2dnZXJfMS5Mb2dnZXIuaW5mbyhcIkluQXBwcyBtb2R1bGUgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcIiksX3RoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcImluaXRpYWxpemUtaW4tYXBwcy1tb2R1bGVcIix7fSl9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7bG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yLFwiSW5BcHBzIG1vZHVsZSBpbml0aWFsaXphdGlvbiBoYXMgYmVlbiBmYWlsZWRcIil9KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzMsNF07Y2FzZSAzOnJldHVybiBlcnJvcl80PV9hLnNlbnQoKSxsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyb3JfNCxcIkluQXBwIG1vZHVsZSBpbml0aWFsaXphdGlvbiBoYXMgYmVlbiBmYWlsZWRcIiksWzMsNF07Y2FzZSA0OnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLm9uU2VydmljZVdvcmtlck1lc3NhZ2U9ZnVuY3Rpb24oZXZlbnQpe3ZhciBfYT0oZXZlbnR8fHt9KS5kYXRhLF9iPSh2b2lkIDA9PT1fYT97fTpfYSl8fHt9LF9jPV9iLnR5cGUsdHlwZT12b2lkIDA9PT1fYz9cIlwiOl9jLF9kPV9iLnBheWxvYWQscGF5bG9hZD12b2lkIDA9PT1fZD97fTpfZDt0aGlzLmVtaXRMZWdhY3lFdmVudHNGcm9tU2VydmljZVdvcmtlcih0eXBlLHBheWxvYWQpfSxQdXNod29vc2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oaXNGb3JjZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbGFzdEFwcGxpY2F0aW9uT3BlblRpbWUsY3VycmVudFRpbWUsaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZSgpXTtjYXNlIDE6cmV0dXJuIGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lPV9hLnNlbnQoKSxjdXJyZW50VGltZT1EYXRlLm5vdygpLGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lfHwobGFzdEFwcGxpY2F0aW9uT3BlblRpbWU9MCksaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ9Y3VycmVudFRpbWUtbGFzdEFwcGxpY2F0aW9uT3BlblRpbWU8Q09OU1RBTlRTLlBFUklPRF9TRU5EX0FQUF9PUEVOLGlzRm9yY2V8fCFpc1NlbmRpbmdQZXJpb2RFeGNlZWRlZD9bNCx0aGlzLmRhdGEuc2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWUoY3VycmVudFRpbWUpXTpbMl07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkuYXBwbGljYXRpb25PcGVuKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLm9uR2V0Q29uZmlnPWZ1bmN0aW9uKGZlYXR1cmVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0RmVhdHVyZXMoZmVhdHVyZXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxmZWF0dXJlcz9mZWF0dXJlcy5wYWdlX3Zpc2l0JiZmZWF0dXJlcy5wYWdlX3Zpc2l0LmVuYWJsZWQ/WzQsc3RvcmFnZV8xLmtleVZhbHVlLnNldChDT05TVEFOVFMuUEFHRV9WSVNJVEVEX1VSTCxmZWF0dXJlcy5wYWdlX3Zpc2l0LmVudHJ5cG9pbnQpXTpbMywzXTpbMyw1XTtjYXNlIDI6X2Euc2VudCgpLHRoaXMuc2VuZFN0YXRpc3RpY3NWaXNpdGVkUGFnZSgpLF9hLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBmZWF0dXJlcy5ldmVudHMmJmZlYXR1cmVzLmV2ZW50cy5sZW5ndGgmJmZlYXR1cmVzLmV2ZW50cy5zb21lKGZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gZXZlbnQ9PT1DT05TVEFOVFMuRVZFTlRfUFdfU0lURV9PUEVORUR9KSYmdGhpcy5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2UoKSxmZWF0dXJlcy52YXBpZF9rZXk/WzQsdGhpcy5kYXRhLnNldEFwcGxpY2F0aW9uU2VydmVyS2V5KGZlYXR1cmVzLnZhcGlkX2tleSldOlszLDVdO2Nhc2UgNDpfYS5zZW50KCksX2EubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdFB1c2hOb3RpZmljYXRpb25zPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfNTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25JbWFnZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25UaXRsZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFNlcnZpY2VXb3JrZXJVcmwocGFyYW1zLnNlcnZpY2VXb3JrZXJVcmwpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U2VydmljZVdvcmtlclNjb3BlKHBhcmFtcy5zY29wZSldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbml0UGFyYW1zKF9fYXNzaWduKHthdXRvU3Vic2NyaWJlOiEwfSxwYXJhbXMpKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5pbml0RHJpdmVyKCldO2Nhc2UgNjpfYS5zZW50KCksX2EubGFiZWw9NztjYXNlIDc6cmV0dXJuIF9hLnRyeXMucHVzaChbNyw5LCwxMF0pLFs0LHRoaXMuZGVmYXVsdFByb2Nlc3MocGFyYW1zKV07Y2FzZSA4OnJldHVybiBfYS5zZW50KCksWzMsMTBdO2Nhc2UgOTpyZXR1cm4gZXJyb3JfNT1fYS5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yXzUsXCJJbnRlcm5hbCBlcnJvcjogZGVmYXVsdFByb2Nlc3MgZmFpbFwiKSxbMywxMF07Y2FzZSAxMDpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0RHJpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgd2ViU2l0ZVB1c2hJZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzU2FmYXJpP1s0LHRoaXMuZGF0YS5nZXRJbml0UGFyYW1zKCldOlszLDJdO2Nhc2UgMTppZighKHdlYlNpdGVQdXNoSWQ9X2Euc2VudCgpLnNhZmFyaVdlYnNpdGVQdXNoSUQpKXRocm93IG5ldyBFcnJvcihcIkZvciB3b3JrIHdpdGggU2FmYXJpIFB1c2ggTm90aWZpY2F0aW9uIGFkZCBzYWZhcmlXZWJzaXRlUHVzaElEIHRvIGluaXRQYXJhbXMhXCIpO3JldHVybiB0aGlzLmRyaXZlcj1uZXcgUHVzaFNlcnZpY2VfMS5QdXNoU2VydmljZVNhZmFyaSh0aGlzLmFwaSx0aGlzLmRhdGEse3dlYlNpdGVQdXNoSWQ6d2ViU2l0ZVB1c2hJZH0pLFsyXTtjYXNlIDI6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlU2VydmljZVdvcmtlcj8odGhpcy5kcml2ZXI9bmV3IFB1c2hTZXJ2aWNlXzEuUHVzaFNlcnZpY2VEZWZhdWx0KHRoaXMuYXBpLHRoaXMuZGF0YSx7fSksWzJdKTpbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0aXRsZSxocmVmO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gdGl0bGU9d2luZG93LmRvY3VtZW50LnRpdGxlLGhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWYsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9QV19TSVRFX09QRU5FRCx7dXJsOmhyZWYsdGl0bGU6dGl0bGUsZGV2aWNlX3R5cGU6dGhpcy5wbGF0Zm9ybUNoZWNrZXIucGxhdGZvcm19KSxbMl19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLnN1YnNjcmliZVRvTGVnYWN5RXZlbnRzPWZ1bmN0aW9uKHR5cGUsaGFuZGxlcil7dmFyIF90aGlzPXRoaXM7c3dpdGNoKHR5cGUpe2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0xPQUQ6aGFuZGxlcigpO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFQURZOmlmKHRoaXMucmVhZHkpe2hhbmRsZXIodGhpcy5hcGkpO2JyZWFrfXRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicmVhZHlcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9SRUdJU1RFUjp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlZ2lzdGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU1VCU0NSSUJFOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic3Vic2NyaWJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fVU5TVUJTQ1JJQkU6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJ1bnN1YnNjcmliZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NXX0lOSVRfRVJST1I6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJpbml0aWFsaXplLXNlcnZpY2Utd29ya2VyLWVycm9yXCIsZnVuY3Rpb24oX2Epe3ZhciBlcnJvcj1fYS5lcnJvcjtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksZXJyb3IpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVTSF9ERUxJVkVSWTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlY2VpdmUtcHVzaFwiLGZ1bmN0aW9uKF9hKXt2YXIgbm90aWZpY2F0aW9uPV9hLm5vdGlmaWNhdGlvbjtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksbm90aWZpY2F0aW9uKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcIm9wZW4tbm90aWZpY2F0aW9uXCIsZnVuY3Rpb24oX2Epe3ZhciBub3RpZmljYXRpb249X2Eubm90aWZpY2F0aW9uO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxub3RpZmljYXRpb24pfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiaGlkZS1ub3RpZmljYXRpb25cIixmdW5jdGlvbihfYSl7dmFyIG5vdGlmaWNhdGlvbj1fYS5ub3RpZmljYXRpb247cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLG5vdGlmaWNhdGlvbil9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9DSEFOR0VfQ09NTVVOSUNBVElPTl9FTkFCTEVEOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiY2hhbmdlLWVuYWJsZWQtY29tbXVuaWNhdGlvblwiLGZ1bmN0aW9uKF9hKXt2YXIgaXNFbmFibGVkPV9hLmlzRW5hYmxlZDtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksaXNFbmFibGVkKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlY2VpdmUtaW5ib3gtbWVzc2FnZVwiLGZ1bmN0aW9uKF9hKXt2YXIgbWVzc2FnZT1fYS5tZXNzYWdlO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxtZXNzYWdlKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInVwZGF0ZS1pbmJveC1tZXNzYWdlc1wiLGZ1bmN0aW9uKF9hKXt2YXIgbWVzc2FnZXM9X2EubWVzc2FnZXM7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLG1lc3NhZ2VzKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NIT1dfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic2hvdy1ub3RpZmljYXRpb24tcGVybWlzc2lvbi1kaWFsb2dcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcImhpZGUtbm90aWZpY2F0aW9uLXBlcm1pc3Npb24tZGlhbG9nXCIsZnVuY3Rpb24oX2Epe3ZhciBwZXJtaXNzaW9uPV9hLnBlcm1pc3Npb247cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLHBlcm1pc3Npb24pfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwic2hvdy1zdWJzY3JpcHRpb24td2lkZ2V0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiaGlkZS1zdWJzY3JpcHRpb24td2lkZ2V0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQ6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJwZXJtaXNzaW9uLWRlbmllZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicGVybWlzc2lvbi1kZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicGVybWlzc2lvbi1ncmFudGVkXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSl9fSxQdXNod29vc2gucHJvdG90eXBlLmVtaXRMZWdhY3lFdmVudHNGcm9tU2VydmljZVdvcmtlcj1mdW5jdGlvbih0eXBlLHBheWxvYWQpe3N3aXRjaCh0eXBlKXtjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QVVNIX0RFTElWRVJZOnRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInJlY2VpdmUtcHVzaFwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSzp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJvcGVuLW5vdGlmaWNhdGlvblwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRTp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJoaWRlLW5vdGlmaWNhdGlvblwiLHtub3RpZmljYXRpb246cGF5bG9hZH0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJyZWNlaXZlLWluYm94LW1lc3NhZ2VcIix7bWVzc2FnZTpwYXlsb2FkfSl9fSxQdXNod29vc2h9KCk7ZXhwb3J0cy5kZWZhdWx0PVB1c2h3b29zaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFB1c2hTZXJ2aWNlRGVmYXVsdF8xPV9fd2VicGFja19yZXF1aXJlX18oNDApO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdF8xLlB1c2hTZXJ2aWNlRGVmYXVsdDt2YXIgUHVzaFNlcnZpY2VTYWZhcmlfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtleHBvcnRzLlB1c2hTZXJ2aWNlU2FmYXJpPVB1c2hTZXJ2aWNlU2FmYXJpXzEuUHVzaFNlcnZpY2VTYWZhcml9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxQdXNoU2VydmljZVNhZmFyaT1mdW5jdGlvbigpe2Z1bmN0aW9uIFB1c2hTZXJ2aWNlU2FmYXJpKGFwaSxkYXRhLGNvbmZpZyl7dGhpcy5hcGk9YXBpLHRoaXMuY29uZmlnPWNvbmZpZyx0aGlzLmRhdGE9ZGF0YX1yZXR1cm4gUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmdldFBlcm1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQZXJtaXNzaW9uSW5mbygpLnBlcm1pc3Npb259LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzUGVybWlzc2lvbkdyYW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQZXJtaXNzaW9uKCk9PT1DT05TVEFOVFMuUEVSTUlTU0lPTl9HUkFOVEVEfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fUFJPTVBUfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc01hbnVhbFVuc3Vic2NyaWJlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmFza1Blcm1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBhcHBsaWNhdGlvbixod2lkLHBheWxvYWQsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLHBheWxvYWQ9e2FwcGxpY2F0aW9uOmFwcGxpY2F0aW9uLGh3aWQ6aHdpZH0sWzIsbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7c2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oX3RoaXMuY29uZmlnLmVudHJ5cG9pbnR8fFwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2pzb24vMS4zL3NhZmFyaVwiLF90aGlzLmNvbmZpZy53ZWJTaXRlUHVzaElkLHBheWxvYWQsZnVuY3Rpb24oKXtyZXR1cm4gcmVzb2x2ZSgpfSl9KV19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuZGF0YS5nZXRUb2tlbnMoKV19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVG9rZW47cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZCgpP1s0LHRoaXMuZ2V0UGVybWlzc2lvbkluZm8oKV06KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIllvdSBtdXN0IGhhdmUgcGVybWlzc2lvbiBncmFudGVkIGJlZm9yZSBzdWJzY3JpYmUhXCIpLFsyXSk7Y2FzZSAxOnJldHVybiBkZXZpY2VUb2tlbj1fYS5zZW50KCkuZGV2aWNlVG9rZW4sWzQsdGhpcy5kYXRhLnNldFRva2Vucyh7cHVzaFRva2VuOmRldmljZVRva2VufSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLnJlZ2lzdGVyRGV2aWNlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHt9KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLnVucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzUmVnaXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCldfSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNOZWVkUmVzdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzYXZlZFdlYlNpdGVQdXNoSWQsaXNDaGFuZ2VXZWJTaXRlUHVzaElkLGxhc3RQZXJtaXNzaW9uLHBlcm1pc3Npb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRXZWJTaXRlUHVzaElkKCldO2Nhc2UgMTpyZXR1cm4gc2F2ZWRXZWJTaXRlUHVzaElkPV9hLnNlbnQoKSxpc0NoYW5nZVdlYlNpdGVQdXNoSWQ9dm9pZCAwIT09c2F2ZWRXZWJTaXRlUHVzaElkJiZ0aGlzLmNvbmZpZy53ZWJTaXRlUHVzaElkIT09c2F2ZWRXZWJTaXRlUHVzaElkLFs0LHRoaXMuZGF0YS5zZXRXZWJTaXRlUHVzaElkKHRoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0TGFzdFBlcm1pc3Npb25TdGF0dXMoKV07Y2FzZSAzOnJldHVybiBsYXN0UGVybWlzc2lvbj1fYS5zZW50KCkscGVybWlzc2lvbj10aGlzLmdldFBlcm1pc3Npb24oKSxsYXN0UGVybWlzc2lvbj09PXBlcm1pc3Npb24/WzMsNV06WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbMiwhMF07Y2FzZSA1OnJldHVyblsyLGlzQ2hhbmdlV2ViU2l0ZVB1c2hJZF19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmdldFBlcm1pc3Npb25JbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHNhZmFyaS5wdXNoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24odGhpcy5jb25maWcud2ViU2l0ZVB1c2hJZCl9LFB1c2hTZXJ2aWNlU2FmYXJpfSgpO2V4cG9ydHMuUHVzaFNlcnZpY2VTYWZhcmk9UHVzaFNlcnZpY2VTYWZhcml9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBQb3B1cF9oZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4MyksUG9wdXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQb3B1cChuYW1lc3BhY2Usb25DbGlja0Nsb3NlLGNvbmZpZyl7aWYodGhpcy5uYW1lc3BhY2U9bmFtZXNwYWNlLHRoaXMub25DbGlja0Nsb3NlPW9uQ2xpY2tDbG9zZSx0aGlzLmNvbmZpZz1fX2Fzc2lnbih7cG9zaXRpb246XCJjZW50ZXJcIn0sY29uZmlnKSwhdGhpcy5nZXRSb290RWxlbWVudCgpKXt2YXIgaHRtbD10aGlzLmNyZWF0ZUhUTUwoKTtkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLGh0bWwpLHRoaXMucm9vdEVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJyb290XCIpO3ZhciBzdHlsZXM9UG9wdXBfaGVscGVyc18xLmdldFN0eWxlcyh0aGlzLm5hbWVzcGFjZSk7ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZXMpfXRoaXMucm9vdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cF9wb3NpdGlvbl9cIit0aGlzLmNvbmZpZy5wb3NpdGlvbiksdGhpcy53cmFwcGVyRWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcIndyYXBwZXJcIiksdGhpcy5pbm5lckVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJpbm5lclwiKSx0aGlzLmJvZHlFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwiYm9keVwiKSx0aGlzLmNsb3NlRWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcImNsb3NlXCIpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gUG9wdXAucHJvdG90eXBlLnVwZGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oaHRtbCl7dGhpcy5ib2R5RWxlbWVudC5pbm5lckhUTUw9aHRtbH0sUG9wdXAucHJvdG90eXBlLnJlbW92ZUNvbnRlbnQ9ZnVuY3Rpb24oKXt0aGlzLmJvZHlFbGVtZW50LmlubmVySFRNTD1cIlwifSxQb3B1cC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXBfc2hvd1wiKX0sUG9wdXAucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLHRoaXMucm9vdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cF9zaG93XCIpLHRoaXMub25DbGlja0Nsb3NlKCl9LFBvcHVwLnByb3RvdHlwZS5nZXRSb290RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cC1yb290XCIpfSxQb3B1cC5wcm90b3R5cGUuY3JlYXRlSFRNTD1mdW5jdGlvbigpe3JldHVybidcXG4gICAgICA8ZGl2XFxuICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtcm9vdFwiXFxuICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBcIlxcbiAgICAgID5cXG4gICAgICAgIDxkaXZcXG4gICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLXdyYXBwZXJcIlxcbiAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBfX3dyYXBwZXJcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLWlubmVyXCJcXG4gICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBfX2lubmVyXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC1ib2R5XCJcXG4gICAgICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9fYm9keVwiXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGJ1dHRvblxcbiAgICAgICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC1jbG9zZVwiXFxuICAgICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwX19jbG9zZVwiXFxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXFxuICAgICAgICAgID5cXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgJ30sUG9wdXAucHJvdG90eXBlLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdD1mdW5jdGlvbih0eXBlKXt2YXIgZWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cC1cIit0eXBlKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cC1cIit0eXBlKydcIicpO3JldHVybiBlbGVtZW50fSxQb3B1cC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLmNsb3NlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe190aGlzLmhpZGUoKX0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGV2ZW50KXt2YXIgY2xpY2tJbklubmVyPV90aGlzLmlubmVyRWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpLGNsaWNrSW5XcmFwcGVyPV90aGlzLndyYXBwZXJFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7IWNsaWNrSW5Jbm5lciYmY2xpY2tJbldyYXBwZXImJl90aGlzLmhpZGUoKX0pfSxQb3B1cH0oKTtleHBvcnRzLlBvcHVwPVBvcHVwfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdldFN0eWxlcz1mdW5jdGlvbihuYW1lc3BhY2Upe3ZhciBzdHlsZXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBzdHlsZXMuaW5uZXJIVE1MPVwiXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwIHtcXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgei1pbmRleDogMjE0NzQ4MzY0ODtcXG4gICAgICBvcGFjaXR5OiAwLjk5O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9zaG93IHtcXG4gICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX3dyYXBwZXIge1xcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4yKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfcG9zaXRpb25fY2VudGVyIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX193cmFwcGVyIHtcXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX2NlbnRlciAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fd3JhcHBlcjphZnRlciB7XFxuICAgICAgY29udGVudDogJyc7XFxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgIHdpZHRoOiAxcHg7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19pbm5lciB7XFxuICAgICAgbWluLXdpZHRoOiAzMjBweDtcXG4gICAgICBtYXgtd2lkdGg6IDM4MHB4O1xcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9wb3NpdGlvbl9jZW50ZXIgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2lubmVyIHtcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2JvZHkge1xcbiAgICAgIGJhY2tncm91bmQ6ICNmZmY7XFxuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxuICAgICAgYm94LXNoYWRvdzogMHB4IDEwcHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMSksIDBweCAwcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4wNik7XFxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fY2xvc2Uge1xcbiAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIHRvcDogMjRweDtcXG4gICAgICByaWdodDogMjRweDtcXG4gICAgICB3aWR0aDogNDBweDtcXG4gICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fY2xvc2U6YmVmb3JlIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiA1MCU7XFxuICAgICAgbGVmdDogNTAlO1xcbiAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgIGhlaWdodDogMnB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpO1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSg0NWRlZyk7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZTphZnRlciB7XFxuICAgICAgY29udGVudDogJyc7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIHRvcDogNTAlO1xcbiAgICAgIGxlZnQ6IDUwJTtcXG4gICAgICB3aWR0aDogMzBweDtcXG4gICAgICBoZWlnaHQ6IDJweDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC44KTtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgfVxcbiAgXCIsc3R5bGVzfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBnZXRaaXBfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSxsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0X2hlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCksU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldChldmVudEJ1cyxkYXRhLGFwaUNsaWVudCxhcGkscG9wdXAscHcpe3RoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGlDbGllbnQ9YXBpQ2xpZW50LHRoaXMuYXBpPWFwaSx0aGlzLnBvcHVwPXBvcHVwLHRoaXMucHc9cHd9cmV0dXJuIFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaW5BcHBDb2RlLHJpY2hNZWRpYVVybCxjb250ZW50LHNlZ21lbnRzLHNvcnRlZFNlZ21lbnRzLGh0bWwsc3R5bGVzLGRlbnlFbGVtZW50LGFjY2VwdEVsZW1lbnQsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRJbkFwcENvZGUoKV07Y2FzZSAxOnJldHVybihpbkFwcENvZGU9X2Euc2VudCgpKT9bNCx0aGlzLmdldFJpY2hNZWRpYVVybEJ5SW5BcHBDb2RlKGluQXBwQ29kZSldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgZmluZCBpbi1hcHAgY29kZSBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pO2Nhc2UgMjpyZXR1cm4ocmljaE1lZGlhVXJsPV9hLnNlbnQoKSk/WzQsdGhpcy5nZXREeW5hbWljQ29udGVudChyaWNoTWVkaWFVcmwpXToobG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiSW50ZXJuYWwgZXJyb3I6IENhbid0IGZpbmQgcmljaCBtZWRpYSB1cmwgZm9yIGJ1aWxkIHN1YnNjcmlwdGlvbiBzZWdtZW50IHdpZGdldCFcIiksWzJdKTtjYXNlIDM6cmV0dXJuIGNvbnRlbnQ9X2Euc2VudCgpLFs0LHRoaXMuZ2V0U2VnbWVudHMoKV07Y2FzZSA0OnJldHVybiBzZWdtZW50cz1fYS5zZW50KCksY29udGVudCYmc2VnbWVudHM/KHNvcnRlZFNlZ21lbnRzPXNlZ21lbnRzLnNvcnQoZnVuY3Rpb24oc2VnbWVudDEsc2VnbWVudDIpe3JldHVybiBzZWdtZW50MS5wb3NpdGlvbi1zZWdtZW50Mi5wb3NpdGlvbn0pLGh0bWw9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xLmdldEhUTUwoY29udGVudCxzb3J0ZWRTZWdtZW50cyksc3R5bGVzPVN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0X2hlbHBlcnNfMS5nZXRTdHlsZXMoY29udGVudCksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZXMpLHRoaXMucG9wdXAudXBkYXRlQ29udGVudChodG1sKSxkZW55RWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMtZGVueVwiKSxhY2NlcHRFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1hY2NlcHRcIiksZGVueUVsZW1lbnQmJmRlbnlFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZVBvcHVwKCl9KSxhY2NlcHRFbGVtZW50JiZhY2NlcHRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7dmFyIHJlc3VsdD1bXSxzZWdtZW50cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fZmllbGRcIik7aWYoX3RoaXMuaGlkZVBvcHVwKCksc2VnbWVudHMpe2Zvcih2YXIgaW5kZXg9MDtpbmRleDxzZWdtZW50cy5sZW5ndGg7aW5kZXgrKyl7dmFyIGZpZWxkPXNlZ21lbnRzW2luZGV4XTtmaWVsZC5jaGVja2VkJiZyZXN1bHQucHVzaChmaWVsZC52YWx1ZSl9X3RoaXMuYXBpLnNldFRhZ3Moe1wiU3Vic2NyaXB0aW9uIFNlZ21lbnRzXCI6cmVzdWx0fSksX3RoaXMucHcuc3Vic2NyaWJlKCl9fSksdGhpcy5zaG93UG9wdXAoKSxbMl0pOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgZ2V0IGNvbnRlbnQgb3Igc2VnbWVudHMgZm9yIGJ1aWxkIHN1YnNjcmlwdGlvbiBzZWdtZW50IHdpZGdldCFcIiksWzJdKX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuc2hvd1BvcHVwPWZ1bmN0aW9uKCl7dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic2hvdy1zdWJzY3JpcHRpb24td2lkZ2V0XCIse30pLHRoaXMucG9wdXAuc2hvdygpfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuaGlkZVBvcHVwPWZ1bmN0aW9uKCl7dGhpcy5wb3B1cC5oaWRlKCl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5nZXRSaWNoTWVkaWFVcmxCeUluQXBwQ29kZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbkFwcHMsaW5BcHA7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRJbkFwcHMoKV07Y2FzZSAxOnJldHVybihpbkFwcHM9X2Euc2VudCgpKSYmKGluQXBwPWluQXBwcy5maW5kKGZ1bmN0aW9uKGluQXBwKXtyZXR1cm4gaW5BcHAuY29kZT09PWNvZGV9KSk/WzIsaW5BcHAudXJsXTpbMl19fSl9KX0sU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmdldEluQXBwQ29kZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFwcGxpY2F0aW9uLGh3aWQsdXNlcklkLGRldmljZVR5cGUsZGV2aWNlTW9kZWwsbGFuZ3VhZ2UsdmVyc2lvbix0aW1lem9uZSxkYXRlLHRpbWUsdGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvbkNvZGUoKV07Y2FzZSAxOnJldHVybiBhcHBsaWNhdGlvbj1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VXNlcklkKCldO2Nhc2UgMzpyZXR1cm4gdXNlcklkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDQ6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VNb2RlbCgpXTtjYXNlIDU6cmV0dXJuIGRldmljZU1vZGVsPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0TGFuZ3VhZ2UoKV07Y2FzZSA2OnJldHVybiBsYW5ndWFnZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNka1ZlcnNpb24oKV07Y2FzZSA3OnJldHVybiB2ZXJzaW9uPV9hLnNlbnQoKSx0aW1lem9uZT02MCotKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLGRhdGU9bmV3IERhdGUsdGltZT1kYXRlLmdldFRpbWUoKSx0aW1lc3RhbXBVVEM9TWF0aC5mbG9vcih0aW1lLzFlMyksdGltZXN0YW1wQ3VycmVudD10aW1lc3RhbXBVVEMtZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLzYwKjM2MDAsWzQsdGhpcy5hcGlDbGllbnQucG9zdEV2ZW50KHthcHBsaWNhdGlvbjphcHBsaWNhdGlvbixod2lkOmh3aWQsdXNlcklkOnVzZXJJZHx8aHdpZCxkZXZpY2VfdHlwZTpkZXZpY2VUeXBlLGRldmljZV9tb2RlbDpkZXZpY2VNb2RlbCxsYW5ndWFnZTpsYW5ndWFnZSx2OnZlcnNpb24sdGltZXpvbmU6dGltZXpvbmUsdGltZXN0YW1wVVRDOnRpbWVzdGFtcFVUQyx0aW1lc3RhbXBDdXJyZW50OnRpbWVzdGFtcEN1cnJlbnQsZXZlbnQ6XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIixhdHRyaWJ1dGVzOnt9fSldO2Nhc2UgODpyZXR1cm5bMiwocmVzcG9uc2U9X2Euc2VudCgpKSYmcmVzcG9uc2UuY29kZV19fSl9KX0sU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZmVhdHVyZXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDE6cmV0dXJuWzIsKGZlYXR1cmVzPV9hLnNlbnQoKSkmJmZlYXR1cmVzLmNoYW5uZWxzXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0RHluYW1pY0NvbnRlbnQ9ZnVuY3Rpb24odXJsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBqc3ppcCxkYXRhLF9hLF9iO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9jKXtzd2l0Y2goX2MubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxnZXRaaXBfMS5nZXRaaXAodXJsKV07Y2FzZSAxOnJldHVybiBqc3ppcD1fYy5zZW50KCksX2I9KF9hPUpTT04pLnBhcnNlLFs0LGpzemlwLmZpbGUoXCJwdXNod29vc2guanNvblwiKS5hc3luYyhcInRleHRcIildO2Nhc2UgMjpyZXR1cm5bMiwoZGF0YT1fYi5hcHBseShfYSxbX2Muc2VudCgpXSkpJiZkYXRhLmxvY2FsaXphdGlvbiYmZGF0YS5kZWZhdWx0X2xhbmd1YWdlJiZkYXRhLmxvY2FsaXphdGlvbltkYXRhLmRlZmF1bHRfbGFuZ3VhZ2VdXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldH0oKTtleHBvcnRzLlN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0PVN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBKU1ppcCgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEpTWmlwKSlyZXR1cm4gbmV3IEpTWmlwO2lmKGFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycyBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKTt0aGlzLmZpbGVzPXt9LHRoaXMuY29tbWVudD1udWxsLHRoaXMucm9vdD1cIlwiLHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgbmV3T2JqPW5ldyBKU1ppcDtmb3IodmFyIGkgaW4gdGhpcylcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2ldJiYobmV3T2JqW2ldPXRoaXNbaV0pO3JldHVybiBuZXdPYmp9fUpTWmlwLnByb3RvdHlwZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSxKU1ppcC5wcm90b3R5cGUubG9hZEFzeW5jPV9fd2VicGFja19yZXF1aXJlX18oMTE5KSxKU1ppcC5zdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksSlNaaXAuZGVmYXVsdHM9X193ZWJwYWNrX3JlcXVpcmVfXyg2MSksSlNaaXAudmVyc2lvbj1cIjMuMi4wXCIsSlNaaXAubG9hZEFzeW5jPWZ1bmN0aW9uKGNvbnRlbnQsb3B0aW9ucyl7cmV0dXJuKG5ldyBKU1ppcCkubG9hZEFzeW5jKGNvbnRlbnQsb3B0aW9ucyl9LEpTWmlwLmV4dGVybmFsPV9fd2VicGFja19yZXF1aXJlX18oMjYpLG1vZHVsZS5leHBvcnRzPUpTWmlwfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxTdHJlYW1IZWxwZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MCksZGVmYXVsdHM9X193ZWJwYWNrX3JlcXVpcmVfXyg2MSksQ29tcHJlc3NlZE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxaaXBPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMDUpLGdlbmVyYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTA2KSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMTgpLGZpbGVBZGQ9ZnVuY3Rpb24obmFtZSxkYXRhLG9yaWdpbmFsT3B0aW9ucyl7dmFyIHBhcmVudCxkYXRhVHlwZT11dGlscy5nZXRUeXBlT2YoZGF0YSksbz11dGlscy5leHRlbmQob3JpZ2luYWxPcHRpb25zfHx7fSxkZWZhdWx0cyk7by5kYXRlPW8uZGF0ZXx8bmV3IERhdGUsbnVsbCE9PW8uY29tcHJlc3Npb24mJihvLmNvbXByZXNzaW9uPW8uY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSksXCJzdHJpbmdcIj09dHlwZW9mIG8udW5peFBlcm1pc3Npb25zJiYoby51bml4UGVybWlzc2lvbnM9cGFyc2VJbnQoby51bml4UGVybWlzc2lvbnMsOCkpLG8udW5peFBlcm1pc3Npb25zJiYxNjM4NCZvLnVuaXhQZXJtaXNzaW9ucyYmKG8uZGlyPSEwKSxvLmRvc1Blcm1pc3Npb25zJiYxNiZvLmRvc1Blcm1pc3Npb25zJiYoby5kaXI9ITApLG8uZGlyJiYobmFtZT1mb3JjZVRyYWlsaW5nU2xhc2gobmFtZSkpLG8uY3JlYXRlRm9sZGVycyYmKHBhcmVudD1wYXJlbnRGb2xkZXIobmFtZSkpJiZmb2xkZXJBZGQuY2FsbCh0aGlzLHBhcmVudCwhMCk7dmFyIGlzVW5pY29kZVN0cmluZz1cInN0cmluZ1wiPT09ZGF0YVR5cGUmJiExPT09by5iaW5hcnkmJiExPT09by5iYXNlNjQ7b3JpZ2luYWxPcHRpb25zJiZ2b2lkIDAhPT1vcmlnaW5hbE9wdGlvbnMuYmluYXJ5fHwoby5iaW5hcnk9IWlzVW5pY29kZVN0cmluZyksKGRhdGEgaW5zdGFuY2VvZiBDb21wcmVzc2VkT2JqZWN0JiYwPT09ZGF0YS51bmNvbXByZXNzZWRTaXplfHxvLmRpcnx8IWRhdGF8fDA9PT1kYXRhLmxlbmd0aCkmJihvLmJhc2U2ND0hMSxvLmJpbmFyeT0hMCxkYXRhPVwiXCIsby5jb21wcmVzc2lvbj1cIlNUT1JFXCIsZGF0YVR5cGU9XCJzdHJpbmdcIik7dmFyIHppcE9iamVjdENvbnRlbnQ9bnVsbDt6aXBPYmplY3RDb250ZW50PWRhdGEgaW5zdGFuY2VvZiBDb21wcmVzc2VkT2JqZWN0fHxkYXRhIGluc3RhbmNlb2YgR2VuZXJpY1dvcmtlcj9kYXRhOm5vZGVqc1V0aWxzLmlzTm9kZSYmbm9kZWpzVXRpbHMuaXNTdHJlYW0oZGF0YSk/bmV3IE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcihuYW1lLGRhdGEpOnV0aWxzLnByZXBhcmVDb250ZW50KG5hbWUsZGF0YSxvLmJpbmFyeSxvLm9wdGltaXplZEJpbmFyeVN0cmluZyxvLmJhc2U2NCk7dmFyIG9iamVjdD1uZXcgWmlwT2JqZWN0KG5hbWUsemlwT2JqZWN0Q29udGVudCxvKTt0aGlzLmZpbGVzW25hbWVdPW9iamVjdH0scGFyZW50Rm9sZGVyPWZ1bmN0aW9uKHBhdGgpe1wiL1wiPT09cGF0aC5zbGljZSgtMSkmJihwYXRoPXBhdGguc3Vic3RyaW5nKDAscGF0aC5sZW5ndGgtMSkpO3ZhciBsYXN0U2xhc2g9cGF0aC5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIGxhc3RTbGFzaD4wP3BhdGguc3Vic3RyaW5nKDAsbGFzdFNsYXNoKTpcIlwifSxmb3JjZVRyYWlsaW5nU2xhc2g9ZnVuY3Rpb24ocGF0aCl7cmV0dXJuXCIvXCIhPT1wYXRoLnNsaWNlKC0xKSYmKHBhdGgrPVwiL1wiKSxwYXRofSxmb2xkZXJBZGQ9ZnVuY3Rpb24obmFtZSxjcmVhdGVGb2xkZXJzKXtyZXR1cm4gY3JlYXRlRm9sZGVycz12b2lkIDAhPT1jcmVhdGVGb2xkZXJzP2NyZWF0ZUZvbGRlcnM6ZGVmYXVsdHMuY3JlYXRlRm9sZGVycyxuYW1lPWZvcmNlVHJhaWxpbmdTbGFzaChuYW1lKSx0aGlzLmZpbGVzW25hbWVdfHxmaWxlQWRkLmNhbGwodGhpcyxuYW1lLG51bGwse2RpcjohMCxjcmVhdGVGb2xkZXJzOmNyZWF0ZUZvbGRlcnN9KSx0aGlzLmZpbGVzW25hbWVdfTtmdW5jdGlvbiBpc1JlZ0V4cChvYmplY3Qpe3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KX12YXIgb3V0PXtsb2FkOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGZvckVhY2g6ZnVuY3Rpb24oY2Ipe3ZhciBmaWxlbmFtZSxyZWxhdGl2ZVBhdGgsZmlsZTtmb3IoZmlsZW5hbWUgaW4gdGhpcy5maWxlcyl0aGlzLmZpbGVzLmhhc093blByb3BlcnR5KGZpbGVuYW1lKSYmKGZpbGU9dGhpcy5maWxlc1tmaWxlbmFtZV0sKHJlbGF0aXZlUGF0aD1maWxlbmFtZS5zbGljZSh0aGlzLnJvb3QubGVuZ3RoLGZpbGVuYW1lLmxlbmd0aCkpJiZmaWxlbmFtZS5zbGljZSgwLHRoaXMucm9vdC5sZW5ndGgpPT09dGhpcy5yb290JiZjYihyZWxhdGl2ZVBhdGgsZmlsZSkpfSxmaWx0ZXI6ZnVuY3Rpb24oc2VhcmNoKXt2YXIgcmVzdWx0PVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGVudHJ5KXtzZWFyY2gocmVsYXRpdmVQYXRoLGVudHJ5KSYmcmVzdWx0LnB1c2goZW50cnkpfSkscmVzdWx0fSxmaWxlOmZ1bmN0aW9uKG5hbWUsZGF0YSxvKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoaXNSZWdFeHAobmFtZSkpe3ZhciByZWdleHA9bmFtZTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe3JldHVybiFmaWxlLmRpciYmcmVnZXhwLnRlc3QocmVsYXRpdmVQYXRoKX0pfXZhciBvYmo9dGhpcy5maWxlc1t0aGlzLnJvb3QrbmFtZV07cmV0dXJuIG9iaiYmIW9iai5kaXI/b2JqOm51bGx9cmV0dXJuIG5hbWU9dGhpcy5yb290K25hbWUsZmlsZUFkZC5jYWxsKHRoaXMsbmFtZSxkYXRhLG8pLHRoaXN9LGZvbGRlcjpmdW5jdGlvbihhcmcpe2lmKCFhcmcpcmV0dXJuIHRoaXM7aWYoaXNSZWdFeHAoYXJnKSlyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe3JldHVybiBmaWxlLmRpciYmYXJnLnRlc3QocmVsYXRpdmVQYXRoKX0pO3ZhciBuYW1lPXRoaXMucm9vdCthcmcsbmV3Rm9sZGVyPWZvbGRlckFkZC5jYWxsKHRoaXMsbmFtZSkscmV0PXRoaXMuY2xvbmUoKTtyZXR1cm4gcmV0LnJvb3Q9bmV3Rm9sZGVyLm5hbWUscmV0fSxyZW1vdmU6ZnVuY3Rpb24obmFtZSl7bmFtZT10aGlzLnJvb3QrbmFtZTt2YXIgZmlsZT10aGlzLmZpbGVzW25hbWVdO2lmKGZpbGV8fChcIi9cIiE9PW5hbWUuc2xpY2UoLTEpJiYobmFtZSs9XCIvXCIpLGZpbGU9dGhpcy5maWxlc1tuYW1lXSksZmlsZSYmIWZpbGUuZGlyKWRlbGV0ZSB0aGlzLmZpbGVzW25hbWVdO2Vsc2UgZm9yKHZhciBraWRzPXRoaXMuZmlsdGVyKGZ1bmN0aW9uKHJlbGF0aXZlUGF0aCxmaWxlKXtyZXR1cm4gZmlsZS5uYW1lLnNsaWNlKDAsbmFtZS5sZW5ndGgpPT09bmFtZX0pLGk9MDtpPGtpZHMubGVuZ3RoO2krKylkZWxldGUgdGhpcy5maWxlc1traWRzW2ldLm5hbWVdO3JldHVybiB0aGlzfSxnZW5lcmF0ZTpmdW5jdGlvbihvcHRpb25zKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbTpmdW5jdGlvbihvcHRpb25zKXt2YXIgd29ya2VyLG9wdHM9e307dHJ5e2lmKChvcHRzPXV0aWxzLmV4dGVuZChvcHRpb25zfHx7fSx7c3RyZWFtRmlsZXM6ITEsY29tcHJlc3Npb246XCJTVE9SRVwiLGNvbXByZXNzaW9uT3B0aW9uczpudWxsLHR5cGU6XCJcIixwbGF0Zm9ybTpcIkRPU1wiLGNvbW1lbnQ6bnVsbCxtaW1lVHlwZTpcImFwcGxpY2F0aW9uL3ppcFwiLGVuY29kZUZpbGVOYW1lOnV0ZjgudXRmOGVuY29kZX0pKS50eXBlPW9wdHMudHlwZS50b0xvd2VyQ2FzZSgpLG9wdHMuY29tcHJlc3Npb249b3B0cy5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpLFwiYmluYXJ5c3RyaW5nXCI9PT1vcHRzLnR5cGUmJihvcHRzLnR5cGU9XCJzdHJpbmdcIiksIW9wdHMudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuXCIpO3V0aWxzLmNoZWNrU3VwcG9ydChvcHRzLnR5cGUpLFwiZGFyd2luXCIhPT1vcHRzLnBsYXRmb3JtJiZcImZyZWVic2RcIiE9PW9wdHMucGxhdGZvcm0mJlwibGludXhcIiE9PW9wdHMucGxhdGZvcm0mJlwic3Vub3NcIiE9PW9wdHMucGxhdGZvcm18fChvcHRzLnBsYXRmb3JtPVwiVU5JWFwiKSxcIndpbjMyXCI9PT1vcHRzLnBsYXRmb3JtJiYob3B0cy5wbGF0Zm9ybT1cIkRPU1wiKTt2YXIgY29tbWVudD1vcHRzLmNvbW1lbnR8fHRoaXMuY29tbWVudHx8XCJcIjt3b3JrZXI9Z2VuZXJhdGUuZ2VuZXJhdGVXb3JrZXIodGhpcyxvcHRzLGNvbW1lbnQpfWNhdGNoKGUpeyh3b3JrZXI9bmV3IEdlbmVyaWNXb3JrZXIoXCJlcnJvclwiKSkuZXJyb3IoZSl9cmV0dXJuIG5ldyBTdHJlYW1IZWxwZXIod29ya2VyLG9wdHMudHlwZXx8XCJzdHJpbmdcIixvcHRzLm1pbWVUeXBlKX0sZ2VuZXJhdGVBc3luYzpmdW5jdGlvbihvcHRpb25zLG9uVXBkYXRlKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKG9wdGlvbnMpLmFjY3VtdWxhdGUob25VcGRhdGUpfSxnZW5lcmF0ZU5vZGVTdHJlYW06ZnVuY3Rpb24ob3B0aW9ucyxvblVwZGF0ZSl7cmV0dXJuKG9wdGlvbnM9b3B0aW9uc3x8e30pLnR5cGV8fChvcHRpb25zLnR5cGU9XCJub2RlYnVmZmVyXCIpLHRoaXMuZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbShvcHRpb25zKS50b05vZGVqc1N0cmVhbShvblVwZGF0ZSl9fTttb2R1bGUuZXhwb3J0cz1vdXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V4cG9ydHMuYnl0ZUxlbmd0aD1mdW5jdGlvbihiNjQpe3ZhciBsZW5zPWdldExlbnMoYjY0KSx2YWxpZExlbj1sZW5zWzBdLHBsYWNlSG9sZGVyc0xlbj1sZW5zWzFdO3JldHVybiAzKih2YWxpZExlbitwbGFjZUhvbGRlcnNMZW4pLzQtcGxhY2VIb2xkZXJzTGVufSxleHBvcnRzLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGI2NCl7dmFyIHRtcCxpLGxlbnM9Z2V0TGVucyhiNjQpLHZhbGlkTGVuPWxlbnNbMF0scGxhY2VIb2xkZXJzTGVuPWxlbnNbMV0sYXJyPW5ldyBBcnIoZnVuY3Rpb24oYjY0LHZhbGlkTGVuLHBsYWNlSG9sZGVyc0xlbil7cmV0dXJuIDMqKHZhbGlkTGVuK3BsYWNlSG9sZGVyc0xlbikvNC1wbGFjZUhvbGRlcnNMZW59KDAsdmFsaWRMZW4scGxhY2VIb2xkZXJzTGVuKSksY3VyQnl0ZT0wLGxlbj1wbGFjZUhvbGRlcnNMZW4+MD92YWxpZExlbi00OnZhbGlkTGVuO2ZvcihpPTA7aTxsZW47aSs9NCl0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MTh8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDwxMnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsyKV08PDZ8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMyldLGFycltjdXJCeXRlKytdPXRtcD4+MTYmMjU1LGFycltjdXJCeXRlKytdPXRtcD4+OCYyNTUsYXJyW2N1ckJ5dGUrK109MjU1JnRtcDsyPT09cGxhY2VIb2xkZXJzTGVuJiYodG1wPXJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV08PDJ8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPj40LGFycltjdXJCeXRlKytdPTI1NSZ0bXApOzE9PT1wbGFjZUhvbGRlcnNMZW4mJih0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MTB8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMSldPDw0fHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzIpXT4+MixhcnJbY3VyQnl0ZSsrXT10bXA+PjgmMjU1LGFycltjdXJCeXRlKytdPTI1NSZ0bXApO3JldHVybiBhcnJ9LGV4cG9ydHMuZnJvbUJ5dGVBcnJheT1mdW5jdGlvbih1aW50OCl7Zm9yKHZhciB0bXAsbGVuPXVpbnQ4Lmxlbmd0aCxleHRyYUJ5dGVzPWxlbiUzLHBhcnRzPVtdLGk9MCxsZW4yPWxlbi1leHRyYUJ5dGVzO2k8bGVuMjtpKz0xNjM4MylwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LGksaSsxNjM4Mz5sZW4yP2xlbjI6aSsxNjM4MykpOzE9PT1leHRyYUJ5dGVzPyh0bXA9dWludDhbbGVuLTFdLHBhcnRzLnB1c2gobG9va3VwW3RtcD4+Ml0rbG9va3VwW3RtcDw8NCY2M10rXCI9PVwiKSk6Mj09PWV4dHJhQnl0ZXMmJih0bXA9KHVpbnQ4W2xlbi0yXTw8OCkrdWludDhbbGVuLTFdLHBhcnRzLnB1c2gobG9va3VwW3RtcD4+MTBdK2xvb2t1cFt0bXA+PjQmNjNdK2xvb2t1cFt0bXA8PDImNjNdK1wiPVwiKSk7cmV0dXJuIHBhcnRzLmpvaW4oXCJcIil9O2Zvcih2YXIgbG9va3VwPVtdLHJldkxvb2t1cD1bXSxBcnI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxjb2RlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGk9MCxsZW49Y29kZS5sZW5ndGg7aTxsZW47KytpKWxvb2t1cFtpXT1jb2RlW2ldLHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldPWk7ZnVuY3Rpb24gZ2V0TGVucyhiNjQpe3ZhciBsZW49YjY0Lmxlbmd0aDtpZihsZW4lND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIHZhbGlkTGVuPWI2NC5pbmRleE9mKFwiPVwiKTtyZXR1cm4tMT09PXZhbGlkTGVuJiYodmFsaWRMZW49bGVuKSxbdmFsaWRMZW4sdmFsaWRMZW49PT1sZW4/MDo0LXZhbGlkTGVuJTRdfWZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NChudW0pe3JldHVybiBsb29rdXBbbnVtPj4xOCY2M10rbG9va3VwW251bT4+MTImNjNdK2xvb2t1cFtudW0+PjYmNjNdK2xvb2t1cFs2MyZudW1dfWZ1bmN0aW9uIGVuY29kZUNodW5rKHVpbnQ4LHN0YXJ0LGVuZCl7Zm9yKHZhciB0bXAsb3V0cHV0PVtdLGk9c3RhcnQ7aTxlbmQ7aSs9Myl0bXA9KHVpbnQ4W2ldPDwxNiYxNjcxMTY4MCkrKHVpbnQ4W2krMV08PDgmNjUyODApKygyNTUmdWludDhbaSsyXSksb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpO3JldHVybiBvdXRwdXQuam9pbihcIlwiKX1yZXZMb29rdXBbXCItXCIuY2hhckNvZGVBdCgwKV09NjIscmV2TG9va3VwW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7XG4vKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkPWZ1bmN0aW9uKGJ1ZmZlcixvZmZzZXQsaXNMRSxtTGVuLG5CeXRlcyl7dmFyIGUsbSxlTGVuPTgqbkJ5dGVzLW1MZW4tMSxlTWF4PSgxPDxlTGVuKS0xLGVCaWFzPWVNYXg+PjEsbkJpdHM9LTcsaT1pc0xFP25CeXRlcy0xOjAsZD1pc0xFPy0xOjEscz1idWZmZXJbb2Zmc2V0K2ldO2ZvcihpKz1kLGU9cyYoMTw8LW5CaXRzKS0xLHM+Pj0tbkJpdHMsbkJpdHMrPWVMZW47bkJpdHM+MDtlPTI1NiplK2J1ZmZlcltvZmZzZXQraV0saSs9ZCxuQml0cy09OCk7Zm9yKG09ZSYoMTw8LW5CaXRzKS0xLGU+Pj0tbkJpdHMsbkJpdHMrPW1MZW47bkJpdHM+MDttPTI1NiptK2J1ZmZlcltvZmZzZXQraV0saSs9ZCxuQml0cy09OCk7aWYoMD09PWUpZT0xLWVCaWFzO2Vsc2V7aWYoZT09PWVNYXgpcmV0dXJuIG0/TmFOOjEvMCoocz8tMToxKTttKz1NYXRoLnBvdygyLG1MZW4pLGUtPWVCaWFzfXJldHVybihzPy0xOjEpKm0qTWF0aC5wb3coMixlLW1MZW4pfSxleHBvcnRzLndyaXRlPWZ1bmN0aW9uKGJ1ZmZlcix2YWx1ZSxvZmZzZXQsaXNMRSxtTGVuLG5CeXRlcyl7dmFyIGUsbSxjLGVMZW49OCpuQnl0ZXMtbUxlbi0xLGVNYXg9KDE8PGVMZW4pLTEsZUJpYXM9ZU1heD4+MSxydD0yMz09PW1MZW4/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGk9aXNMRT8wOm5CeXRlcy0xLGQ9aXNMRT8xOi0xLHM9dmFsdWU8MHx8MD09PXZhbHVlJiYxL3ZhbHVlPDA/MTowO2Zvcih2YWx1ZT1NYXRoLmFicyh2YWx1ZSksaXNOYU4odmFsdWUpfHx2YWx1ZT09PTEvMD8obT1pc05hTih2YWx1ZSk/MTowLGU9ZU1heCk6KGU9TWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkvTWF0aC5MTjIpLHZhbHVlKihjPU1hdGgucG93KDIsLWUpKTwxJiYoZS0tLGMqPTIpLCh2YWx1ZSs9ZStlQmlhcz49MT9ydC9jOnJ0Kk1hdGgucG93KDIsMS1lQmlhcykpKmM+PTImJihlKyssYy89MiksZStlQmlhcz49ZU1heD8obT0wLGU9ZU1heCk6ZStlQmlhcz49MT8obT0odmFsdWUqYy0xKSpNYXRoLnBvdygyLG1MZW4pLGUrPWVCaWFzKToobT12YWx1ZSpNYXRoLnBvdygyLGVCaWFzLTEpKk1hdGgucG93KDIsbUxlbiksZT0wKSk7bUxlbj49ODtidWZmZXJbb2Zmc2V0K2ldPTI1NSZtLGkrPWQsbS89MjU2LG1MZW4tPTgpO2ZvcihlPWU8PG1MZW58bSxlTGVuKz1tTGVuO2VMZW4+MDtidWZmZXJbb2Zmc2V0K2ldPTI1NSZlLGkrPWQsZS89MjU2LGVMZW4tPTgpO2J1ZmZlcltvZmZzZXQraS1kXXw9MTI4KnN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1TdHJlYW07dmFyIEVFPV9fd2VicGFja19yZXF1aXJlX18oNDEpLkV2ZW50RW1pdHRlcjtmdW5jdGlvbiBTdHJlYW0oKXtFRS5jYWxsKHRoaXMpfV9fd2VicGFja19yZXF1aXJlX18oMTUpKFN0cmVhbSxFRSksU3RyZWFtLlJlYWRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDIpLFN0cmVhbS5Xcml0YWJsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDk2KSxTdHJlYW0uRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oOTcpLFN0cmVhbS5UcmFuc2Zvcm09X193ZWJwYWNrX3JlcXVpcmVfXyg5OCksU3RyZWFtLlBhc3NUaHJvdWdoPV9fd2VicGFja19yZXF1aXJlX18oOTkpLFN0cmVhbS5TdHJlYW09U3RyZWFtLFN0cmVhbS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihkZXN0LG9wdGlvbnMpe3ZhciBzb3VyY2U9dGhpcztmdW5jdGlvbiBvbmRhdGEoY2h1bmspe2Rlc3Qud3JpdGFibGUmJiExPT09ZGVzdC53cml0ZShjaHVuaykmJnNvdXJjZS5wYXVzZSYmc291cmNlLnBhdXNlKCl9ZnVuY3Rpb24gb25kcmFpbigpe3NvdXJjZS5yZWFkYWJsZSYmc291cmNlLnJlc3VtZSYmc291cmNlLnJlc3VtZSgpfXNvdXJjZS5vbihcImRhdGFcIixvbmRhdGEpLGRlc3Qub24oXCJkcmFpblwiLG9uZHJhaW4pLGRlc3QuX2lzU3RkaW98fG9wdGlvbnMmJiExPT09b3B0aW9ucy5lbmR8fChzb3VyY2Uub24oXCJlbmRcIixvbmVuZCksc291cmNlLm9uKFwiY2xvc2VcIixvbmNsb3NlKSk7dmFyIGRpZE9uRW5kPSExO2Z1bmN0aW9uIG9uZW5kKCl7ZGlkT25FbmR8fChkaWRPbkVuZD0hMCxkZXN0LmVuZCgpKX1mdW5jdGlvbiBvbmNsb3NlKCl7ZGlkT25FbmR8fChkaWRPbkVuZD0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZXN0LmRlc3Ryb3kmJmRlc3QuZGVzdHJveSgpKX1mdW5jdGlvbiBvbmVycm9yKGVyKXtpZihjbGVhbnVwKCksMD09PUVFLmxpc3RlbmVyQ291bnQodGhpcyxcImVycm9yXCIpKXRocm93IGVyfWZ1bmN0aW9uIGNsZWFudXAoKXtzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsb25kYXRhKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixvbmRyYWluKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixvbmVuZCksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvbmNsb3NlKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG9uZXJyb3IpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG9uZXJyb3IpLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGNsZWFudXApLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsY2xlYW51cCksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsY2xlYW51cCl9cmV0dXJuIHNvdXJjZS5vbihcImVycm9yXCIsb25lcnJvciksZGVzdC5vbihcImVycm9yXCIsb25lcnJvciksc291cmNlLm9uKFwiZW5kXCIsY2xlYW51cCksc291cmNlLm9uKFwiY2xvc2VcIixjbGVhbnVwKSxkZXN0Lm9uKFwiY2xvc2VcIixjbGVhbnVwKSxkZXN0LmVtaXQoXCJwaXBlXCIsc291cmNlKSxkZXN0fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5CdWZmZXIsdXRpbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtmdW5jdGlvbiBjb3B5QnVmZmVyKHNyYyx0YXJnZXQsb2Zmc2V0KXtzcmMuY29weSh0YXJnZXQsb2Zmc2V0KX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIEJ1ZmZlckxpc3QoKXshZnVuY3Rpb24oaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxCdWZmZXJMaXN0KSx0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfXJldHVybiBCdWZmZXJMaXN0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHYpe3ZhciBlbnRyeT17ZGF0YTp2LG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD1lbnRyeTp0aGlzLmhlYWQ9ZW50cnksdGhpcy50YWlsPWVudHJ5LCsrdGhpcy5sZW5ndGh9LEJ1ZmZlckxpc3QucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24odil7dmFyIGVudHJ5PXtkYXRhOnYsbmV4dDp0aGlzLmhlYWR9OzA9PT10aGlzLmxlbmd0aCYmKHRoaXMudGFpbD1lbnRyeSksdGhpcy5oZWFkPWVudHJ5LCsrdGhpcy5sZW5ndGh9LEJ1ZmZlckxpc3QucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgcmV0PXRoaXMuaGVhZC5kYXRhO3JldHVybiAxPT09dGhpcy5sZW5ndGg/dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsOnRoaXMuaGVhZD10aGlzLmhlYWQubmV4dCwtLXRoaXMubGVuZ3RoLHJldH19LEJ1ZmZlckxpc3QucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9LEJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24ocyl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVyblwiXCI7Zm9yKHZhciBwPXRoaXMuaGVhZCxyZXQ9XCJcIitwLmRhdGE7cD1wLm5leHQ7KXJldCs9cytwLmRhdGE7cmV0dXJuIHJldH0sQnVmZmVyTGlzdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKG4pe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gQnVmZmVyLmFsbG9jKDApO2lmKDE9PT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5oZWFkLmRhdGE7Zm9yKHZhciByZXQ9QnVmZmVyLmFsbG9jVW5zYWZlKG4+Pj4wKSxwPXRoaXMuaGVhZCxpPTA7cDspY29weUJ1ZmZlcihwLmRhdGEscmV0LGkpLGkrPXAuZGF0YS5sZW5ndGgscD1wLm5leHQ7cmV0dXJuIHJldH0sQnVmZmVyTGlzdH0oKSx1dGlsJiZ1dGlsLmluc3BlY3QmJnV0aWwuaW5zcGVjdC5jdXN0b20mJihtb2R1bGUuZXhwb3J0cy5wcm90b3R5cGVbdXRpbC5pbnNwZWN0LmN1c3RvbV09ZnVuY3Rpb24oKXt2YXIgb2JqPXV0aWwuaW5zcGVjdCh7bGVuZ3RoOnRoaXMubGVuZ3RofSk7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIiBcIitvYmp9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCxwcm9jZXNzKXshZnVuY3Rpb24oZ2xvYmFsLHVuZGVmaW5lZCl7XCJ1c2Ugc3RyaWN0XCI7aWYoIWdsb2JhbC5zZXRJbW1lZGlhdGUpe3ZhciByZWdpc3RlckltbWVkaWF0ZSxuZXh0SGFuZGxlPTEsdGFza3NCeUhhbmRsZT17fSxjdXJyZW50bHlSdW5uaW5nQVRhc2s9ITEsZG9jPWdsb2JhbC5kb2N1bWVudCxhdHRhY2hUbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO2F0dGFjaFRvPWF0dGFjaFRvJiZhdHRhY2hUby5zZXRUaW1lb3V0P2F0dGFjaFRvOmdsb2JhbCxcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpP3JlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7cHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe3J1bklmUHJlc2VudChoYW5kbGUpfSl9OmZ1bmN0aW9uKCl7aWYoZ2xvYmFsLnBvc3RNZXNzYWdlJiYhZ2xvYmFsLmltcG9ydFNjcmlwdHMpe3ZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzPSEwLG9sZE9uTWVzc2FnZT1nbG9iYWwub25tZXNzYWdlO3JldHVybiBnbG9iYWwub25tZXNzYWdlPWZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cz0hMX0sZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLGdsb2JhbC5vbm1lc3NhZ2U9b2xkT25NZXNzYWdlLHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXN9fSgpP2Z1bmN0aW9uKCl7dmFyIG1lc3NhZ2VQcmVmaXg9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixvbkdsb2JhbE1lc3NhZ2U9ZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnNvdXJjZT09PWdsb2JhbCYmXCJzdHJpbmdcIj09dHlwZW9mIGV2ZW50LmRhdGEmJjA9PT1ldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkmJnJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpfTtnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcj9nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixvbkdsb2JhbE1lc3NhZ2UsITEpOmdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLG9uR2xvYmFsTWVzc2FnZSkscmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXtnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCtoYW5kbGUsXCIqXCIpfX0oKTpnbG9iYWwuTWVzc2FnZUNoYW5uZWw/ZnVuY3Rpb24oKXt2YXIgY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWw7Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZXZlbnQpe3J1bklmUHJlc2VudChldmVudC5kYXRhKX0scmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXtjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSl9fSgpOmRvYyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKCl7dmFyIGh0bWw9ZG9jLmRvY3VtZW50RWxlbWVudDtyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe3ZhciBzY3JpcHQ9ZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7c2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3J1bklmUHJlc2VudChoYW5kbGUpLHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCksc2NyaXB0PW51bGx9LGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KX19KCk6cmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXtzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwwLGhhbmRsZSl9LGF0dGFjaFRvLnNldEltbWVkaWF0ZT1mdW5jdGlvbihjYWxsYmFjayl7XCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbGJhY2smJihjYWxsYmFjaz1uZXcgRnVuY3Rpb24oXCJcIitjYWxsYmFjaykpO2Zvcih2YXIgYXJncz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxpPTA7aTxhcmdzLmxlbmd0aDtpKyspYXJnc1tpXT1hcmd1bWVudHNbaSsxXTt2YXIgdGFzaz17Y2FsbGJhY2s6Y2FsbGJhY2ssYXJnczphcmdzfTtyZXR1cm4gdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXT10YXNrLHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpLG5leHRIYW5kbGUrK30sYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGU9Y2xlYXJJbW1lZGlhdGV9ZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKXtkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdfWZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpe2lmKGN1cnJlbnRseVJ1bm5pbmdBVGFzaylzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwwLGhhbmRsZSk7ZWxzZXt2YXIgdGFzaz10YXNrc0J5SGFuZGxlW2hhbmRsZV07aWYodGFzayl7Y3VycmVudGx5UnVubmluZ0FUYXNrPSEwO3RyeXshZnVuY3Rpb24odGFzayl7dmFyIGNhbGxiYWNrPXRhc2suY2FsbGJhY2ssYXJncz10YXNrLmFyZ3M7c3dpdGNoKGFyZ3MubGVuZ3RoKXtjYXNlIDA6Y2FsbGJhY2soKTticmVhaztjYXNlIDE6Y2FsbGJhY2soYXJnc1swXSk7YnJlYWs7Y2FzZSAyOmNhbGxiYWNrKGFyZ3NbMF0sYXJnc1sxXSk7YnJlYWs7Y2FzZSAzOmNhbGxiYWNrKGFyZ3NbMF0sYXJnc1sxXSxhcmdzWzJdKTticmVhaztkZWZhdWx0OmNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCxhcmdzKX19KHRhc2spfWZpbmFsbHl7Y2xlYXJJbW1lZGlhdGUoaGFuZGxlKSxjdXJyZW50bHlSdW5uaW5nQVRhc2s9ITF9fX19fShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj92b2lkIDA9PT1nbG9iYWw/dGhpczpnbG9iYWw6c2VsZil9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxMSksX193ZWJwYWNrX3JlcXVpcmVfXygyNCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsoZnVuY3Rpb24oZ2xvYmFsKXtmdW5jdGlvbiBjb25maWcobmFtZSl7dHJ5e2lmKCFnbG9iYWwubG9jYWxTdG9yYWdlKXJldHVybiExfWNhdGNoKF8pe3JldHVybiExfXZhciB2YWw9Z2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtyZXR1cm4gbnVsbCE9dmFsJiZcInRydWVcIj09PVN0cmluZyh2YWwpLnRvTG93ZXJDYXNlKCl9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZm4sbXNnKXtpZihjb25maWcoXCJub0RlcHJlY2F0aW9uXCIpKXJldHVybiBmbjt2YXIgd2FybmVkPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCF3YXJuZWQpe2lmKGNvbmZpZyhcInRocm93RGVwcmVjYXRpb25cIikpdGhyb3cgbmV3IEVycm9yKG1zZyk7Y29uZmlnKFwidHJhY2VEZXByZWNhdGlvblwiKT9jb25zb2xlLnRyYWNlKG1zZyk6Y29uc29sZS53YXJuKG1zZyksd2FybmVkPSEwfXJldHVybiBmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPVBhc3NUaHJvdWdoO3ZhciBUcmFuc2Zvcm09X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjUpKTtmdW5jdGlvbiBQYXNzVGhyb3VnaChvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBQYXNzVGhyb3VnaCkpcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtUcmFuc2Zvcm0uY2FsbCh0aGlzLG9wdGlvbnMpfXV0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNSksdXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCxUcmFuc2Zvcm0pLFBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihudWxsLGNodW5rKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDMpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg0MikuVHJhbnNmb3JtfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKS5QYXNzVGhyb3VnaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHNldEltbWVkaWF0ZSl7bW9kdWxlLmV4cG9ydHM9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0SW1tZWRpYXRlP3NldEltbWVkaWF0ZTpmdW5jdGlvbigpe3ZhciBhcmdzPVtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7YXJncy5zcGxpY2UoMSwwLDApLHNldFRpbWVvdXQuYXBwbHkobnVsbCxhcmdzKX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXyg1Nikuc2V0SW1tZWRpYXRlKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGltbWVkaWF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7ZnVuY3Rpb24gSU5URVJOQUwoKXt9dmFyIGhhbmRsZXJzPXt9LFJFSkVDVEVEPVtcIlJFSkVDVEVEXCJdLEZVTEZJTExFRD1bXCJGVUxGSUxMRURcIl0sUEVORElORz1bXCJQRU5ESU5HXCJdO2Z1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHJlc29sdmVyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dGhpcy5zdGF0ZT1QRU5ESU5HLHRoaXMucXVldWU9W10sdGhpcy5vdXRjb21lPXZvaWQgMCxyZXNvbHZlciE9PUlOVEVSTkFMJiZzYWZlbHlSZXNvbHZlVGhlbmFibGUodGhpcyxyZXNvbHZlcil9ZnVuY3Rpb24gUXVldWVJdGVtKHByb21pc2Usb25GdWxmaWxsZWQsb25SZWplY3RlZCl7dGhpcy5wcm9taXNlPXByb21pc2UsXCJmdW5jdGlvblwiPT10eXBlb2Ygb25GdWxmaWxsZWQmJih0aGlzLm9uRnVsZmlsbGVkPW9uRnVsZmlsbGVkLHRoaXMuY2FsbEZ1bGZpbGxlZD10aGlzLm90aGVyQ2FsbEZ1bGZpbGxlZCksXCJmdW5jdGlvblwiPT10eXBlb2Ygb25SZWplY3RlZCYmKHRoaXMub25SZWplY3RlZD1vblJlamVjdGVkLHRoaXMuY2FsbFJlamVjdGVkPXRoaXMub3RoZXJDYWxsUmVqZWN0ZWQpfWZ1bmN0aW9uIHVud3JhcChwcm9taXNlLGZ1bmMsdmFsdWUpe2ltbWVkaWF0ZShmdW5jdGlvbigpe3ZhciByZXR1cm5WYWx1ZTt0cnl7cmV0dXJuVmFsdWU9ZnVuYyh2YWx1ZSl9Y2F0Y2goZSl7cmV0dXJuIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLGUpfXJldHVyblZhbHVlPT09cHJvbWlzZT9oYW5kbGVycy5yZWplY3QocHJvbWlzZSxuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKSk6aGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLHJldHVyblZhbHVlKX0pfWZ1bmN0aW9uIGdldFRoZW4ob2JqKXt2YXIgdGhlbj1vYmomJm9iai50aGVuO2lmKG9iaiYmKFwib2JqZWN0XCI9PXR5cGVvZiBvYmp8fFwiZnVuY3Rpb25cIj09dHlwZW9mIG9iaikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoZW4pcmV0dXJuIGZ1bmN0aW9uKCl7dGhlbi5hcHBseShvYmosYXJndW1lbnRzKX19ZnVuY3Rpb24gc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsdGhlbmFibGUpe3ZhciBjYWxsZWQ9ITE7ZnVuY3Rpb24gb25FcnJvcih2YWx1ZSl7Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlamVjdChzZWxmLHZhbHVlKSl9ZnVuY3Rpb24gb25TdWNjZXNzKHZhbHVlKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVzb2x2ZShzZWxmLHZhbHVlKSl9dmFyIHJlc3VsdD10cnlDYXRjaChmdW5jdGlvbigpe3RoZW5hYmxlKG9uU3VjY2VzcyxvbkVycm9yKX0pO1wiZXJyb3JcIj09PXJlc3VsdC5zdGF0dXMmJm9uRXJyb3IocmVzdWx0LnZhbHVlKX1mdW5jdGlvbiB0cnlDYXRjaChmdW5jLHZhbHVlKXt2YXIgb3V0PXt9O3RyeXtvdXQudmFsdWU9ZnVuYyh2YWx1ZSksb3V0LnN0YXR1cz1cInN1Y2Nlc3NcIn1jYXRjaChlKXtvdXQuc3RhdHVzPVwiZXJyb3JcIixvdXQudmFsdWU9ZX1yZXR1cm4gb3V0fW1vZHVsZS5leHBvcnRzPVByb21pc2UsUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseT1mdW5jdGlvbihjYWxsYmFjayl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbGJhY2spcmV0dXJuIHRoaXM7dmFyIHA9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gcC5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdmFsdWV9KX0sZnVuY3Rpb24ocmVhc29uKXtyZXR1cm4gcC5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyByZWFzb259KX0pfSxQcm9taXNlLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihvblJlamVjdGVkKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsb25SZWplY3RlZCl9LFByb21pc2UucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24ob25GdWxmaWxsZWQsb25SZWplY3RlZCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygb25GdWxmaWxsZWQmJnRoaXMuc3RhdGU9PT1GVUxGSUxMRUR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIG9uUmVqZWN0ZWQmJnRoaXMuc3RhdGU9PT1SRUpFQ1RFRClyZXR1cm4gdGhpczt2YXIgcHJvbWlzZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihJTlRFUk5BTCk7dGhpcy5zdGF0ZSE9PVBFTkRJTkc/dW53cmFwKHByb21pc2UsdGhpcy5zdGF0ZT09PUZVTEZJTExFRD9vbkZ1bGZpbGxlZDpvblJlamVjdGVkLHRoaXMub3V0Y29tZSk6dGhpcy5xdWV1ZS5wdXNoKG5ldyBRdWV1ZUl0ZW0ocHJvbWlzZSxvbkZ1bGZpbGxlZCxvblJlamVjdGVkKSk7cmV0dXJuIHByb21pc2V9LFF1ZXVlSXRlbS5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZD1mdW5jdGlvbih2YWx1ZSl7aGFuZGxlcnMucmVzb2x2ZSh0aGlzLnByb21pc2UsdmFsdWUpfSxRdWV1ZUl0ZW0ucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZD1mdW5jdGlvbih2YWx1ZSl7dW53cmFwKHRoaXMucHJvbWlzZSx0aGlzLm9uRnVsZmlsbGVkLHZhbHVlKX0sUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24odmFsdWUpe2hhbmRsZXJzLnJlamVjdCh0aGlzLnByb21pc2UsdmFsdWUpfSxRdWV1ZUl0ZW0ucHJvdG90eXBlLm90aGVyQ2FsbFJlamVjdGVkPWZ1bmN0aW9uKHZhbHVlKXt1bndyYXAodGhpcy5wcm9taXNlLHRoaXMub25SZWplY3RlZCx2YWx1ZSl9LGhhbmRsZXJzLnJlc29sdmU9ZnVuY3Rpb24oc2VsZix2YWx1ZSl7dmFyIHJlc3VsdD10cnlDYXRjaChnZXRUaGVuLHZhbHVlKTtpZihcImVycm9yXCI9PT1yZXN1bHQuc3RhdHVzKXJldHVybiBoYW5kbGVycy5yZWplY3Qoc2VsZixyZXN1bHQudmFsdWUpO3ZhciB0aGVuYWJsZT1yZXN1bHQudmFsdWU7aWYodGhlbmFibGUpc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsdGhlbmFibGUpO2Vsc2V7c2VsZi5zdGF0ZT1GVUxGSUxMRUQsc2VsZi5vdXRjb21lPXZhbHVlO2Zvcih2YXIgaT0tMSxsZW49c2VsZi5xdWV1ZS5sZW5ndGg7KytpPGxlbjspc2VsZi5xdWV1ZVtpXS5jYWxsRnVsZmlsbGVkKHZhbHVlKX1yZXR1cm4gc2VsZn0saGFuZGxlcnMucmVqZWN0PWZ1bmN0aW9uKHNlbGYsZXJyb3Ipe3NlbGYuc3RhdGU9UkVKRUNURUQsc2VsZi5vdXRjb21lPWVycm9yO2Zvcih2YXIgaT0tMSxsZW49c2VsZi5xdWV1ZS5sZW5ndGg7KytpPGxlbjspc2VsZi5xdWV1ZVtpXS5jYWxsUmVqZWN0ZWQoZXJyb3IpO3JldHVybiBzZWxmfSxQcm9taXNlLnJlc29sdmU9ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlIGluc3RhbmNlb2YgdGhpcylyZXR1cm4gdmFsdWU7cmV0dXJuIGhhbmRsZXJzLnJlc29sdmUobmV3IHRoaXMoSU5URVJOQUwpLHZhbHVlKX0sUHJvbWlzZS5yZWplY3Q9ZnVuY3Rpb24ocmVhc29uKXt2YXIgcHJvbWlzZT1uZXcgdGhpcyhJTlRFUk5BTCk7cmV0dXJuIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLHJlYXNvbil9LFByb21pc2UuYWxsPWZ1bmN0aW9uKGl0ZXJhYmxlKXt2YXIgc2VsZj10aGlzO2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyYWJsZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJtdXN0IGJlIGFuIGFycmF5XCIpKTt2YXIgbGVuPWl0ZXJhYmxlLmxlbmd0aCxjYWxsZWQ9ITE7aWYoIWxlbilyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTt2YXIgdmFsdWVzPW5ldyBBcnJheShsZW4pLHJlc29sdmVkPTAsaT0tMSxwcm9taXNlPW5ldyB0aGlzKElOVEVSTkFMKTtmb3IoOysraTxsZW47KWFsbFJlc29sdmVyKGl0ZXJhYmxlW2ldLGkpO3JldHVybiBwcm9taXNlO2Z1bmN0aW9uIGFsbFJlc29sdmVyKHZhbHVlLGkpe3NlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbihvdXRWYWx1ZSl7dmFsdWVzW2ldPW91dFZhbHVlLCsrcmVzb2x2ZWQhPT1sZW58fGNhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsdmFsdWVzKSl9LGZ1bmN0aW9uKGVycm9yKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVqZWN0KHByb21pc2UsZXJyb3IpKX0pfX0sUHJvbWlzZS5yYWNlPWZ1bmN0aW9uKGl0ZXJhYmxlKXt2YXIgc2VsZj10aGlzO2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyYWJsZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJtdXN0IGJlIGFuIGFycmF5XCIpKTt2YXIgbGVuPWl0ZXJhYmxlLmxlbmd0aCxjYWxsZWQ9ITE7aWYoIWxlbilyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTt2YXIgaT0tMSxwcm9taXNlPW5ldyB0aGlzKElOVEVSTkFMKTtmb3IoOysraTxsZW47KXJlc29sdmVyKGl0ZXJhYmxlW2ldKTtyZXR1cm4gcHJvbWlzZTtmdW5jdGlvbiByZXNvbHZlcih2YWx1ZSl7c2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLHJlc3BvbnNlKSl9LGZ1bmN0aW9uKGVycm9yKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVqZWN0KHByb21pc2UsZXJyb3IpKX0pfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihnbG9iYWwpe3ZhciBzY2hlZHVsZURyYWluLGRyYWluaW5nLE11dGF0aW9uPWdsb2JhbC5NdXRhdGlvbk9ic2VydmVyfHxnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtpZihNdXRhdGlvbil7dmFyIGNhbGxlZD0wLG9ic2VydmVyPW5ldyBNdXRhdGlvbihuZXh0VGljayksZWxlbWVudD1nbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7b2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LHtjaGFyYWN0ZXJEYXRhOiEwfSksc2NoZWR1bGVEcmFpbj1mdW5jdGlvbigpe2VsZW1lbnQuZGF0YT1jYWxsZWQ9KytjYWxsZWQlMn19ZWxzZSBpZihnbG9iYWwuc2V0SW1tZWRpYXRlfHx2b2lkIDA9PT1nbG9iYWwuTWVzc2FnZUNoYW5uZWwpc2NoZWR1bGVEcmFpbj1cImRvY3VtZW50XCJpbiBnbG9iYWwmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbigpe3ZhciBzY3JpcHRFbD1nbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtuZXh0VGljaygpLHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpLHNjcmlwdEVsPW51bGx9LGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpfTpmdW5jdGlvbigpe3NldFRpbWVvdXQobmV4dFRpY2ssMCl9O2Vsc2V7dmFyIGNoYW5uZWw9bmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDtjaGFubmVsLnBvcnQxLm9ubWVzc2FnZT1uZXh0VGljayxzY2hlZHVsZURyYWluPWZ1bmN0aW9uKCl7Y2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19dmFyIHF1ZXVlPVtdO2Z1bmN0aW9uIG5leHRUaWNrKCl7dmFyIGksb2xkUXVldWU7ZHJhaW5pbmc9ITA7Zm9yKHZhciBsZW49cXVldWUubGVuZ3RoO2xlbjspe2ZvcihvbGRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXSxpPS0xOysraTxsZW47KW9sZFF1ZXVlW2ldKCk7bGVuPXF1ZXVlLmxlbmd0aH1kcmFpbmluZz0hMX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0YXNrKXsxIT09cXVldWUucHVzaCh0YXNrKXx8ZHJhaW5pbmd8fHNjaGVkdWxlRHJhaW4oKX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZnVuY3Rpb24gQ29udmVydFdvcmtlcihkZXN0VHlwZSl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJDb252ZXJ0V29ya2VyIHRvIFwiK2Rlc3RUeXBlKSx0aGlzLmRlc3RUeXBlPWRlc3RUeXBlfXV0aWxzLmluaGVyaXRzKENvbnZlcnRXb3JrZXIsR2VuZXJpY1dvcmtlciksQ29udmVydFdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLnB1c2goe2RhdGE6dXRpbHMudHJhbnNmb3JtVG8odGhpcy5kZXN0VHlwZSxjaHVuay5kYXRhKSxtZXRhOmNodW5rLm1ldGF9KX0sbW9kdWxlLmV4cG9ydHM9Q29udmVydFdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFJlYWRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNTIpLlJlYWRhYmxlO2Z1bmN0aW9uIE5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXIoaGVscGVyLG9wdGlvbnMsdXBkYXRlQ2Ipe1JlYWRhYmxlLmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLl9oZWxwZXI9aGVscGVyO3ZhciBzZWxmPXRoaXM7aGVscGVyLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGRhdGEsbWV0YSl7c2VsZi5wdXNoKGRhdGEpfHxzZWxmLl9oZWxwZXIucGF1c2UoKSx1cGRhdGVDYiYmdXBkYXRlQ2IobWV0YSl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5lbWl0KFwiZXJyb3JcIixlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtzZWxmLnB1c2gobnVsbCl9KX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKE5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXIsUmVhZGFibGUpLE5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXIucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7dGhpcy5faGVscGVyLnJlc3VtZSgpfSxtb2R1bGUuZXhwb3J0cz1Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgU3RyZWFtSGVscGVyPV9fd2VicGFja19yZXF1aXJlX18oNjApLERhdGFXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MiksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxDb21wcmVzc2VkT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNDQpLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxaaXBPYmplY3Q9ZnVuY3Rpb24obmFtZSxkYXRhLG9wdGlvbnMpe3RoaXMubmFtZT1uYW1lLHRoaXMuZGlyPW9wdGlvbnMuZGlyLHRoaXMuZGF0ZT1vcHRpb25zLmRhdGUsdGhpcy5jb21tZW50PW9wdGlvbnMuY29tbWVudCx0aGlzLnVuaXhQZXJtaXNzaW9ucz1vcHRpb25zLnVuaXhQZXJtaXNzaW9ucyx0aGlzLmRvc1Blcm1pc3Npb25zPW9wdGlvbnMuZG9zUGVybWlzc2lvbnMsdGhpcy5fZGF0YT1kYXRhLHRoaXMuX2RhdGFCaW5hcnk9b3B0aW9ucy5iaW5hcnksdGhpcy5vcHRpb25zPXtjb21wcmVzc2lvbjpvcHRpb25zLmNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9uczpvcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc319O1ppcE9iamVjdC5wcm90b3R5cGU9e2ludGVybmFsU3RyZWFtOmZ1bmN0aW9uKHR5cGUpe3ZhciByZXN1bHQ9bnVsbCxvdXRwdXRUeXBlPVwic3RyaW5nXCI7dHJ5e2lmKCF0eXBlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dmFyIGFza1VuaWNvZGVTdHJpbmc9XCJzdHJpbmdcIj09PShvdXRwdXRUeXBlPXR5cGUudG9Mb3dlckNhc2UoKSl8fFwidGV4dFwiPT09b3V0cHV0VHlwZTtcImJpbmFyeXN0cmluZ1wiIT09b3V0cHV0VHlwZSYmXCJ0ZXh0XCIhPT1vdXRwdXRUeXBlfHwob3V0cHV0VHlwZT1cInN0cmluZ1wiKSxyZXN1bHQ9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3ZhciBpc1VuaWNvZGVTdHJpbmc9IXRoaXMuX2RhdGFCaW5hcnk7aXNVbmljb2RlU3RyaW5nJiYhYXNrVW5pY29kZVN0cmluZyYmKHJlc3VsdD1yZXN1bHQucGlwZShuZXcgdXRmOC5VdGY4RW5jb2RlV29ya2VyKSksIWlzVW5pY29kZVN0cmluZyYmYXNrVW5pY29kZVN0cmluZyYmKHJlc3VsdD1yZXN1bHQucGlwZShuZXcgdXRmOC5VdGY4RGVjb2RlV29ya2VyKSl9Y2F0Y2goZSl7KHJlc3VsdD1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IFN0cmVhbUhlbHBlcihyZXN1bHQsb3V0cHV0VHlwZSxcIlwiKX0sYXN5bmM6ZnVuY3Rpb24odHlwZSxvblVwZGF0ZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0odHlwZSkuYWNjdW11bGF0ZShvblVwZGF0ZSl9LG5vZGVTdHJlYW06ZnVuY3Rpb24odHlwZSxvblVwZGF0ZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0odHlwZXx8XCJub2RlYnVmZmVyXCIpLnRvTm9kZWpzU3RyZWFtKG9uVXBkYXRlKX0sX2NvbXByZXNzV29ya2VyOmZ1bmN0aW9uKGNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9ucyl7aWYodGhpcy5fZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3QmJnRoaXMuX2RhdGEuY29tcHJlc3Npb24ubWFnaWM9PT1jb21wcmVzc2lvbi5tYWdpYylyZXR1cm4gdGhpcy5fZGF0YS5nZXRDb21wcmVzc2VkV29ya2VyKCk7dmFyIHJlc3VsdD10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7cmV0dXJuIHRoaXMuX2RhdGFCaW5hcnl8fChyZXN1bHQ9cmVzdWx0LnBpcGUobmV3IHV0ZjguVXRmOEVuY29kZVdvcmtlcikpLENvbXByZXNzZWRPYmplY3QuY3JlYXRlV29ya2VyRnJvbShyZXN1bHQsY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKX0sX2RlY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3Q/dGhpcy5fZGF0YS5nZXRDb250ZW50V29ya2VyKCk6dGhpcy5fZGF0YSBpbnN0YW5jZW9mIEdlbmVyaWNXb3JrZXI/dGhpcy5fZGF0YTpuZXcgRGF0YVdvcmtlcih0aGlzLl9kYXRhKX19O2Zvcih2YXIgcmVtb3ZlZE1ldGhvZHM9W1wiYXNUZXh0XCIsXCJhc0JpbmFyeVwiLFwiYXNOb2RlQnVmZmVyXCIsXCJhc1VpbnQ4QXJyYXlcIixcImFzQXJyYXlCdWZmZXJcIl0scmVtb3ZlZEZuPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGk9MDtpPHJlbW92ZWRNZXRob2RzLmxlbmd0aDtpKyspWmlwT2JqZWN0LnByb3RvdHlwZVtyZW1vdmVkTWV0aG9kc1tpXV09cmVtb3ZlZEZuO21vZHVsZS5leHBvcnRzPVppcE9iamVjdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGNvbXByZXNzaW9ucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxaaXBGaWxlV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMTE3KTtleHBvcnRzLmdlbmVyYXRlV29ya2VyPWZ1bmN0aW9uKHppcCxvcHRpb25zLGNvbW1lbnQpe3ZhciB6aXBGaWxlV29ya2VyPW5ldyBaaXBGaWxlV29ya2VyKG9wdGlvbnMuc3RyZWFtRmlsZXMsY29tbWVudCxvcHRpb25zLnBsYXRmb3JtLG9wdGlvbnMuZW5jb2RlRmlsZU5hbWUpLGVudHJpZXNDb3VudD0wO3RyeXt6aXAuZm9yRWFjaChmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7ZW50cmllc0NvdW50Kys7dmFyIGNvbXByZXNzaW9uPWZ1bmN0aW9uKGZpbGVDb21wcmVzc2lvbix6aXBDb21wcmVzc2lvbil7dmFyIGNvbXByZXNzaW9uTmFtZT1maWxlQ29tcHJlc3Npb258fHppcENvbXByZXNzaW9uLGNvbXByZXNzaW9uPWNvbXByZXNzaW9uc1tjb21wcmVzc2lvbk5hbWVdO2lmKCFjb21wcmVzc2lvbil0aHJvdyBuZXcgRXJyb3IoY29tcHJlc3Npb25OYW1lK1wiIGlzIG5vdCBhIHZhbGlkIGNvbXByZXNzaW9uIG1ldGhvZCAhXCIpO3JldHVybiBjb21wcmVzc2lvbn0oZmlsZS5vcHRpb25zLmNvbXByZXNzaW9uLG9wdGlvbnMuY29tcHJlc3Npb24pLGNvbXByZXNzaW9uT3B0aW9ucz1maWxlLm9wdGlvbnMuY29tcHJlc3Npb25PcHRpb25zfHxvcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc3x8e30sZGlyPWZpbGUuZGlyLGRhdGU9ZmlsZS5kYXRlO2ZpbGUuX2NvbXByZXNzV29ya2VyKGNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9ucykud2l0aFN0cmVhbUluZm8oXCJmaWxlXCIse25hbWU6cmVsYXRpdmVQYXRoLGRpcjpkaXIsZGF0ZTpkYXRlLGNvbW1lbnQ6ZmlsZS5jb21tZW50fHxcIlwiLHVuaXhQZXJtaXNzaW9uczpmaWxlLnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczpmaWxlLmRvc1Blcm1pc3Npb25zfSkucGlwZSh6aXBGaWxlV29ya2VyKX0pLHppcEZpbGVXb3JrZXIuZW50cmllc0NvdW50PWVudHJpZXNDb3VudH1jYXRjaChlKXt6aXBGaWxlV29ya2VyLmVycm9yKGUpfXJldHVybiB6aXBGaWxlV29ya2VyfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFVTRV9UWVBFREFSUkFZPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDE2QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MzJBcnJheSxwYWtvPV9fd2VicGFja19yZXF1aXJlX18oMTA4KSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxBUlJBWV9UWVBFPVVTRV9UWVBFREFSUkFZP1widWludDhhcnJheVwiOlwiYXJyYXlcIjtmdW5jdGlvbiBGbGF0ZVdvcmtlcihhY3Rpb24sb3B0aW9ucyl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJGbGF0ZVdvcmtlci9cIithY3Rpb24pLHRoaXMuX3Bha289bnVsbCx0aGlzLl9wYWtvQWN0aW9uPWFjdGlvbix0aGlzLl9wYWtvT3B0aW9ucz1vcHRpb25zLHRoaXMubWV0YT17fX1leHBvcnRzLm1hZ2ljPVwiXFxiXFwwXCIsdXRpbHMuaW5oZXJpdHMoRmxhdGVXb3JrZXIsR2VuZXJpY1dvcmtlciksRmxhdGVXb3JrZXIucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7dGhpcy5tZXRhPWNodW5rLm1ldGEsbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2godXRpbHMudHJhbnNmb3JtVG8oQVJSQVlfVFlQRSxjaHVuay5kYXRhKSwhMSl9LEZsYXRlV29ya2VyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe0dlbmVyaWNXb3JrZXIucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyksbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goW10sITApfSxGbGF0ZVdvcmtlci5wcm90b3R5cGUuY2xlYW5VcD1mdW5jdGlvbigpe0dlbmVyaWNXb3JrZXIucHJvdG90eXBlLmNsZWFuVXAuY2FsbCh0aGlzKSx0aGlzLl9wYWtvPW51bGx9LEZsYXRlV29ya2VyLnByb3RvdHlwZS5fY3JlYXRlUGFrbz1mdW5jdGlvbigpe3RoaXMuX3Bha289bmV3IHBha29bdGhpcy5fcGFrb0FjdGlvbl0oe3JhdzohMCxsZXZlbDp0aGlzLl9wYWtvT3B0aW9ucy5sZXZlbHx8LTF9KTt2YXIgc2VsZj10aGlzO3RoaXMuX3Bha28ub25EYXRhPWZ1bmN0aW9uKGRhdGEpe3NlbGYucHVzaCh7ZGF0YTpkYXRhLG1ldGE6c2VsZi5tZXRhfSl9fSxleHBvcnRzLmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKGNvbXByZXNzaW9uT3B0aW9ucyl7cmV0dXJuIG5ldyBGbGF0ZVdvcmtlcihcIkRlZmxhdGVcIixjb21wcmVzc2lvbk9wdGlvbnMpfSxleHBvcnRzLnVuY29tcHJlc3NXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsYXRlV29ya2VyKFwiSW5mbGF0ZVwiLHt9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBwYWtvPXt9OygwLF9fd2VicGFja19yZXF1aXJlX18oOCkuYXNzaWduKShwYWtvLF9fd2VicGFja19yZXF1aXJlX18oMTA5KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDExMiksX193ZWJwYWNrX3JlcXVpcmVfXyg3MCkpLG1vZHVsZS5leHBvcnRzPXBha299LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB6bGliX2RlZmxhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMTApLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksc3RyaW5ncz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSxtc2c9X193ZWJwYWNrX3JlcXVpcmVfXyg0NiksWlN0cmVhbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSx0b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFpfT0s9MCxaX0RFRkFVTFRfQ09NUFJFU1NJT049LTEsWl9ERUZBVUxUX1NUUkFURUdZPTAsWl9ERUZMQVRFRD04O2Z1bmN0aW9uIERlZmxhdGUob3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgRGVmbGF0ZSkpcmV0dXJuIG5ldyBEZWZsYXRlKG9wdGlvbnMpO3RoaXMub3B0aW9ucz11dGlscy5hc3NpZ24oe2xldmVsOlpfREVGQVVMVF9DT01QUkVTU0lPTixtZXRob2Q6Wl9ERUZMQVRFRCxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OlpfREVGQVVMVF9TVFJBVEVHWSx0bzpcIlwifSxvcHRpb25zfHx7fSk7dmFyIG9wdD10aGlzLm9wdGlvbnM7b3B0LnJhdyYmb3B0LndpbmRvd0JpdHM+MD9vcHQud2luZG93Qml0cz0tb3B0LndpbmRvd0JpdHM6b3B0Lmd6aXAmJm9wdC53aW5kb3dCaXRzPjAmJm9wdC53aW5kb3dCaXRzPDE2JiYob3B0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IFpTdHJlYW0sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sb3B0LmxldmVsLG9wdC5tZXRob2Qsb3B0LndpbmRvd0JpdHMsb3B0Lm1lbUxldmVsLG9wdC5zdHJhdGVneSk7aWYoc3RhdHVzIT09Wl9PSyl0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO2lmKG9wdC5oZWFkZXImJnpsaWJfZGVmbGF0ZS5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxvcHQuaGVhZGVyKSxvcHQuZGljdGlvbmFyeSl7dmFyIGRpY3Q7aWYoZGljdD1cInN0cmluZ1wiPT10eXBlb2Ygb3B0LmRpY3Rpb25hcnk/c3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT10b1N0cmluZy5jYWxsKG9wdC5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSk6b3B0LmRpY3Rpb25hcnksKHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGRpY3QpKSE9PVpfT0spdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gZGVmbGF0ZShpbnB1dCxvcHRpb25zKXt2YXIgZGVmbGF0b3I9bmV3IERlZmxhdGUob3B0aW9ucyk7aWYoZGVmbGF0b3IucHVzaChpbnB1dCwhMCksZGVmbGF0b3IuZXJyKXRocm93IGRlZmxhdG9yLm1zZ3x8bXNnW2RlZmxhdG9yLmVycl07cmV0dXJuIGRlZmxhdG9yLnJlc3VsdH1EZWZsYXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGRhdGEsbW9kZSl7dmFyIHN0YXR1cyxfbW9kZSxzdHJtPXRoaXMuc3RybSxjaHVua1NpemU9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO19tb2RlPW1vZGU9PT1+fm1vZGU/bW9kZTohMD09PW1vZGU/NDowLFwic3RyaW5nXCI9PXR5cGVvZiBkYXRhP3N0cm0uaW5wdXQ9c3RyaW5ncy5zdHJpbmcyYnVmKGRhdGEpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwoZGF0YSk/c3RybS5pbnB1dD1uZXcgVWludDhBcnJheShkYXRhKTpzdHJtLmlucHV0PWRhdGEsc3RybS5uZXh0X2luPTAsc3RybS5hdmFpbF9pbj1zdHJtLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09c3RybS5hdmFpbF9vdXQmJihzdHJtLm91dHB1dD1uZXcgdXRpbHMuQnVmOChjaHVua1NpemUpLHN0cm0ubmV4dF9vdXQ9MCxzdHJtLmF2YWlsX291dD1jaHVua1NpemUpLDEhPT0oc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlKHN0cm0sX21vZGUpKSYmc3RhdHVzIT09Wl9PSylyZXR1cm4gdGhpcy5vbkVuZChzdGF0dXMpLHRoaXMuZW5kZWQ9ITAsITE7MCE9PXN0cm0uYXZhaWxfb3V0JiYoMCE9PXN0cm0uYXZhaWxfaW58fDQhPT1fbW9kZSYmMiE9PV9tb2RlKXx8KFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEoc3RyaW5ncy5idWYyYmluc3RyaW5nKHV0aWxzLnNocmlua0J1ZihzdHJtLm91dHB1dCxzdHJtLm5leHRfb3V0KSkpOnRoaXMub25EYXRhKHV0aWxzLnNocmlua0J1ZihzdHJtLm91dHB1dCxzdHJtLm5leHRfb3V0KSkpfXdoaWxlKChzdHJtLmF2YWlsX2luPjB8fDA9PT1zdHJtLmF2YWlsX291dCkmJjEhPT1zdGF0dXMpO3JldHVybiA0PT09X21vZGU/KHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoc3RhdHVzKSx0aGlzLmVuZGVkPSEwLHN0YXR1cz09PVpfT0spOjIhPT1fbW9kZXx8KHRoaXMub25FbmQoWl9PSyksc3RybS5hdmFpbF9vdXQ9MCwhMCl9LERlZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihjaHVuayl7dGhpcy5jaHVua3MucHVzaChjaHVuayl9LERlZmxhdGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHN0YXR1cyl7c3RhdHVzPT09Wl9PSyYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD11dGlscy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9c3RhdHVzLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGV4cG9ydHMuRGVmbGF0ZT1EZWZsYXRlLGV4cG9ydHMuZGVmbGF0ZT1kZWZsYXRlLGV4cG9ydHMuZGVmbGF0ZVJhdz1mdW5jdGlvbihpbnB1dCxvcHRpb25zKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkucmF3PSEwLGRlZmxhdGUoaW5wdXQsb3B0aW9ucyl9LGV4cG9ydHMuZ3ppcD1mdW5jdGlvbihpbnB1dCxvcHRpb25zKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkuZ3ppcD0hMCxkZWZsYXRlKGlucHV0LG9wdGlvbnMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGNvbmZpZ3VyYXRpb25fdGFibGUsdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSx0cmVlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMSksYWRsZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2KSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3KSxtc2c9X193ZWJwYWNrX3JlcXVpcmVfXyg0NiksWl9OT19GTFVTSD0wLFpfUEFSVElBTF9GTFVTSD0xLFpfRlVMTF9GTFVTSD0zLFpfRklOSVNIPTQsWl9CTE9DSz01LFpfT0s9MCxaX1NUUkVBTV9FTkQ9MSxaX1NUUkVBTV9FUlJPUj0tMixaX0RBVEFfRVJST1I9LTMsWl9CVUZfRVJST1I9LTUsWl9ERUZBVUxUX0NPTVBSRVNTSU9OPS0xLFpfRklMVEVSRUQ9MSxaX0hVRkZNQU5fT05MWT0yLFpfUkxFPTMsWl9GSVhFRD00LFpfREVGQVVMVF9TVFJBVEVHWT0wLFpfVU5LTk9XTj0yLFpfREVGTEFURUQ9OCxNQVhfTUVNX0xFVkVMPTksTUFYX1dCSVRTPTE1LERFRl9NRU1fTEVWRUw9OCxMX0NPREVTPTI4NixEX0NPREVTPTMwLEJMX0NPREVTPTE5LEhFQVBfU0laRT0yKkxfQ09ERVMrMSxNQVhfQklUUz0xNSxNSU5fTUFUQ0g9MyxNQVhfTUFUQ0g9MjU4LE1JTl9MT09LQUhFQUQ9TUFYX01BVENIK01JTl9NQVRDSCsxLFBSRVNFVF9ESUNUPTMyLElOSVRfU1RBVEU9NDIsRVhUUkFfU1RBVEU9NjksTkFNRV9TVEFURT03MyxDT01NRU5UX1NUQVRFPTkxLEhDUkNfU1RBVEU9MTAzLEJVU1lfU1RBVEU9MTEzLEZJTklTSF9TVEFURT02NjYsQlNfTkVFRF9NT1JFPTEsQlNfQkxPQ0tfRE9ORT0yLEJTX0ZJTklTSF9TVEFSVEVEPTMsQlNfRklOSVNIX0RPTkU9NCxPU19DT0RFPTM7ZnVuY3Rpb24gZXJyKHN0cm0sZXJyb3JDb2RlKXtyZXR1cm4gc3RybS5tc2c9bXNnW2Vycm9yQ29kZV0sZXJyb3JDb2RlfWZ1bmN0aW9uIHJhbmsoZil7cmV0dXJuKGY8PDEpLShmPjQ/OTowKX1mdW5jdGlvbiB6ZXJvKGJ1Zil7Zm9yKHZhciBsZW49YnVmLmxlbmd0aDstLWxlbj49MDspYnVmW2xlbl09MH1mdW5jdGlvbiBmbHVzaF9wZW5kaW5nKHN0cm0pe3ZhciBzPXN0cm0uc3RhdGUsbGVuPXMucGVuZGluZztsZW4+c3RybS5hdmFpbF9vdXQmJihsZW49c3RybS5hdmFpbF9vdXQpLDAhPT1sZW4mJih1dGlscy5hcnJheVNldChzdHJtLm91dHB1dCxzLnBlbmRpbmdfYnVmLHMucGVuZGluZ19vdXQsbGVuLHN0cm0ubmV4dF9vdXQpLHN0cm0ubmV4dF9vdXQrPWxlbixzLnBlbmRpbmdfb3V0Kz1sZW4sc3RybS50b3RhbF9vdXQrPWxlbixzdHJtLmF2YWlsX291dC09bGVuLHMucGVuZGluZy09bGVuLDA9PT1zLnBlbmRpbmcmJihzLnBlbmRpbmdfb3V0PTApKX1mdW5jdGlvbiBmbHVzaF9ibG9ja19vbmx5KHMsbGFzdCl7dHJlZXMuX3RyX2ZsdXNoX2Jsb2NrKHMscy5ibG9ja19zdGFydD49MD9zLmJsb2NrX3N0YXJ0Oi0xLHMuc3Ryc3RhcnQtcy5ibG9ja19zdGFydCxsYXN0KSxzLmJsb2NrX3N0YXJ0PXMuc3Ryc3RhcnQsZmx1c2hfcGVuZGluZyhzLnN0cm0pfWZ1bmN0aW9uIHB1dF9ieXRlKHMsYil7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109Yn1mdW5jdGlvbiBwdXRTaG9ydE1TQihzLGIpe3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPWI+Pj44JjI1NSxzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT0yNTUmYn1mdW5jdGlvbiByZWFkX2J1ZihzdHJtLGJ1ZixzdGFydCxzaXplKXt2YXIgbGVuPXN0cm0uYXZhaWxfaW47cmV0dXJuIGxlbj5zaXplJiYobGVuPXNpemUpLDA9PT1sZW4/MDooc3RybS5hdmFpbF9pbi09bGVuLHV0aWxzLmFycmF5U2V0KGJ1ZixzdHJtLmlucHV0LHN0cm0ubmV4dF9pbixsZW4sc3RhcnQpLDE9PT1zdHJtLnN0YXRlLndyYXA/c3RybS5hZGxlcj1hZGxlcjMyKHN0cm0uYWRsZXIsYnVmLGxlbixzdGFydCk6Mj09PXN0cm0uc3RhdGUud3JhcCYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixidWYsbGVuLHN0YXJ0KSksc3RybS5uZXh0X2luKz1sZW4sc3RybS50b3RhbF9pbis9bGVuLGxlbil9ZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChzLGN1cl9tYXRjaCl7dmFyIG1hdGNoLGxlbixjaGFpbl9sZW5ndGg9cy5tYXhfY2hhaW5fbGVuZ3RoLHNjYW49cy5zdHJzdGFydCxiZXN0X2xlbj1zLnByZXZfbGVuZ3RoLG5pY2VfbWF0Y2g9cy5uaWNlX21hdGNoLGxpbWl0PXMuc3Ryc3RhcnQ+cy53X3NpemUtTUlOX0xPT0tBSEVBRD9zLnN0cnN0YXJ0LShzLndfc2l6ZS1NSU5fTE9PS0FIRUFEKTowLF93aW49cy53aW5kb3csd21hc2s9cy53X21hc2sscHJldj1zLnByZXYsc3RyZW5kPXMuc3Ryc3RhcnQrTUFYX01BVENILHNjYW5fZW5kMT1fd2luW3NjYW4rYmVzdF9sZW4tMV0sc2Nhbl9lbmQ9X3dpbltzY2FuK2Jlc3RfbGVuXTtzLnByZXZfbGVuZ3RoPj1zLmdvb2RfbWF0Y2gmJihjaGFpbl9sZW5ndGg+Pj0yKSxuaWNlX21hdGNoPnMubG9va2FoZWFkJiYobmljZV9tYXRjaD1zLmxvb2thaGVhZCk7ZG97aWYoX3dpblsobWF0Y2g9Y3VyX21hdGNoKStiZXN0X2xlbl09PT1zY2FuX2VuZCYmX3dpblttYXRjaCtiZXN0X2xlbi0xXT09PXNjYW5fZW5kMSYmX3dpblttYXRjaF09PT1fd2luW3NjYW5dJiZfd2luWysrbWF0Y2hdPT09X3dpbltzY2FuKzFdKXtzY2FuKz0yLG1hdGNoKys7ZG97fXdoaWxlKF93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJl93aW5bKytzY2FuXT09PV93aW5bKyttYXRjaF0mJnNjYW48c3RyZW5kKTtpZihsZW49TUFYX01BVENILShzdHJlbmQtc2Nhbiksc2Nhbj1zdHJlbmQtTUFYX01BVENILGxlbj5iZXN0X2xlbil7aWYocy5tYXRjaF9zdGFydD1jdXJfbWF0Y2gsYmVzdF9sZW49bGVuLGxlbj49bmljZV9tYXRjaClicmVhaztzY2FuX2VuZDE9X3dpbltzY2FuK2Jlc3RfbGVuLTFdLHNjYW5fZW5kPV93aW5bc2NhbitiZXN0X2xlbl19fX13aGlsZSgoY3VyX21hdGNoPXByZXZbY3VyX21hdGNoJndtYXNrXSk+bGltaXQmJjAhPS0tY2hhaW5fbGVuZ3RoKTtyZXR1cm4gYmVzdF9sZW48PXMubG9va2FoZWFkP2Jlc3RfbGVuOnMubG9va2FoZWFkfWZ1bmN0aW9uIGZpbGxfd2luZG93KHMpe3ZhciBwLG4sbSxtb3JlLHN0cixfd19zaXplPXMud19zaXplO2Rve2lmKG1vcmU9cy53aW5kb3dfc2l6ZS1zLmxvb2thaGVhZC1zLnN0cnN0YXJ0LHMuc3Ryc3RhcnQ+PV93X3NpemUrKF93X3NpemUtTUlOX0xPT0tBSEVBRCkpe3V0aWxzLmFycmF5U2V0KHMud2luZG93LHMud2luZG93LF93X3NpemUsX3dfc2l6ZSwwKSxzLm1hdGNoX3N0YXJ0LT1fd19zaXplLHMuc3Ryc3RhcnQtPV93X3NpemUscy5ibG9ja19zdGFydC09X3dfc2l6ZSxwPW49cy5oYXNoX3NpemU7ZG97bT1zLmhlYWRbLS1wXSxzLmhlYWRbcF09bT49X3dfc2l6ZT9tLV93X3NpemU6MH13aGlsZSgtLW4pO3A9bj1fd19zaXplO2Rve209cy5wcmV2Wy0tcF0scy5wcmV2W3BdPW0+PV93X3NpemU/bS1fd19zaXplOjB9d2hpbGUoLS1uKTttb3JlKz1fd19zaXplfWlmKDA9PT1zLnN0cm0uYXZhaWxfaW4pYnJlYWs7aWYobj1yZWFkX2J1ZihzLnN0cm0scy53aW5kb3cscy5zdHJzdGFydCtzLmxvb2thaGVhZCxtb3JlKSxzLmxvb2thaGVhZCs9bixzLmxvb2thaGVhZCtzLmluc2VydD49TUlOX01BVENIKWZvcihzdHI9cy5zdHJzdGFydC1zLmluc2VydCxzLmluc19oPXMud2luZG93W3N0cl0scy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3N0cisxXSkmcy5oYXNoX21hc2s7cy5pbnNlcnQmJihzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbc3RyK01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2sscy5wcmV2W3N0ciZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zdHIsc3RyKysscy5pbnNlcnQtLSwhKHMubG9va2FoZWFkK3MuaW5zZXJ0PE1JTl9NQVRDSCkpOyk7fXdoaWxlKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQmJjAhPT1zLnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIGRlZmxhdGVfZmFzdChzLGZsdXNoKXtmb3IodmFyIGhhc2hfaGVhZCxiZmx1c2g7Oyl7aWYocy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCl7aWYoZmlsbF93aW5kb3cocykscy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfWlmKGhhc2hfaGVhZD0wLHMubG9va2FoZWFkPj1NSU5fTUFUQ0gmJihzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLGhhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0KSwwIT09aGFzaF9oZWFkJiZzLnN0cnN0YXJ0LWhhc2hfaGVhZDw9cy53X3NpemUtTUlOX0xPT0tBSEVBRCYmKHMubWF0Y2hfbGVuZ3RoPWxvbmdlc3RfbWF0Y2gocyxoYXNoX2hlYWQpKSxzLm1hdGNoX2xlbmd0aD49TUlOX01BVENIKWlmKGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocyxzLnN0cnN0YXJ0LXMubWF0Y2hfc3RhcnQscy5tYXRjaF9sZW5ndGgtTUlOX01BVENIKSxzLmxvb2thaGVhZC09cy5tYXRjaF9sZW5ndGgscy5tYXRjaF9sZW5ndGg8PXMubWF4X2xhenlfbWF0Y2gmJnMubG9va2FoZWFkPj1NSU5fTUFUQ0gpe3MubWF0Y2hfbGVuZ3RoLS07ZG97cy5zdHJzdGFydCsrLHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnR9d2hpbGUoMCE9LS1zLm1hdGNoX2xlbmd0aCk7cy5zdHJzdGFydCsrfWVsc2Ugcy5zdHJzdGFydCs9cy5tYXRjaF9sZW5ndGgscy5tYXRjaF9sZW5ndGg9MCxzLmluc19oPXMud2luZG93W3Muc3Ryc3RhcnRdLHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0KzFdKSZzLmhhc2hfbWFzaztlbHNlIGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnRdKSxzLmxvb2thaGVhZC0tLHMuc3Ryc3RhcnQrKztpZihiZmx1c2gmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFfXJldHVybiBzLmluc2VydD1zLnN0cnN0YXJ0PE1JTl9NQVRDSC0xP3Muc3Ryc3RhcnQ6TUlOX01BVENILTEsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6cy5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfWZ1bmN0aW9uIGRlZmxhdGVfc2xvdyhzLGZsdXNoKXtmb3IodmFyIGhhc2hfaGVhZCxiZmx1c2gsbWF4X2luc2VydDs7KXtpZihzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEKXtpZihmaWxsX3dpbmRvdyhzKSxzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiZmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTtpZigwPT09cy5sb29rYWhlYWQpYnJlYWt9aWYoaGFzaF9oZWFkPTAscy5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnQpLHMucHJldl9sZW5ndGg9cy5tYXRjaF9sZW5ndGgscy5wcmV2X21hdGNoPXMubWF0Y2hfc3RhcnQscy5tYXRjaF9sZW5ndGg9TUlOX01BVENILTEsMCE9PWhhc2hfaGVhZCYmcy5wcmV2X2xlbmd0aDxzLm1heF9sYXp5X21hdGNoJiZzLnN0cnN0YXJ0LWhhc2hfaGVhZDw9cy53X3NpemUtTUlOX0xPT0tBSEVBRCYmKHMubWF0Y2hfbGVuZ3RoPWxvbmdlc3RfbWF0Y2gocyxoYXNoX2hlYWQpLHMubWF0Y2hfbGVuZ3RoPD01JiYocy5zdHJhdGVneT09PVpfRklMVEVSRUR8fHMubWF0Y2hfbGVuZ3RoPT09TUlOX01BVENIJiZzLnN0cnN0YXJ0LXMubWF0Y2hfc3RhcnQ+NDA5NikmJihzLm1hdGNoX2xlbmd0aD1NSU5fTUFUQ0gtMSkpLHMucHJldl9sZW5ndGg+PU1JTl9NQVRDSCYmcy5tYXRjaF9sZW5ndGg8PXMucHJldl9sZW5ndGgpe21heF9pbnNlcnQ9cy5zdHJzdGFydCtzLmxvb2thaGVhZC1NSU5fTUFUQ0gsYmZsdXNoPXRyZWVzLl90cl90YWxseShzLHMuc3Ryc3RhcnQtMS1zLnByZXZfbWF0Y2gscy5wcmV2X2xlbmd0aC1NSU5fTUFUQ0gpLHMubG9va2FoZWFkLT1zLnByZXZfbGVuZ3RoLTEscy5wcmV2X2xlbmd0aC09Mjtkb3srK3Muc3Ryc3RhcnQ8PW1heF9pbnNlcnQmJihzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLGhhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0KX13aGlsZSgwIT0tLXMucHJldl9sZW5ndGgpO2lmKHMubWF0Y2hfYXZhaWxhYmxlPTAscy5tYXRjaF9sZW5ndGg9TUlOX01BVENILTEscy5zdHJzdGFydCsrLGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9ZWxzZSBpZihzLm1hdGNoX2F2YWlsYWJsZSl7aWYoKGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnQtMV0pKSYmZmx1c2hfYmxvY2tfb25seShzLCExKSxzLnN0cnN0YXJ0Kysscy5sb29rYWhlYWQtLSwwPT09cy5zdHJtLmF2YWlsX291dClyZXR1cm4gQlNfTkVFRF9NT1JFfWVsc2Ugcy5tYXRjaF9hdmFpbGFibGU9MSxzLnN0cnN0YXJ0Kysscy5sb29rYWhlYWQtLX1yZXR1cm4gcy5tYXRjaF9hdmFpbGFibGUmJihiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0LTFdKSxzLm1hdGNoX2F2YWlsYWJsZT0wKSxzLmluc2VydD1zLnN0cnN0YXJ0PE1JTl9NQVRDSC0xP3Muc3Ryc3RhcnQ6TUlOX01BVENILTEsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6cy5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfWZ1bmN0aW9uIENvbmZpZyhnb29kX2xlbmd0aCxtYXhfbGF6eSxuaWNlX2xlbmd0aCxtYXhfY2hhaW4sZnVuYyl7dGhpcy5nb29kX2xlbmd0aD1nb29kX2xlbmd0aCx0aGlzLm1heF9sYXp5PW1heF9sYXp5LHRoaXMubmljZV9sZW5ndGg9bmljZV9sZW5ndGgsdGhpcy5tYXhfY2hhaW49bWF4X2NoYWluLHRoaXMuZnVuYz1mdW5jfWZ1bmN0aW9uIGRlZmxhdGVSZXNldEtlZXAoc3RybSl7dmFyIHM7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KHN0cm0udG90YWxfaW49c3RybS50b3RhbF9vdXQ9MCxzdHJtLmRhdGFfdHlwZT1aX1VOS05PV04sKHM9c3RybS5zdGF0ZSkucGVuZGluZz0wLHMucGVuZGluZ19vdXQ9MCxzLndyYXA8MCYmKHMud3JhcD0tcy53cmFwKSxzLnN0YXR1cz1zLndyYXA/SU5JVF9TVEFURTpCVVNZX1NUQVRFLHN0cm0uYWRsZXI9Mj09PXMud3JhcD8wOjEscy5sYXN0X2ZsdXNoPVpfTk9fRkxVU0gsdHJlZXMuX3RyX2luaXQocyksWl9PSyk6ZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpfWZ1bmN0aW9uIGRlZmxhdGVSZXNldChzdHJtKXt2YXIgcmV0PWRlZmxhdGVSZXNldEtlZXAoc3RybSk7cmV0dXJuIHJldD09PVpfT0smJmZ1bmN0aW9uKHMpe3Mud2luZG93X3NpemU9MipzLndfc2l6ZSx6ZXJvKHMuaGVhZCkscy5tYXhfbGF6eV9tYXRjaD1jb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9sYXp5LHMuZ29vZF9tYXRjaD1jb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmdvb2RfbGVuZ3RoLHMubmljZV9tYXRjaD1jb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm5pY2VfbGVuZ3RoLHMubWF4X2NoYWluX2xlbmd0aD1jb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9jaGFpbixzLnN0cnN0YXJ0PTAscy5ibG9ja19zdGFydD0wLHMubG9va2FoZWFkPTAscy5pbnNlcnQ9MCxzLm1hdGNoX2xlbmd0aD1zLnByZXZfbGVuZ3RoPU1JTl9NQVRDSC0xLHMubWF0Y2hfYXZhaWxhYmxlPTAscy5pbnNfaD0wfShzdHJtLnN0YXRlKSxyZXR9ZnVuY3Rpb24gZGVmbGF0ZUluaXQyKHN0cm0sbGV2ZWwsbWV0aG9kLHdpbmRvd0JpdHMsbWVtTGV2ZWwsc3RyYXRlZ3kpe2lmKCFzdHJtKXJldHVybiBaX1NUUkVBTV9FUlJPUjt2YXIgd3JhcD0xO2lmKGxldmVsPT09Wl9ERUZBVUxUX0NPTVBSRVNTSU9OJiYobGV2ZWw9Niksd2luZG93Qml0czwwPyh3cmFwPTAsd2luZG93Qml0cz0td2luZG93Qml0cyk6d2luZG93Qml0cz4xNSYmKHdyYXA9Mix3aW5kb3dCaXRzLT0xNiksbWVtTGV2ZWw8MXx8bWVtTGV2ZWw+TUFYX01FTV9MRVZFTHx8bWV0aG9kIT09Wl9ERUZMQVRFRHx8d2luZG93Qml0czw4fHx3aW5kb3dCaXRzPjE1fHxsZXZlbDwwfHxsZXZlbD45fHxzdHJhdGVneTwwfHxzdHJhdGVneT5aX0ZJWEVEKXJldHVybiBlcnIoc3RybSxaX1NUUkVBTV9FUlJPUik7OD09PXdpbmRvd0JpdHMmJih3aW5kb3dCaXRzPTkpO3ZhciBzPW5ldyBmdW5jdGlvbigpe3RoaXMuc3RybT1udWxsLHRoaXMuc3RhdHVzPTAsdGhpcy5wZW5kaW5nX2J1Zj1udWxsLHRoaXMucGVuZGluZ19idWZfc2l6ZT0wLHRoaXMucGVuZGluZ19vdXQ9MCx0aGlzLnBlbmRpbmc9MCx0aGlzLndyYXA9MCx0aGlzLmd6aGVhZD1udWxsLHRoaXMuZ3ppbmRleD0wLHRoaXMubWV0aG9kPVpfREVGTEFURUQsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IHV0aWxzLkJ1ZjE2KDIqSEVBUF9TSVpFKSx0aGlzLmR5bl9kdHJlZT1uZXcgdXRpbHMuQnVmMTYoMiooMipEX0NPREVTKzEpKSx0aGlzLmJsX3RyZWU9bmV3IHV0aWxzLkJ1ZjE2KDIqKDIqQkxfQ09ERVMrMSkpLHplcm8odGhpcy5keW5fbHRyZWUpLHplcm8odGhpcy5keW5fZHRyZWUpLHplcm8odGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgdXRpbHMuQnVmMTYoTUFYX0JJVFMrMSksdGhpcy5oZWFwPW5ldyB1dGlscy5CdWYxNigyKkxfQ09ERVMrMSksemVybyh0aGlzLmhlYXApLHRoaXMuaGVhcF9sZW49MCx0aGlzLmhlYXBfbWF4PTAsdGhpcy5kZXB0aD1uZXcgdXRpbHMuQnVmMTYoMipMX0NPREVTKzEpLHplcm8odGhpcy5kZXB0aCksdGhpcy5sX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLmxhc3RfbGl0PTAsdGhpcy5kX2J1Zj0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9O3JldHVybiBzdHJtLnN0YXRlPXMscy5zdHJtPXN0cm0scy53cmFwPXdyYXAscy5nemhlYWQ9bnVsbCxzLndfYml0cz13aW5kb3dCaXRzLHMud19zaXplPTE8PHMud19iaXRzLHMud19tYXNrPXMud19zaXplLTEscy5oYXNoX2JpdHM9bWVtTGV2ZWwrNyxzLmhhc2hfc2l6ZT0xPDxzLmhhc2hfYml0cyxzLmhhc2hfbWFzaz1zLmhhc2hfc2l6ZS0xLHMuaGFzaF9zaGlmdD1+figocy5oYXNoX2JpdHMrTUlOX01BVENILTEpL01JTl9NQVRDSCkscy53aW5kb3c9bmV3IHV0aWxzLkJ1ZjgoMipzLndfc2l6ZSkscy5oZWFkPW5ldyB1dGlscy5CdWYxNihzLmhhc2hfc2l6ZSkscy5wcmV2PW5ldyB1dGlscy5CdWYxNihzLndfc2l6ZSkscy5saXRfYnVmc2l6ZT0xPDxtZW1MZXZlbCs2LHMucGVuZGluZ19idWZfc2l6ZT00KnMubGl0X2J1ZnNpemUscy5wZW5kaW5nX2J1Zj1uZXcgdXRpbHMuQnVmOChzLnBlbmRpbmdfYnVmX3NpemUpLHMuZF9idWY9MSpzLmxpdF9idWZzaXplLHMubF9idWY9MypzLmxpdF9idWZzaXplLHMubGV2ZWw9bGV2ZWwscy5zdHJhdGVneT1zdHJhdGVneSxzLm1ldGhvZD1tZXRob2QsZGVmbGF0ZVJlc2V0KHN0cm0pfWNvbmZpZ3VyYXRpb25fdGFibGU9W25ldyBDb25maWcoMCwwLDAsMCxmdW5jdGlvbihzLGZsdXNoKXt2YXIgbWF4X2Jsb2NrX3NpemU9NjU1MzU7Zm9yKG1heF9ibG9ja19zaXplPnMucGVuZGluZ19idWZfc2l6ZS01JiYobWF4X2Jsb2NrX3NpemU9cy5wZW5kaW5nX2J1Zl9zaXplLTUpOzspe2lmKHMubG9va2FoZWFkPD0xKXtpZihmaWxsX3dpbmRvdyhzKSwwPT09cy5sb29rYWhlYWQmJmZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKDA9PT1zLmxvb2thaGVhZClicmVha31zLnN0cnN0YXJ0Kz1zLmxvb2thaGVhZCxzLmxvb2thaGVhZD0wO3ZhciBtYXhfc3RhcnQ9cy5ibG9ja19zdGFydCttYXhfYmxvY2tfc2l6ZTtpZigoMD09PXMuc3Ryc3RhcnR8fHMuc3Ryc3RhcnQ+PW1heF9zdGFydCkmJihzLmxvb2thaGVhZD1zLnN0cnN0YXJ0LW1heF9zdGFydCxzLnN0cnN0YXJ0PW1heF9zdGFydCxmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKHMuc3Ryc3RhcnQtcy5ibG9ja19zdGFydD49cy53X3NpemUtTUlOX0xPT0tBSEVBRCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PTAsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6KHMuc3Ryc3RhcnQ+cy5ibG9ja19zdGFydCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSkscy5zdHJtLmF2YWlsX291dCksQlNfTkVFRF9NT1JFKX0pLG5ldyBDb25maWcoNCw0LDgsNCxkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw1LDE2LDgsZGVmbGF0ZV9mYXN0KSxuZXcgQ29uZmlnKDQsNiwzMiwzMixkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw0LDE2LDE2LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDMyLDMyLGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDEyOCwxMjgsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMzIsMTI4LDI1NixkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoMzIsMTI4LDI1OCwxMDI0LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZygzMiwyNTgsMjU4LDQwOTYsZGVmbGF0ZV9zbG93KV0sZXhwb3J0cy5kZWZsYXRlSW5pdD1mdW5jdGlvbihzdHJtLGxldmVsKXtyZXR1cm4gZGVmbGF0ZUluaXQyKHN0cm0sbGV2ZWwsWl9ERUZMQVRFRCxNQVhfV0JJVFMsREVGX01FTV9MRVZFTCxaX0RFRkFVTFRfU1RSQVRFR1kpfSxleHBvcnRzLmRlZmxhdGVJbml0Mj1kZWZsYXRlSW5pdDIsZXhwb3J0cy5kZWZsYXRlUmVzZXQ9ZGVmbGF0ZVJlc2V0LGV4cG9ydHMuZGVmbGF0ZVJlc2V0S2VlcD1kZWZsYXRlUmVzZXRLZWVwLGV4cG9ydHMuZGVmbGF0ZVNldEhlYWRlcj1mdW5jdGlvbihzdHJtLGhlYWQpe3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPzIhPT1zdHJtLnN0YXRlLndyYXA/Wl9TVFJFQU1fRVJST1I6KHN0cm0uc3RhdGUuZ3poZWFkPWhlYWQsWl9PSyk6Wl9TVFJFQU1fRVJST1J9LGV4cG9ydHMuZGVmbGF0ZT1mdW5jdGlvbihzdHJtLGZsdXNoKXt2YXIgb2xkX2ZsdXNoLHMsYmVnLHZhbDtpZighc3RybXx8IXN0cm0uc3RhdGV8fGZsdXNoPlpfQkxPQ0t8fGZsdXNoPDApcmV0dXJuIHN0cm0/ZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpOlpfU1RSRUFNX0VSUk9SO2lmKHM9c3RybS5zdGF0ZSwhc3RybS5vdXRwdXR8fCFzdHJtLmlucHV0JiYwIT09c3RybS5hdmFpbF9pbnx8cy5zdGF0dXM9PT1GSU5JU0hfU1RBVEUmJmZsdXNoIT09Wl9GSU5JU0gpcmV0dXJuIGVycihzdHJtLDA9PT1zdHJtLmF2YWlsX291dD9aX0JVRl9FUlJPUjpaX1NUUkVBTV9FUlJPUik7aWYocy5zdHJtPXN0cm0sb2xkX2ZsdXNoPXMubGFzdF9mbHVzaCxzLmxhc3RfZmx1c2g9Zmx1c2gscy5zdGF0dXM9PT1JTklUX1NUQVRFKWlmKDI9PT1zLndyYXApc3RybS5hZGxlcj0wLHB1dF9ieXRlKHMsMzEpLHB1dF9ieXRlKHMsMTM5KSxwdXRfYnl0ZShzLDgpLHMuZ3poZWFkPyhwdXRfYnl0ZShzLChzLmd6aGVhZC50ZXh0PzE6MCkrKHMuZ3poZWFkLmhjcmM/MjowKSsocy5nemhlYWQuZXh0cmE/NDowKSsocy5nemhlYWQubmFtZT84OjApKyhzLmd6aGVhZC5jb21tZW50PzE2OjApKSxwdXRfYnl0ZShzLDI1NSZzLmd6aGVhZC50aW1lKSxwdXRfYnl0ZShzLHMuZ3poZWFkLnRpbWU+PjgmMjU1KSxwdXRfYnl0ZShzLHMuZ3poZWFkLnRpbWU+PjE2JjI1NSkscHV0X2J5dGUocyxzLmd6aGVhZC50aW1lPj4yNCYyNTUpLHB1dF9ieXRlKHMsOT09PXMubGV2ZWw/MjpzLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8cy5sZXZlbDwyPzQ6MCkscHV0X2J5dGUocywyNTUmcy5nemhlYWQub3MpLHMuZ3poZWFkLmV4dHJhJiZzLmd6aGVhZC5leHRyYS5sZW5ndGgmJihwdXRfYnl0ZShzLDI1NSZzLmd6aGVhZC5leHRyYS5sZW5ndGgpLHB1dF9ieXRlKHMscy5nemhlYWQuZXh0cmEubGVuZ3RoPj44JjI1NSkpLHMuZ3poZWFkLmhjcmMmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmcsMCkpLHMuZ3ppbmRleD0wLHMuc3RhdHVzPUVYVFJBX1NUQVRFKToocHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsOT09PXMubGV2ZWw/MjpzLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8cy5sZXZlbDwyPzQ6MCkscHV0X2J5dGUocyxPU19DT0RFKSxzLnN0YXR1cz1CVVNZX1NUQVRFKTtlbHNle3ZhciBoZWFkZXI9Wl9ERUZMQVRFRCsocy53X2JpdHMtODw8NCk8PDg7aGVhZGVyfD0ocy5zdHJhdGVneT49Wl9IVUZGTUFOX09OTFl8fHMubGV2ZWw8Mj8wOnMubGV2ZWw8Nj8xOjY9PT1zLmxldmVsPzI6Myk8PDYsMCE9PXMuc3Ryc3RhcnQmJihoZWFkZXJ8PVBSRVNFVF9ESUNUKSxoZWFkZXIrPTMxLWhlYWRlciUzMSxzLnN0YXR1cz1CVVNZX1NUQVRFLHB1dFNob3J0TVNCKHMsaGVhZGVyKSwwIT09cy5zdHJzdGFydCYmKHB1dFNob3J0TVNCKHMsc3RybS5hZGxlcj4+PjE2KSxwdXRTaG9ydE1TQihzLDY1NTM1JnN0cm0uYWRsZXIpKSxzdHJtLmFkbGVyPTF9aWYocy5zdGF0dXM9PT1FWFRSQV9TVEFURSlpZihzLmd6aGVhZC5leHRyYSl7Zm9yKGJlZz1zLnBlbmRpbmc7cy5nemluZGV4PCg2NTUzNSZzLmd6aGVhZC5leHRyYS5sZW5ndGgpJiYocy5wZW5kaW5nIT09cy5wZW5kaW5nX2J1Zl9zaXplfHwocy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSksZmx1c2hfcGVuZGluZyhzdHJtKSxiZWc9cy5wZW5kaW5nLHMucGVuZGluZyE9PXMucGVuZGluZ19idWZfc2l6ZSkpOylwdXRfYnl0ZShzLDI1NSZzLmd6aGVhZC5leHRyYVtzLmd6aW5kZXhdKSxzLmd6aW5kZXgrKztzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxzLmd6aW5kZXg9PT1zLmd6aGVhZC5leHRyYS5sZW5ndGgmJihzLmd6aW5kZXg9MCxzLnN0YXR1cz1OQU1FX1NUQVRFKX1lbHNlIHMuc3RhdHVzPU5BTUVfU1RBVEU7aWYocy5zdGF0dXM9PT1OQU1FX1NUQVRFKWlmKHMuZ3poZWFkLm5hbWUpe2JlZz1zLnBlbmRpbmc7ZG97aWYocy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplJiYocy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSksZmx1c2hfcGVuZGluZyhzdHJtKSxiZWc9cy5wZW5kaW5nLHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSkpe3ZhbD0xO2JyZWFrfXZhbD1zLmd6aW5kZXg8cy5nemhlYWQubmFtZS5sZW5ndGg/MjU1JnMuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChzLmd6aW5kZXgrKyk6MCxwdXRfYnl0ZShzLHZhbCl9d2hpbGUoMCE9PXZhbCk7cy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSksMD09PXZhbCYmKHMuZ3ppbmRleD0wLHMuc3RhdHVzPUNPTU1FTlRfU1RBVEUpfWVsc2Ugcy5zdGF0dXM9Q09NTUVOVF9TVEFURTtpZihzLnN0YXR1cz09PUNPTU1FTlRfU1RBVEUpaWYocy5nemhlYWQuY29tbWVudCl7YmVnPXMucGVuZGluZztkb3tpZihzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUmJihzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLGJlZz1zLnBlbmRpbmcscy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKSl7dmFsPTE7YnJlYWt9dmFsPXMuZ3ppbmRleDxzLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmcy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKTowLHB1dF9ieXRlKHMsdmFsKX13aGlsZSgwIT09dmFsKTtzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSwwPT09dmFsJiYocy5zdGF0dXM9SENSQ19TVEFURSl9ZWxzZSBzLnN0YXR1cz1IQ1JDX1NUQVRFO2lmKHMuc3RhdHVzPT09SENSQ19TVEFURSYmKHMuZ3poZWFkLmhjcmM/KHMucGVuZGluZysyPnMucGVuZGluZ19idWZfc2l6ZSYmZmx1c2hfcGVuZGluZyhzdHJtKSxzLnBlbmRpbmcrMjw9cy5wZW5kaW5nX2J1Zl9zaXplJiYocHV0X2J5dGUocywyNTUmc3RybS5hZGxlcikscHV0X2J5dGUocyxzdHJtLmFkbGVyPj44JjI1NSksc3RybS5hZGxlcj0wLHMuc3RhdHVzPUJVU1lfU1RBVEUpKTpzLnN0YXR1cz1CVVNZX1NUQVRFKSwwIT09cy5wZW5kaW5nKXtpZihmbHVzaF9wZW5kaW5nKHN0cm0pLDA9PT1zdHJtLmF2YWlsX291dClyZXR1cm4gcy5sYXN0X2ZsdXNoPS0xLFpfT0t9ZWxzZSBpZigwPT09c3RybS5hdmFpbF9pbiYmcmFuayhmbHVzaCk8PXJhbmsob2xkX2ZsdXNoKSYmZmx1c2ghPT1aX0ZJTklTSClyZXR1cm4gZXJyKHN0cm0sWl9CVUZfRVJST1IpO2lmKHMuc3RhdHVzPT09RklOSVNIX1NUQVRFJiYwIT09c3RybS5hdmFpbF9pbilyZXR1cm4gZXJyKHN0cm0sWl9CVUZfRVJST1IpO2lmKDAhPT1zdHJtLmF2YWlsX2lufHwwIT09cy5sb29rYWhlYWR8fGZsdXNoIT09Wl9OT19GTFVTSCYmcy5zdGF0dXMhPT1GSU5JU0hfU1RBVEUpe3ZhciBic3RhdGU9cy5zdHJhdGVneT09PVpfSFVGRk1BTl9PTkxZP2Z1bmN0aW9uKHMsZmx1c2gpe2Zvcih2YXIgYmZsdXNoOzspe2lmKDA9PT1zLmxvb2thaGVhZCYmKGZpbGxfd2luZG93KHMpLDA9PT1zLmxvb2thaGVhZCkpe2lmKGZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2JyZWFrfWlmKHMubWF0Y2hfbGVuZ3RoPTAsYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydF0pLHMubG9va2FoZWFkLS0scy5zdHJzdGFydCsrLGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PTAsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6cy5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfShzLGZsdXNoKTpzLnN0cmF0ZWd5PT09Wl9STEU/ZnVuY3Rpb24ocyxmbHVzaCl7Zm9yKHZhciBiZmx1c2gscHJldixzY2FuLHN0cmVuZCxfd2luPXMud2luZG93Ozspe2lmKHMubG9va2FoZWFkPD1NQVhfTUFUQ0gpe2lmKGZpbGxfd2luZG93KHMpLHMubG9va2FoZWFkPD1NQVhfTUFUQ0gmJmZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKDA9PT1zLmxvb2thaGVhZClicmVha31pZihzLm1hdGNoX2xlbmd0aD0wLHMubG9va2FoZWFkPj1NSU5fTUFUQ0gmJnMuc3Ryc3RhcnQ+MCYmKHByZXY9X3dpbltzY2FuPXMuc3Ryc3RhcnQtMV0pPT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dKXtzdHJlbmQ9cy5zdHJzdGFydCtNQVhfTUFUQ0g7ZG97fXdoaWxlKHByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnNjYW48c3RyZW5kKTtzLm1hdGNoX2xlbmd0aD1NQVhfTUFUQ0gtKHN0cmVuZC1zY2FuKSxzLm1hdGNoX2xlbmd0aD5zLmxvb2thaGVhZCYmKHMubWF0Y2hfbGVuZ3RoPXMubG9va2FoZWFkKX1pZihzLm1hdGNoX2xlbmd0aD49TUlOX01BVENIPyhiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMSxzLm1hdGNoX2xlbmd0aC1NSU5fTUFUQ0gpLHMubG9va2FoZWFkLT1zLm1hdGNoX2xlbmd0aCxzLnN0cnN0YXJ0Kz1zLm1hdGNoX2xlbmd0aCxzLm1hdGNoX2xlbmd0aD0wKTooYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydF0pLHMubG9va2FoZWFkLS0scy5zdHJzdGFydCsrKSxiZmx1c2gmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFfXJldHVybiBzLmluc2VydD0wLGZsdXNoPT09Wl9GSU5JU0g/KGZsdXNoX2Jsb2NrX29ubHkocywhMCksMD09PXMuc3RybS5hdmFpbF9vdXQ/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOnMubGFzdF9saXQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KT9CU19ORUVEX01PUkU6QlNfQkxPQ0tfRE9ORX0ocyxmbHVzaCk6Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5mdW5jKHMsZmx1c2gpO2lmKGJzdGF0ZSE9PUJTX0ZJTklTSF9TVEFSVEVEJiZic3RhdGUhPT1CU19GSU5JU0hfRE9ORXx8KHMuc3RhdHVzPUZJTklTSF9TVEFURSksYnN0YXRlPT09QlNfTkVFRF9NT1JFfHxic3RhdGU9PT1CU19GSU5JU0hfU1RBUlRFRClyZXR1cm4gMD09PXN0cm0uYXZhaWxfb3V0JiYocy5sYXN0X2ZsdXNoPS0xKSxaX09LO2lmKGJzdGF0ZT09PUJTX0JMT0NLX0RPTkUmJihmbHVzaD09PVpfUEFSVElBTF9GTFVTSD90cmVlcy5fdHJfYWxpZ24ocyk6Zmx1c2ghPT1aX0JMT0NLJiYodHJlZXMuX3RyX3N0b3JlZF9ibG9jayhzLDAsMCwhMSksZmx1c2g9PT1aX0ZVTExfRkxVU0gmJih6ZXJvKHMuaGVhZCksMD09PXMubG9va2FoZWFkJiYocy5zdHJzdGFydD0wLHMuYmxvY2tfc3RhcnQ9MCxzLmluc2VydD0wKSkpLGZsdXNoX3BlbmRpbmcoc3RybSksMD09PXN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gcy5sYXN0X2ZsdXNoPS0xLFpfT0t9cmV0dXJuIGZsdXNoIT09Wl9GSU5JU0g/Wl9PSzpzLndyYXA8PTA/Wl9TVFJFQU1fRU5EOigyPT09cy53cmFwPyhwdXRfYnl0ZShzLDI1NSZzdHJtLmFkbGVyKSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjgmMjU1KSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjE2JjI1NSkscHV0X2J5dGUocyxzdHJtLmFkbGVyPj4yNCYyNTUpLHB1dF9ieXRlKHMsMjU1JnN0cm0udG90YWxfaW4pLHB1dF9ieXRlKHMsc3RybS50b3RhbF9pbj4+OCYyNTUpLHB1dF9ieXRlKHMsc3RybS50b3RhbF9pbj4+MTYmMjU1KSxwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4+PjI0JjI1NSkpOihwdXRTaG9ydE1TQihzLHN0cm0uYWRsZXI+Pj4xNikscHV0U2hvcnRNU0Iocyw2NTUzNSZzdHJtLmFkbGVyKSksZmx1c2hfcGVuZGluZyhzdHJtKSxzLndyYXA+MCYmKHMud3JhcD0tcy53cmFwKSwwIT09cy5wZW5kaW5nP1pfT0s6Wl9TVFJFQU1fRU5EKX0sZXhwb3J0cy5kZWZsYXRlRW5kPWZ1bmN0aW9uKHN0cm0pe3ZhciBzdGF0dXM7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KHN0YXR1cz1zdHJtLnN0YXRlLnN0YXR1cykhPT1JTklUX1NUQVRFJiZzdGF0dXMhPT1FWFRSQV9TVEFURSYmc3RhdHVzIT09TkFNRV9TVEFURSYmc3RhdHVzIT09Q09NTUVOVF9TVEFURSYmc3RhdHVzIT09SENSQ19TVEFURSYmc3RhdHVzIT09QlVTWV9TVEFURSYmc3RhdHVzIT09RklOSVNIX1NUQVRFP2VycihzdHJtLFpfU1RSRUFNX0VSUk9SKTooc3RybS5zdGF0ZT1udWxsLHN0YXR1cz09PUJVU1lfU1RBVEU/ZXJyKHN0cm0sWl9EQVRBX0VSUk9SKTpaX09LKTpaX1NUUkVBTV9FUlJPUn0sZXhwb3J0cy5kZWZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihzdHJtLGRpY3Rpb25hcnkpe3ZhciBzLHN0cixuLHdyYXAsYXZhaWwsbmV4dCxpbnB1dCx0bXBEaWN0LGRpY3RMZW5ndGg9ZGljdGlvbmFyeS5sZW5ndGg7aWYoIXN0cm18fCFzdHJtLnN0YXRlKXJldHVybiBaX1NUUkVBTV9FUlJPUjtpZigyPT09KHdyYXA9KHM9c3RybS5zdGF0ZSkud3JhcCl8fDE9PT13cmFwJiZzLnN0YXR1cyE9PUlOSVRfU1RBVEV8fHMubG9va2FoZWFkKXJldHVybiBaX1NUUkVBTV9FUlJPUjtmb3IoMT09PXdyYXAmJihzdHJtLmFkbGVyPWFkbGVyMzIoc3RybS5hZGxlcixkaWN0aW9uYXJ5LGRpY3RMZW5ndGgsMCkpLHMud3JhcD0wLGRpY3RMZW5ndGg+PXMud19zaXplJiYoMD09PXdyYXAmJih6ZXJvKHMuaGVhZCkscy5zdHJzdGFydD0wLHMuYmxvY2tfc3RhcnQ9MCxzLmluc2VydD0wKSx0bXBEaWN0PW5ldyB1dGlscy5CdWY4KHMud19zaXplKSx1dGlscy5hcnJheVNldCh0bXBEaWN0LGRpY3Rpb25hcnksZGljdExlbmd0aC1zLndfc2l6ZSxzLndfc2l6ZSwwKSxkaWN0aW9uYXJ5PXRtcERpY3QsZGljdExlbmd0aD1zLndfc2l6ZSksYXZhaWw9c3RybS5hdmFpbF9pbixuZXh0PXN0cm0ubmV4dF9pbixpbnB1dD1zdHJtLmlucHV0LHN0cm0uYXZhaWxfaW49ZGljdExlbmd0aCxzdHJtLm5leHRfaW49MCxzdHJtLmlucHV0PWRpY3Rpb25hcnksZmlsbF93aW5kb3cocyk7cy5sb29rYWhlYWQ+PU1JTl9NQVRDSDspe3N0cj1zLnN0cnN0YXJ0LG49cy5sb29rYWhlYWQtKE1JTl9NQVRDSC0xKTtkb3tzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbc3RyK01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2sscy5wcmV2W3N0ciZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zdHIsc3RyKyt9d2hpbGUoLS1uKTtzLnN0cnN0YXJ0PXN0cixzLmxvb2thaGVhZD1NSU5fTUFUQ0gtMSxmaWxsX3dpbmRvdyhzKX1yZXR1cm4gcy5zdHJzdGFydCs9cy5sb29rYWhlYWQscy5ibG9ja19zdGFydD1zLnN0cnN0YXJ0LHMuaW5zZXJ0PXMubG9va2FoZWFkLHMubG9va2FoZWFkPTAscy5tYXRjaF9sZW5ndGg9cy5wcmV2X2xlbmd0aD1NSU5fTUFUQ0gtMSxzLm1hdGNoX2F2YWlsYWJsZT0wLHN0cm0ubmV4dF9pbj1uZXh0LHN0cm0uaW5wdXQ9aW5wdXQsc3RybS5hdmFpbF9pbj1hdmFpbCxzLndyYXA9d3JhcCxaX09LfSxleHBvcnRzLmRlZmxhdGVJbmZvPVwicGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxaX0ZJWEVEPTQsWl9CSU5BUlk9MCxaX1RFWFQ9MSxaX1VOS05PV049MjtmdW5jdGlvbiB6ZXJvKGJ1Zil7Zm9yKHZhciBsZW49YnVmLmxlbmd0aDstLWxlbj49MDspYnVmW2xlbl09MH12YXIgU1RPUkVEX0JMT0NLPTAsU1RBVElDX1RSRUVTPTEsRFlOX1RSRUVTPTIsTEVOR1RIX0NPREVTPTI5LExJVEVSQUxTPTI1NixMX0NPREVTPUxJVEVSQUxTKzErTEVOR1RIX0NPREVTLERfQ09ERVM9MzAsQkxfQ09ERVM9MTksSEVBUF9TSVpFPTIqTF9DT0RFUysxLE1BWF9CSVRTPTE1LEJ1Zl9zaXplPTE2LE1BWF9CTF9CSVRTPTcsRU5EX0JMT0NLPTI1NixSRVBfM182PTE2LFJFUFpfM18xMD0xNyxSRVBaXzExXzEzOD0xOCxleHRyYV9sYml0cz1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSxleHRyYV9kYml0cz1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10sZXh0cmFfYmxiaXRzPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxibF9vcmRlcj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sc3RhdGljX2x0cmVlPW5ldyBBcnJheSgyKihMX0NPREVTKzIpKTt6ZXJvKHN0YXRpY19sdHJlZSk7dmFyIHN0YXRpY19kdHJlZT1uZXcgQXJyYXkoMipEX0NPREVTKTt6ZXJvKHN0YXRpY19kdHJlZSk7dmFyIF9kaXN0X2NvZGU9bmV3IEFycmF5KDUxMik7emVybyhfZGlzdF9jb2RlKTt2YXIgX2xlbmd0aF9jb2RlPW5ldyBBcnJheSgyNTYpO3plcm8oX2xlbmd0aF9jb2RlKTt2YXIgYmFzZV9sZW5ndGg9bmV3IEFycmF5KExFTkdUSF9DT0RFUyk7emVybyhiYXNlX2xlbmd0aCk7dmFyIHN0YXRpY19sX2Rlc2Msc3RhdGljX2RfZGVzYyxzdGF0aWNfYmxfZGVzYyxiYXNlX2Rpc3Q9bmV3IEFycmF5KERfQ09ERVMpO2Z1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLGV4dHJhX2JpdHMsZXh0cmFfYmFzZSxlbGVtcyxtYXhfbGVuZ3RoKXt0aGlzLnN0YXRpY190cmVlPXN0YXRpY190cmVlLHRoaXMuZXh0cmFfYml0cz1leHRyYV9iaXRzLHRoaXMuZXh0cmFfYmFzZT1leHRyYV9iYXNlLHRoaXMuZWxlbXM9ZWxlbXMsdGhpcy5tYXhfbGVuZ3RoPW1heF9sZW5ndGgsdGhpcy5oYXNfc3RyZWU9c3RhdGljX3RyZWUmJnN0YXRpY190cmVlLmxlbmd0aH1mdW5jdGlvbiBUcmVlRGVzYyhkeW5fdHJlZSxzdGF0X2Rlc2Mpe3RoaXMuZHluX3RyZWU9ZHluX3RyZWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXN0YXRfZGVzY31mdW5jdGlvbiBkX2NvZGUoZGlzdCl7cmV0dXJuIGRpc3Q8MjU2P19kaXN0X2NvZGVbZGlzdF06X2Rpc3RfY29kZVsyNTYrKGRpc3Q+Pj43KV19ZnVuY3Rpb24gcHV0X3Nob3J0KHMsdyl7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109MjU1Jncscy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109dz4+PjgmMjU1fWZ1bmN0aW9uIHNlbmRfYml0cyhzLHZhbHVlLGxlbmd0aCl7cy5iaV92YWxpZD5CdWZfc2l6ZS1sZW5ndGg/KHMuYmlfYnVmfD12YWx1ZTw8cy5iaV92YWxpZCY2NTUzNSxwdXRfc2hvcnQocyxzLmJpX2J1Zikscy5iaV9idWY9dmFsdWU+PkJ1Zl9zaXplLXMuYmlfdmFsaWQscy5iaV92YWxpZCs9bGVuZ3RoLUJ1Zl9zaXplKToocy5iaV9idWZ8PXZhbHVlPDxzLmJpX3ZhbGlkJjY1NTM1LHMuYmlfdmFsaWQrPWxlbmd0aCl9ZnVuY3Rpb24gc2VuZF9jb2RlKHMsYyx0cmVlKXtzZW5kX2JpdHMocyx0cmVlWzIqY10sdHJlZVsyKmMrMV0pfWZ1bmN0aW9uIGJpX3JldmVyc2UoY29kZSxsZW4pe3ZhciByZXM9MDtkb3tyZXN8PTEmY29kZSxjb2RlPj4+PTEscmVzPDw9MX13aGlsZSgtLWxlbj4wKTtyZXR1cm4gcmVzPj4+MX1mdW5jdGlvbiBnZW5fY29kZXModHJlZSxtYXhfY29kZSxibF9jb3VudCl7dmFyIGJpdHMsbixuZXh0X2NvZGU9bmV3IEFycmF5KE1BWF9CSVRTKzEpLGNvZGU9MDtmb3IoYml0cz0xO2JpdHM8PU1BWF9CSVRTO2JpdHMrKyluZXh0X2NvZGVbYml0c109Y29kZT1jb2RlK2JsX2NvdW50W2JpdHMtMV08PDE7Zm9yKG49MDtuPD1tYXhfY29kZTtuKyspe3ZhciBsZW49dHJlZVsyKm4rMV07MCE9PWxlbiYmKHRyZWVbMipuXT1iaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssbGVuKSl9fWZ1bmN0aW9uIGluaXRfYmxvY2socyl7dmFyIG47Zm9yKG49MDtuPExfQ09ERVM7bisrKXMuZHluX2x0cmVlWzIqbl09MDtmb3Iobj0wO248RF9DT0RFUztuKyspcy5keW5fZHRyZWVbMipuXT0wO2ZvcihuPTA7bjxCTF9DT0RFUztuKyspcy5ibF90cmVlWzIqbl09MDtzLmR5bl9sdHJlZVsyKkVORF9CTE9DS109MSxzLm9wdF9sZW49cy5zdGF0aWNfbGVuPTAscy5sYXN0X2xpdD1zLm1hdGNoZXM9MH1mdW5jdGlvbiBiaV93aW5kdXAocyl7cy5iaV92YWxpZD44P3B1dF9zaG9ydChzLHMuYmlfYnVmKTpzLmJpX3ZhbGlkPjAmJihzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1zLmJpX2J1Zikscy5iaV9idWY9MCxzLmJpX3ZhbGlkPTB9ZnVuY3Rpb24gc21hbGxlcih0cmVlLG4sbSxkZXB0aCl7dmFyIF9uMj0yKm4sX20yPTIqbTtyZXR1cm4gdHJlZVtfbjJdPHRyZWVbX20yXXx8dHJlZVtfbjJdPT09dHJlZVtfbTJdJiZkZXB0aFtuXTw9ZGVwdGhbbV19ZnVuY3Rpb24gcHFkb3duaGVhcChzLHRyZWUsayl7Zm9yKHZhciB2PXMuaGVhcFtrXSxqPWs8PDE7ajw9cy5oZWFwX2xlbiYmKGo8cy5oZWFwX2xlbiYmc21hbGxlcih0cmVlLHMuaGVhcFtqKzFdLHMuaGVhcFtqXSxzLmRlcHRoKSYmaisrLCFzbWFsbGVyKHRyZWUsdixzLmhlYXBbal0scy5kZXB0aCkpOylzLmhlYXBba109cy5oZWFwW2pdLGs9aixqPDw9MTtzLmhlYXBba109dn1mdW5jdGlvbiBjb21wcmVzc19ibG9jayhzLGx0cmVlLGR0cmVlKXt2YXIgZGlzdCxsYyxjb2RlLGV4dHJhLGx4PTA7aWYoMCE9PXMubGFzdF9saXQpZG97ZGlzdD1zLnBlbmRpbmdfYnVmW3MuZF9idWYrMipseF08PDh8cy5wZW5kaW5nX2J1ZltzLmRfYnVmKzIqbHgrMV0sbGM9cy5wZW5kaW5nX2J1ZltzLmxfYnVmK2x4XSxseCsrLDA9PT1kaXN0P3NlbmRfY29kZShzLGxjLGx0cmVlKTooc2VuZF9jb2RlKHMsKGNvZGU9X2xlbmd0aF9jb2RlW2xjXSkrTElURVJBTFMrMSxsdHJlZSksMCE9PShleHRyYT1leHRyYV9sYml0c1tjb2RlXSkmJnNlbmRfYml0cyhzLGxjLT1iYXNlX2xlbmd0aFtjb2RlXSxleHRyYSksc2VuZF9jb2RlKHMsY29kZT1kX2NvZGUoLS1kaXN0KSxkdHJlZSksMCE9PShleHRyYT1leHRyYV9kYml0c1tjb2RlXSkmJnNlbmRfYml0cyhzLGRpc3QtPWJhc2VfZGlzdFtjb2RlXSxleHRyYSkpfXdoaWxlKGx4PHMubGFzdF9saXQpO3NlbmRfY29kZShzLEVORF9CTE9DSyxsdHJlZSl9ZnVuY3Rpb24gYnVpbGRfdHJlZShzLGRlc2Mpe3ZhciBuLG0sbm9kZSx0cmVlPWRlc2MuZHluX3RyZWUsc3RyZWU9ZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaGFzX3N0cmVlPWRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZSxlbGVtcz1kZXNjLnN0YXRfZGVzYy5lbGVtcyxtYXhfY29kZT0tMTtmb3Iocy5oZWFwX2xlbj0wLHMuaGVhcF9tYXg9SEVBUF9TSVpFLG49MDtuPGVsZW1zO24rKykwIT09dHJlZVsyKm5dPyhzLmhlYXBbKytzLmhlYXBfbGVuXT1tYXhfY29kZT1uLHMuZGVwdGhbbl09MCk6dHJlZVsyKm4rMV09MDtmb3IoO3MuaGVhcF9sZW48MjspdHJlZVsyKihub2RlPXMuaGVhcFsrK3MuaGVhcF9sZW5dPW1heF9jb2RlPDI/KyttYXhfY29kZTowKV09MSxzLmRlcHRoW25vZGVdPTAscy5vcHRfbGVuLS0saGFzX3N0cmVlJiYocy5zdGF0aWNfbGVuLT1zdHJlZVsyKm5vZGUrMV0pO2ZvcihkZXNjLm1heF9jb2RlPW1heF9jb2RlLG49cy5oZWFwX2xlbj4+MTtuPj0xO24tLSlwcWRvd25oZWFwKHMsdHJlZSxuKTtub2RlPWVsZW1zO2Rve249cy5oZWFwWzFdLHMuaGVhcFsxXT1zLmhlYXBbcy5oZWFwX2xlbi0tXSxwcWRvd25oZWFwKHMsdHJlZSwxKSxtPXMuaGVhcFsxXSxzLmhlYXBbLS1zLmhlYXBfbWF4XT1uLHMuaGVhcFstLXMuaGVhcF9tYXhdPW0sdHJlZVsyKm5vZGVdPXRyZWVbMipuXSt0cmVlWzIqbV0scy5kZXB0aFtub2RlXT0ocy5kZXB0aFtuXT49cy5kZXB0aFttXT9zLmRlcHRoW25dOnMuZGVwdGhbbV0pKzEsdHJlZVsyKm4rMV09dHJlZVsyKm0rMV09bm9kZSxzLmhlYXBbMV09bm9kZSsrLHBxZG93bmhlYXAocyx0cmVlLDEpfXdoaWxlKHMuaGVhcF9sZW4+PTIpO3MuaGVhcFstLXMuaGVhcF9tYXhdPXMuaGVhcFsxXSxmdW5jdGlvbihzLGRlc2Mpe3ZhciBoLG4sbSxiaXRzLHhiaXRzLGYsdHJlZT1kZXNjLmR5bl90cmVlLG1heF9jb2RlPWRlc2MubWF4X2NvZGUsc3RyZWU9ZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaGFzX3N0cmVlPWRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZSxleHRyYT1kZXNjLnN0YXRfZGVzYy5leHRyYV9iaXRzLGJhc2U9ZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZSxtYXhfbGVuZ3RoPWRlc2Muc3RhdF9kZXNjLm1heF9sZW5ndGgsb3ZlcmZsb3c9MDtmb3IoYml0cz0wO2JpdHM8PU1BWF9CSVRTO2JpdHMrKylzLmJsX2NvdW50W2JpdHNdPTA7Zm9yKHRyZWVbMipzLmhlYXBbcy5oZWFwX21heF0rMV09MCxoPXMuaGVhcF9tYXgrMTtoPEhFQVBfU0laRTtoKyspKGJpdHM9dHJlZVsyKnRyZWVbMioobj1zLmhlYXBbaF0pKzFdKzFdKzEpPm1heF9sZW5ndGgmJihiaXRzPW1heF9sZW5ndGgsb3ZlcmZsb3crKyksdHJlZVsyKm4rMV09Yml0cyxuPm1heF9jb2RlfHwocy5ibF9jb3VudFtiaXRzXSsrLHhiaXRzPTAsbj49YmFzZSYmKHhiaXRzPWV4dHJhW24tYmFzZV0pLGY9dHJlZVsyKm5dLHMub3B0X2xlbis9ZiooYml0cyt4Yml0cyksaGFzX3N0cmVlJiYocy5zdGF0aWNfbGVuKz1mKihzdHJlZVsyKm4rMV0reGJpdHMpKSk7aWYoMCE9PW92ZXJmbG93KXtkb3tmb3IoYml0cz1tYXhfbGVuZ3RoLTE7MD09PXMuYmxfY291bnRbYml0c107KWJpdHMtLTtzLmJsX2NvdW50W2JpdHNdLS0scy5ibF9jb3VudFtiaXRzKzFdKz0yLHMuYmxfY291bnRbbWF4X2xlbmd0aF0tLSxvdmVyZmxvdy09Mn13aGlsZShvdmVyZmxvdz4wKTtmb3IoYml0cz1tYXhfbGVuZ3RoOzAhPT1iaXRzO2JpdHMtLSlmb3Iobj1zLmJsX2NvdW50W2JpdHNdOzAhPT1uOykobT1zLmhlYXBbLS1oXSk+bWF4X2NvZGV8fCh0cmVlWzIqbSsxXSE9PWJpdHMmJihzLm9wdF9sZW4rPShiaXRzLXRyZWVbMiptKzFdKSp0cmVlWzIqbV0sdHJlZVsyKm0rMV09Yml0cyksbi0tKX19KHMsZGVzYyksZ2VuX2NvZGVzKHRyZWUsbWF4X2NvZGUscy5ibF9jb3VudCl9ZnVuY3Rpb24gc2Nhbl90cmVlKHMsdHJlZSxtYXhfY29kZSl7dmFyIG4sY3VybGVuLHByZXZsZW49LTEsbmV4dGxlbj10cmVlWzFdLGNvdW50PTAsbWF4X2NvdW50PTcsbWluX2NvdW50PTQ7Zm9yKDA9PT1uZXh0bGVuJiYobWF4X2NvdW50PTEzOCxtaW5fY291bnQ9MyksdHJlZVsyKihtYXhfY29kZSsxKSsxXT02NTUzNSxuPTA7bjw9bWF4X2NvZGU7bisrKWN1cmxlbj1uZXh0bGVuLG5leHRsZW49dHJlZVsyKihuKzEpKzFdLCsrY291bnQ8bWF4X2NvdW50JiZjdXJsZW49PT1uZXh0bGVufHwoY291bnQ8bWluX2NvdW50P3MuYmxfdHJlZVsyKmN1cmxlbl0rPWNvdW50OjAhPT1jdXJsZW4/KGN1cmxlbiE9PXByZXZsZW4mJnMuYmxfdHJlZVsyKmN1cmxlbl0rKyxzLmJsX3RyZWVbMipSRVBfM182XSsrKTpjb3VudDw9MTA/cy5ibF90cmVlWzIqUkVQWl8zXzEwXSsrOnMuYmxfdHJlZVsyKlJFUFpfMTFfMTM4XSsrLGNvdW50PTAscHJldmxlbj1jdXJsZW4sMD09PW5leHRsZW4/KG1heF9jb3VudD0xMzgsbWluX2NvdW50PTMpOmN1cmxlbj09PW5leHRsZW4/KG1heF9jb3VudD02LG1pbl9jb3VudD0zKToobWF4X2NvdW50PTcsbWluX2NvdW50PTQpKX1mdW5jdGlvbiBzZW5kX3RyZWUocyx0cmVlLG1heF9jb2RlKXt2YXIgbixjdXJsZW4scHJldmxlbj0tMSxuZXh0bGVuPXRyZWVbMV0sY291bnQ9MCxtYXhfY291bnQ9NyxtaW5fY291bnQ9NDtmb3IoMD09PW5leHRsZW4mJihtYXhfY291bnQ9MTM4LG1pbl9jb3VudD0zKSxuPTA7bjw9bWF4X2NvZGU7bisrKWlmKGN1cmxlbj1uZXh0bGVuLG5leHRsZW49dHJlZVsyKihuKzEpKzFdLCEoKytjb3VudDxtYXhfY291bnQmJmN1cmxlbj09PW5leHRsZW4pKXtpZihjb3VudDxtaW5fY291bnQpZG97c2VuZF9jb2RlKHMsY3VybGVuLHMuYmxfdHJlZSl9d2hpbGUoMCE9LS1jb3VudCk7ZWxzZSAwIT09Y3VybGVuPyhjdXJsZW4hPT1wcmV2bGVuJiYoc2VuZF9jb2RlKHMsY3VybGVuLHMuYmxfdHJlZSksY291bnQtLSksc2VuZF9jb2RlKHMsUkVQXzNfNixzLmJsX3RyZWUpLHNlbmRfYml0cyhzLGNvdW50LTMsMikpOmNvdW50PD0xMD8oc2VuZF9jb2RlKHMsUkVQWl8zXzEwLHMuYmxfdHJlZSksc2VuZF9iaXRzKHMsY291bnQtMywzKSk6KHNlbmRfY29kZShzLFJFUFpfMTFfMTM4LHMuYmxfdHJlZSksc2VuZF9iaXRzKHMsY291bnQtMTEsNykpO2NvdW50PTAscHJldmxlbj1jdXJsZW4sMD09PW5leHRsZW4/KG1heF9jb3VudD0xMzgsbWluX2NvdW50PTMpOmN1cmxlbj09PW5leHRsZW4/KG1heF9jb3VudD02LG1pbl9jb3VudD0zKToobWF4X2NvdW50PTcsbWluX2NvdW50PTQpfX16ZXJvKGJhc2VfZGlzdCk7dmFyIHN0YXRpY19pbml0X2RvbmU9ITE7ZnVuY3Rpb24gX3RyX3N0b3JlZF9ibG9jayhzLGJ1ZixzdG9yZWRfbGVuLGxhc3Qpe3NlbmRfYml0cyhzLChTVE9SRURfQkxPQ0s8PDEpKyhsYXN0PzE6MCksMyksZnVuY3Rpb24ocyxidWYsbGVuLGhlYWRlcil7Ymlfd2luZHVwKHMpLGhlYWRlciYmKHB1dF9zaG9ydChzLGxlbikscHV0X3Nob3J0KHMsfmxlbikpLHV0aWxzLmFycmF5U2V0KHMucGVuZGluZ19idWYscy53aW5kb3csYnVmLGxlbixzLnBlbmRpbmcpLHMucGVuZGluZys9bGVufShzLGJ1ZixzdG9yZWRfbGVuLCEwKX1leHBvcnRzLl90cl9pbml0PWZ1bmN0aW9uKHMpe3N0YXRpY19pbml0X2RvbmV8fChmdW5jdGlvbigpe3ZhciBuLGJpdHMsbGVuZ3RoLGNvZGUsZGlzdCxibF9jb3VudD1uZXcgQXJyYXkoTUFYX0JJVFMrMSk7Zm9yKGxlbmd0aD0wLGNvZGU9MDtjb2RlPExFTkdUSF9DT0RFUy0xO2NvZGUrKylmb3IoYmFzZV9sZW5ndGhbY29kZV09bGVuZ3RoLG49MDtuPDE8PGV4dHJhX2xiaXRzW2NvZGVdO24rKylfbGVuZ3RoX2NvZGVbbGVuZ3RoKytdPWNvZGU7Zm9yKF9sZW5ndGhfY29kZVtsZW5ndGgtMV09Y29kZSxkaXN0PTAsY29kZT0wO2NvZGU8MTY7Y29kZSsrKWZvcihiYXNlX2Rpc3RbY29kZV09ZGlzdCxuPTA7bjwxPDxleHRyYV9kYml0c1tjb2RlXTtuKyspX2Rpc3RfY29kZVtkaXN0KytdPWNvZGU7Zm9yKGRpc3Q+Pj03O2NvZGU8RF9DT0RFUztjb2RlKyspZm9yKGJhc2VfZGlzdFtjb2RlXT1kaXN0PDw3LG49MDtuPDE8PGV4dHJhX2RiaXRzW2NvZGVdLTc7bisrKV9kaXN0X2NvZGVbMjU2K2Rpc3QrK109Y29kZTtmb3IoYml0cz0wO2JpdHM8PU1BWF9CSVRTO2JpdHMrKylibF9jb3VudFtiaXRzXT0wO2ZvcihuPTA7bjw9MTQzOylzdGF0aWNfbHRyZWVbMipuKzFdPTgsbisrLGJsX2NvdW50WzhdKys7Zm9yKDtuPD0yNTU7KXN0YXRpY19sdHJlZVsyKm4rMV09OSxuKyssYmxfY291bnRbOV0rKztmb3IoO248PTI3OTspc3RhdGljX2x0cmVlWzIqbisxXT03LG4rKyxibF9jb3VudFs3XSsrO2Zvcig7bjw9Mjg3OylzdGF0aWNfbHRyZWVbMipuKzFdPTgsbisrLGJsX2NvdW50WzhdKys7Zm9yKGdlbl9jb2RlcyhzdGF0aWNfbHRyZWUsTF9DT0RFUysxLGJsX2NvdW50KSxuPTA7bjxEX0NPREVTO24rKylzdGF0aWNfZHRyZWVbMipuKzFdPTUsc3RhdGljX2R0cmVlWzIqbl09YmlfcmV2ZXJzZShuLDUpO3N0YXRpY19sX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19sdHJlZSxleHRyYV9sYml0cyxMSVRFUkFMUysxLExfQ09ERVMsTUFYX0JJVFMpLHN0YXRpY19kX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19kdHJlZSxleHRyYV9kYml0cywwLERfQ09ERVMsTUFYX0JJVFMpLHN0YXRpY19ibF9kZXNjPW5ldyBTdGF0aWNUcmVlRGVzYyhuZXcgQXJyYXkoMCksZXh0cmFfYmxiaXRzLDAsQkxfQ09ERVMsTUFYX0JMX0JJVFMpfSgpLHN0YXRpY19pbml0X2RvbmU9ITApLHMubF9kZXNjPW5ldyBUcmVlRGVzYyhzLmR5bl9sdHJlZSxzdGF0aWNfbF9kZXNjKSxzLmRfZGVzYz1uZXcgVHJlZURlc2Mocy5keW5fZHRyZWUsc3RhdGljX2RfZGVzYykscy5ibF9kZXNjPW5ldyBUcmVlRGVzYyhzLmJsX3RyZWUsc3RhdGljX2JsX2Rlc2MpLHMuYmlfYnVmPTAscy5iaV92YWxpZD0wLGluaXRfYmxvY2socyl9LGV4cG9ydHMuX3RyX3N0b3JlZF9ibG9jaz1fdHJfc3RvcmVkX2Jsb2NrLGV4cG9ydHMuX3RyX2ZsdXNoX2Jsb2NrPWZ1bmN0aW9uKHMsYnVmLHN0b3JlZF9sZW4sbGFzdCl7dmFyIG9wdF9sZW5iLHN0YXRpY19sZW5iLG1heF9ibGluZGV4PTA7cy5sZXZlbD4wPyhzLnN0cm0uZGF0YV90eXBlPT09Wl9VTktOT1dOJiYocy5zdHJtLmRhdGFfdHlwZT1mdW5jdGlvbihzKXt2YXIgbixibGFja19tYXNrPTQwOTM2MjQ0NDc7Zm9yKG49MDtuPD0zMTtuKyssYmxhY2tfbWFzaz4+Pj0xKWlmKDEmYmxhY2tfbWFzayYmMCE9PXMuZHluX2x0cmVlWzIqbl0pcmV0dXJuIFpfQklOQVJZO2lmKDAhPT1zLmR5bl9sdHJlZVsxOF18fDAhPT1zLmR5bl9sdHJlZVsyMF18fDAhPT1zLmR5bl9sdHJlZVsyNl0pcmV0dXJuIFpfVEVYVDtmb3Iobj0zMjtuPExJVEVSQUxTO24rKylpZigwIT09cy5keW5fbHRyZWVbMipuXSlyZXR1cm4gWl9URVhUO3JldHVybiBaX0JJTkFSWX0ocykpLGJ1aWxkX3RyZWUocyxzLmxfZGVzYyksYnVpbGRfdHJlZShzLHMuZF9kZXNjKSxtYXhfYmxpbmRleD1mdW5jdGlvbihzKXt2YXIgbWF4X2JsaW5kZXg7Zm9yKHNjYW5fdHJlZShzLHMuZHluX2x0cmVlLHMubF9kZXNjLm1heF9jb2RlKSxzY2FuX3RyZWUocyxzLmR5bl9kdHJlZSxzLmRfZGVzYy5tYXhfY29kZSksYnVpbGRfdHJlZShzLHMuYmxfZGVzYyksbWF4X2JsaW5kZXg9QkxfQ09ERVMtMTttYXhfYmxpbmRleD49MyYmMD09PXMuYmxfdHJlZVsyKmJsX29yZGVyW21heF9ibGluZGV4XSsxXTttYXhfYmxpbmRleC0tKTtyZXR1cm4gcy5vcHRfbGVuKz0zKihtYXhfYmxpbmRleCsxKSs1KzUrNCxtYXhfYmxpbmRleH0ocyksb3B0X2xlbmI9cy5vcHRfbGVuKzMrNz4+PjMsKHN0YXRpY19sZW5iPXMuc3RhdGljX2xlbiszKzc+Pj4zKTw9b3B0X2xlbmImJihvcHRfbGVuYj1zdGF0aWNfbGVuYikpOm9wdF9sZW5iPXN0YXRpY19sZW5iPXN0b3JlZF9sZW4rNSxzdG9yZWRfbGVuKzQ8PW9wdF9sZW5iJiYtMSE9PWJ1Zj9fdHJfc3RvcmVkX2Jsb2NrKHMsYnVmLHN0b3JlZF9sZW4sbGFzdCk6cy5zdHJhdGVneT09PVpfRklYRUR8fHN0YXRpY19sZW5iPT09b3B0X2xlbmI/KHNlbmRfYml0cyhzLChTVEFUSUNfVFJFRVM8PDEpKyhsYXN0PzE6MCksMyksY29tcHJlc3NfYmxvY2socyxzdGF0aWNfbHRyZWUsc3RhdGljX2R0cmVlKSk6KHNlbmRfYml0cyhzLChEWU5fVFJFRVM8PDEpKyhsYXN0PzE6MCksMyksZnVuY3Rpb24ocyxsY29kZXMsZGNvZGVzLGJsY29kZXMpe3ZhciByYW5rO2ZvcihzZW5kX2JpdHMocyxsY29kZXMtMjU3LDUpLHNlbmRfYml0cyhzLGRjb2Rlcy0xLDUpLHNlbmRfYml0cyhzLGJsY29kZXMtNCw0KSxyYW5rPTA7cmFuazxibGNvZGVzO3JhbmsrKylzZW5kX2JpdHMocyxzLmJsX3RyZWVbMipibF9vcmRlcltyYW5rXSsxXSwzKTtzZW5kX3RyZWUocyxzLmR5bl9sdHJlZSxsY29kZXMtMSksc2VuZF90cmVlKHMscy5keW5fZHRyZWUsZGNvZGVzLTEpfShzLHMubF9kZXNjLm1heF9jb2RlKzEscy5kX2Rlc2MubWF4X2NvZGUrMSxtYXhfYmxpbmRleCsxKSxjb21wcmVzc19ibG9jayhzLHMuZHluX2x0cmVlLHMuZHluX2R0cmVlKSksaW5pdF9ibG9jayhzKSxsYXN0JiZiaV93aW5kdXAocyl9LGV4cG9ydHMuX3RyX3RhbGx5PWZ1bmN0aW9uKHMsZGlzdCxsYyl7cmV0dXJuIHMucGVuZGluZ19idWZbcy5kX2J1ZisyKnMubGFzdF9saXRdPWRpc3Q+Pj44JjI1NSxzLnBlbmRpbmdfYnVmW3MuZF9idWYrMipzLmxhc3RfbGl0KzFdPTI1NSZkaXN0LHMucGVuZGluZ19idWZbcy5sX2J1ZitzLmxhc3RfbGl0XT0yNTUmbGMscy5sYXN0X2xpdCsrLDA9PT1kaXN0P3MuZHluX2x0cmVlWzIqbGNdKys6KHMubWF0Y2hlcysrLGRpc3QtLSxzLmR5bl9sdHJlZVsyKihfbGVuZ3RoX2NvZGVbbGNdK0xJVEVSQUxTKzEpXSsrLHMuZHluX2R0cmVlWzIqZF9jb2RlKGRpc3QpXSsrKSxzLmxhc3RfbGl0PT09cy5saXRfYnVmc2l6ZS0xfSxleHBvcnRzLl90cl9hbGlnbj1mdW5jdGlvbihzKXtzZW5kX2JpdHMocyxTVEFUSUNfVFJFRVM8PDEsMyksc2VuZF9jb2RlKHMsRU5EX0JMT0NLLHN0YXRpY19sdHJlZSksZnVuY3Rpb24ocyl7MTY9PT1zLmJpX3ZhbGlkPyhwdXRfc2hvcnQocyxzLmJpX2J1Zikscy5iaV9idWY9MCxzLmJpX3ZhbGlkPTApOnMuYmlfdmFsaWQ+PTgmJihzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT0yNTUmcy5iaV9idWYscy5iaV9idWY+Pj04LHMuYmlfdmFsaWQtPTgpfShzKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB6bGliX2luZmxhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMTMpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksc3RyaW5ncz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSxjPV9fd2VicGFja19yZXF1aXJlX18oNzApLG1zZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSxaU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNjkpLEdaaGVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTE2KSx0b1N0cmluZz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIEluZmxhdGUob3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgSW5mbGF0ZSkpcmV0dXJuIG5ldyBJbmZsYXRlKG9wdGlvbnMpO3RoaXMub3B0aW9ucz11dGlscy5hc3NpZ24oe2NodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjAsdG86XCJcIn0sb3B0aW9uc3x8e30pO3ZhciBvcHQ9dGhpcy5vcHRpb25zO29wdC5yYXcmJm9wdC53aW5kb3dCaXRzPj0wJiZvcHQud2luZG93Qml0czwxNiYmKG9wdC53aW5kb3dCaXRzPS1vcHQud2luZG93Qml0cywwPT09b3B0LndpbmRvd0JpdHMmJihvcHQud2luZG93Qml0cz0tMTUpKSwhKG9wdC53aW5kb3dCaXRzPj0wJiZvcHQud2luZG93Qml0czwxNil8fG9wdGlvbnMmJm9wdGlvbnMud2luZG93Qml0c3x8KG9wdC53aW5kb3dCaXRzKz0zMiksb3B0LndpbmRvd0JpdHM+MTUmJm9wdC53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmb3B0LndpbmRvd0JpdHMpJiYob3B0LndpbmRvd0JpdHN8PTE1KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IFpTdHJlYW0sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVJbml0Mih0aGlzLnN0cm0sb3B0LndpbmRvd0JpdHMpO2lmKHN0YXR1cyE9PWMuWl9PSyl0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO2lmKHRoaXMuaGVhZGVyPW5ldyBHWmhlYWRlcix6bGliX2luZmxhdGUuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLG9wdC5kaWN0aW9uYXJ5JiYoXCJzdHJpbmdcIj09dHlwZW9mIG9wdC5kaWN0aW9uYXJ5P29wdC5kaWN0aW9uYXJ5PXN0cmluZ3Muc3RyaW5nMmJ1ZihvcHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkmJihvcHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSkpLG9wdC5yYXcmJihzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxvcHQuZGljdGlvbmFyeSkpIT09Yy5aX09LKSl0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pfWZ1bmN0aW9uIGluZmxhdGUoaW5wdXQsb3B0aW9ucyl7dmFyIGluZmxhdG9yPW5ldyBJbmZsYXRlKG9wdGlvbnMpO2lmKGluZmxhdG9yLnB1c2goaW5wdXQsITApLGluZmxhdG9yLmVycil0aHJvdyBpbmZsYXRvci5tc2d8fG1zZ1tpbmZsYXRvci5lcnJdO3JldHVybiBpbmZsYXRvci5yZXN1bHR9SW5mbGF0ZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihkYXRhLG1vZGUpe3ZhciBzdGF0dXMsX21vZGUsbmV4dF9vdXRfdXRmOCx0YWlsLHV0ZjhzdHIsc3RybT10aGlzLnN0cm0sY2h1bmtTaXplPXRoaXMub3B0aW9ucy5jaHVua1NpemUsZGljdGlvbmFyeT10aGlzLm9wdGlvbnMuZGljdGlvbmFyeSxhbGxvd0J1ZkVycm9yPSExO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7X21vZGU9bW9kZT09PX5+bW9kZT9tb2RlOiEwPT09bW9kZT9jLlpfRklOSVNIOmMuWl9OT19GTFVTSCxcInN0cmluZ1wiPT10eXBlb2YgZGF0YT9zdHJtLmlucHV0PXN0cmluZ3MuYmluc3RyaW5nMmJ1ZihkYXRhKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT10b1N0cmluZy5jYWxsKGRhdGEpP3N0cm0uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZGF0YSk6c3RybS5pbnB1dD1kYXRhLHN0cm0ubmV4dF9pbj0wLHN0cm0uYXZhaWxfaW49c3RybS5pbnB1dC5sZW5ndGg7ZG97aWYoMD09PXN0cm0uYXZhaWxfb3V0JiYoc3RybS5vdXRwdXQ9bmV3IHV0aWxzLkJ1ZjgoY2h1bmtTaXplKSxzdHJtLm5leHRfb3V0PTAsc3RybS5hdmFpbF9vdXQ9Y2h1bmtTaXplKSwoc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlKHN0cm0sYy5aX05PX0ZMVVNIKSk9PT1jLlpfTkVFRF9ESUNUJiZkaWN0aW9uYXJ5JiYoc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sZGljdGlvbmFyeSkpLHN0YXR1cz09PWMuWl9CVUZfRVJST1ImJiEwPT09YWxsb3dCdWZFcnJvciYmKHN0YXR1cz1jLlpfT0ssYWxsb3dCdWZFcnJvcj0hMSksc3RhdHVzIT09Yy5aX1NUUkVBTV9FTkQmJnN0YXR1cyE9PWMuWl9PSylyZXR1cm4gdGhpcy5vbkVuZChzdGF0dXMpLHRoaXMuZW5kZWQ9ITAsITE7c3RybS5uZXh0X291dCYmKDAhPT1zdHJtLmF2YWlsX291dCYmc3RhdHVzIT09Yy5aX1NUUkVBTV9FTkQmJigwIT09c3RybS5hdmFpbF9pbnx8X21vZGUhPT1jLlpfRklOSVNIJiZfbW9kZSE9PWMuWl9TWU5DX0ZMVVNIKXx8KFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/KG5leHRfb3V0X3V0Zjg9c3RyaW5ncy51dGY4Ym9yZGVyKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpLHRhaWw9c3RybS5uZXh0X291dC1uZXh0X291dF91dGY4LHV0ZjhzdHI9c3RyaW5ncy5idWYyc3RyaW5nKHN0cm0ub3V0cHV0LG5leHRfb3V0X3V0ZjgpLHN0cm0ubmV4dF9vdXQ9dGFpbCxzdHJtLmF2YWlsX291dD1jaHVua1NpemUtdGFpbCx0YWlsJiZ1dGlscy5hcnJheVNldChzdHJtLm91dHB1dCxzdHJtLm91dHB1dCxuZXh0X291dF91dGY4LHRhaWwsMCksdGhpcy5vbkRhdGEodXRmOHN0cikpOnRoaXMub25EYXRhKHV0aWxzLnNocmlua0J1ZihzdHJtLm91dHB1dCxzdHJtLm5leHRfb3V0KSkpKSwwPT09c3RybS5hdmFpbF9pbiYmMD09PXN0cm0uYXZhaWxfb3V0JiYoYWxsb3dCdWZFcnJvcj0hMCl9d2hpbGUoKHN0cm0uYXZhaWxfaW4+MHx8MD09PXN0cm0uYXZhaWxfb3V0KSYmc3RhdHVzIT09Yy5aX1NUUkVBTV9FTkQpO3JldHVybiBzdGF0dXM9PT1jLlpfU1RSRUFNX0VORCYmKF9tb2RlPWMuWl9GSU5JU0gpLF9tb2RlPT09Yy5aX0ZJTklTSD8oc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChzdGF0dXMpLHRoaXMuZW5kZWQ9ITAsc3RhdHVzPT09Yy5aX09LKTpfbW9kZSE9PWMuWl9TWU5DX0ZMVVNIfHwodGhpcy5vbkVuZChjLlpfT0spLHN0cm0uYXZhaWxfb3V0PTAsITApfSxJbmZsYXRlLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oY2h1bmspe3RoaXMuY2h1bmtzLnB1c2goY2h1bmspfSxJbmZsYXRlLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihzdGF0dXMpe3N0YXR1cz09PWMuWl9PSyYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD11dGlscy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9c3RhdHVzLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGV4cG9ydHMuSW5mbGF0ZT1JbmZsYXRlLGV4cG9ydHMuaW5mbGF0ZT1pbmZsYXRlLGV4cG9ydHMuaW5mbGF0ZVJhdz1mdW5jdGlvbihpbnB1dCxvcHRpb25zKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkucmF3PSEwLGluZmxhdGUoaW5wdXQsb3B0aW9ucyl9LGV4cG9ydHMudW5nemlwPWluZmxhdGV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLGFkbGVyMzI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NiksY3JjMzI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NyksaW5mbGF0ZV9mYXN0PV9fd2VicGFja19yZXF1aXJlX18oMTE0KSxpbmZsYXRlX3RhYmxlPV9fd2VicGFja19yZXF1aXJlX18oMTE1KSxDT0RFUz0wLExFTlM9MSxESVNUUz0yLFpfRklOSVNIPTQsWl9CTE9DSz01LFpfVFJFRVM9NixaX09LPTAsWl9TVFJFQU1fRU5EPTEsWl9ORUVEX0RJQ1Q9MixaX1NUUkVBTV9FUlJPUj0tMixaX0RBVEFfRVJST1I9LTMsWl9NRU1fRVJST1I9LTQsWl9CVUZfRVJST1I9LTUsWl9ERUZMQVRFRD04LEhFQUQ9MSxGTEFHUz0yLFRJTUU9MyxPUz00LEVYTEVOPTUsRVhUUkE9NixOQU1FPTcsQ09NTUVOVD04LEhDUkM9OSxESUNUSUQ9MTAsRElDVD0xMSxUWVBFPTEyLFRZUEVETz0xMyxTVE9SRUQ9MTQsQ09QWV89MTUsQ09QWT0xNixUQUJMRT0xNyxMRU5MRU5TPTE4LENPREVMRU5TPTE5LExFTl89MjAsTEVOPTIxLExFTkVYVD0yMixESVNUPTIzLERJU1RFWFQ9MjQsTUFUQ0g9MjUsTElUPTI2LENIRUNLPTI3LExFTkdUSD0yOCxET05FPTI5LEJBRD0zMCxNRU09MzEsU1lOQz0zMixFTk9VR0hfTEVOUz04NTIsRU5PVUdIX0RJU1RTPTU5MixERUZfV0JJVFM9MTU7ZnVuY3Rpb24genN3YXAzMihxKXtyZXR1cm4ocT4+PjI0JjI1NSkrKHE+Pj44JjY1MjgwKSsoKDY1MjgwJnEpPDw4KSsoKDI1NSZxKTw8MjQpfWZ1bmN0aW9uIGluZmxhdGVSZXNldEtlZXAoc3RybSl7dmFyIHN0YXRlO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPyhzdGF0ZT1zdHJtLnN0YXRlLHN0cm0udG90YWxfaW49c3RybS50b3RhbF9vdXQ9c3RhdGUudG90YWw9MCxzdHJtLm1zZz1cIlwiLHN0YXRlLndyYXAmJihzdHJtLmFkbGVyPTEmc3RhdGUud3JhcCksc3RhdGUubW9kZT1IRUFELHN0YXRlLmxhc3Q9MCxzdGF0ZS5oYXZlZGljdD0wLHN0YXRlLmRtYXg9MzI3Njgsc3RhdGUuaGVhZD1udWxsLHN0YXRlLmhvbGQ9MCxzdGF0ZS5iaXRzPTAsc3RhdGUubGVuY29kZT1zdGF0ZS5sZW5keW49bmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9MRU5TKSxzdGF0ZS5kaXN0Y29kZT1zdGF0ZS5kaXN0ZHluPW5ldyB1dGlscy5CdWYzMihFTk9VR0hfRElTVFMpLHN0YXRlLnNhbmU9MSxzdGF0ZS5iYWNrPS0xLFpfT0spOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVSZXNldChzdHJtKXt2YXIgc3RhdGU7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KChzdGF0ZT1zdHJtLnN0YXRlKS53c2l6ZT0wLHN0YXRlLndoYXZlPTAsc3RhdGUud25leHQ9MCxpbmZsYXRlUmVzZXRLZWVwKHN0cm0pKTpaX1NUUkVBTV9FUlJPUn1mdW5jdGlvbiBpbmZsYXRlUmVzZXQyKHN0cm0sd2luZG93Qml0cyl7dmFyIHdyYXAsc3RhdGU7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KHN0YXRlPXN0cm0uc3RhdGUsd2luZG93Qml0czwwPyh3cmFwPTAsd2luZG93Qml0cz0td2luZG93Qml0cyk6KHdyYXA9MSsod2luZG93Qml0cz4+NCksd2luZG93Qml0czw0OCYmKHdpbmRvd0JpdHMmPTE1KSksd2luZG93Qml0cyYmKHdpbmRvd0JpdHM8OHx8d2luZG93Qml0cz4xNSk/Wl9TVFJFQU1fRVJST1I6KG51bGwhPT1zdGF0ZS53aW5kb3cmJnN0YXRlLndiaXRzIT09d2luZG93Qml0cyYmKHN0YXRlLndpbmRvdz1udWxsKSxzdGF0ZS53cmFwPXdyYXAsc3RhdGUud2JpdHM9d2luZG93Qml0cyxpbmZsYXRlUmVzZXQoc3RybSkpKTpaX1NUUkVBTV9FUlJPUn1mdW5jdGlvbiBpbmZsYXRlSW5pdDIoc3RybSx3aW5kb3dCaXRzKXt2YXIgcmV0LHN0YXRlO3JldHVybiBzdHJtPyhzdGF0ZT1uZXcgZnVuY3Rpb24oKXt0aGlzLm1vZGU9MCx0aGlzLmxhc3Q9ITEsdGhpcy53cmFwPTAsdGhpcy5oYXZlZGljdD0hMSx0aGlzLmZsYWdzPTAsdGhpcy5kbWF4PTAsdGhpcy5jaGVjaz0wLHRoaXMudG90YWw9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLndiaXRzPTAsdGhpcy53c2l6ZT0wLHRoaXMud2hhdmU9MCx0aGlzLnduZXh0PTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLmhvbGQ9MCx0aGlzLmJpdHM9MCx0aGlzLmxlbmd0aD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5leHRyYT0wLHRoaXMubGVuY29kZT1udWxsLHRoaXMuZGlzdGNvZGU9bnVsbCx0aGlzLmxlbmJpdHM9MCx0aGlzLmRpc3RiaXRzPTAsdGhpcy5uY29kZT0wLHRoaXMubmxlbj0wLHRoaXMubmRpc3Q9MCx0aGlzLmhhdmU9MCx0aGlzLm5leHQ9bnVsbCx0aGlzLmxlbnM9bmV3IHV0aWxzLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyB1dGlscy5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH0sc3RybS5zdGF0ZT1zdGF0ZSxzdGF0ZS53aW5kb3c9bnVsbCwocmV0PWluZmxhdGVSZXNldDIoc3RybSx3aW5kb3dCaXRzKSkhPT1aX09LJiYoc3RybS5zdGF0ZT1udWxsKSxyZXQpOlpfU1RSRUFNX0VSUk9SfXZhciBsZW5maXgsZGlzdGZpeCx2aXJnaW49ITA7ZnVuY3Rpb24gZml4ZWR0YWJsZXMoc3RhdGUpe2lmKHZpcmdpbil7dmFyIHN5bTtmb3IobGVuZml4PW5ldyB1dGlscy5CdWYzMig1MTIpLGRpc3RmaXg9bmV3IHV0aWxzLkJ1ZjMyKDMyKSxzeW09MDtzeW08MTQ0OylzdGF0ZS5sZW5zW3N5bSsrXT04O2Zvcig7c3ltPDI1Njspc3RhdGUubGVuc1tzeW0rK109OTtmb3IoO3N5bTwyODA7KXN0YXRlLmxlbnNbc3ltKytdPTc7Zm9yKDtzeW08Mjg4OylzdGF0ZS5sZW5zW3N5bSsrXT04O2ZvcihpbmZsYXRlX3RhYmxlKExFTlMsc3RhdGUubGVucywwLDI4OCxsZW5maXgsMCxzdGF0ZS53b3JrLHtiaXRzOjl9KSxzeW09MDtzeW08MzI7KXN0YXRlLmxlbnNbc3ltKytdPTU7aW5mbGF0ZV90YWJsZShESVNUUyxzdGF0ZS5sZW5zLDAsMzIsZGlzdGZpeCwwLHN0YXRlLndvcmsse2JpdHM6NX0pLHZpcmdpbj0hMX1zdGF0ZS5sZW5jb2RlPWxlbmZpeCxzdGF0ZS5sZW5iaXRzPTksc3RhdGUuZGlzdGNvZGU9ZGlzdGZpeCxzdGF0ZS5kaXN0Yml0cz01fWZ1bmN0aW9uIHVwZGF0ZXdpbmRvdyhzdHJtLHNyYyxlbmQsY29weSl7dmFyIGRpc3Qsc3RhdGU9c3RybS5zdGF0ZTtyZXR1cm4gbnVsbD09PXN0YXRlLndpbmRvdyYmKHN0YXRlLndzaXplPTE8PHN0YXRlLndiaXRzLHN0YXRlLnduZXh0PTAsc3RhdGUud2hhdmU9MCxzdGF0ZS53aW5kb3c9bmV3IHV0aWxzLkJ1Zjgoc3RhdGUud3NpemUpKSxjb3B5Pj1zdGF0ZS53c2l6ZT8odXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LHNyYyxlbmQtc3RhdGUud3NpemUsc3RhdGUud3NpemUsMCksc3RhdGUud25leHQ9MCxzdGF0ZS53aGF2ZT1zdGF0ZS53c2l6ZSk6KChkaXN0PXN0YXRlLndzaXplLXN0YXRlLnduZXh0KT5jb3B5JiYoZGlzdD1jb3B5KSx1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csc3JjLGVuZC1jb3B5LGRpc3Qsc3RhdGUud25leHQpLChjb3B5LT1kaXN0KT8odXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LHNyYyxlbmQtY29weSxjb3B5LDApLHN0YXRlLnduZXh0PWNvcHksc3RhdGUud2hhdmU9c3RhdGUud3NpemUpOihzdGF0ZS53bmV4dCs9ZGlzdCxzdGF0ZS53bmV4dD09PXN0YXRlLndzaXplJiYoc3RhdGUud25leHQ9MCksc3RhdGUud2hhdmU8c3RhdGUud3NpemUmJihzdGF0ZS53aGF2ZSs9ZGlzdCkpKSwwfWV4cG9ydHMuaW5mbGF0ZVJlc2V0PWluZmxhdGVSZXNldCxleHBvcnRzLmluZmxhdGVSZXNldDI9aW5mbGF0ZVJlc2V0MixleHBvcnRzLmluZmxhdGVSZXNldEtlZXA9aW5mbGF0ZVJlc2V0S2VlcCxleHBvcnRzLmluZmxhdGVJbml0PWZ1bmN0aW9uKHN0cm0pe3JldHVybiBpbmZsYXRlSW5pdDIoc3RybSxERUZfV0JJVFMpfSxleHBvcnRzLmluZmxhdGVJbml0Mj1pbmZsYXRlSW5pdDIsZXhwb3J0cy5pbmZsYXRlPWZ1bmN0aW9uKHN0cm0sZmx1c2gpe3ZhciBzdGF0ZSxpbnB1dCxvdXRwdXQsbmV4dCxwdXQsaGF2ZSxsZWZ0LGhvbGQsYml0cyxfaW4sX291dCxjb3B5LGZyb20sZnJvbV9zb3VyY2UsaGVyZV9iaXRzLGhlcmVfb3AsaGVyZV92YWwsbGFzdF9iaXRzLGxhc3Rfb3AsbGFzdF92YWwsbGVuLHJldCxvcHRzLG4saGVyZT0wLGhidWY9bmV3IHV0aWxzLkJ1ZjgoNCksb3JkZXI9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdO2lmKCFzdHJtfHwhc3RybS5zdGF0ZXx8IXN0cm0ub3V0cHV0fHwhc3RybS5pbnB1dCYmMCE9PXN0cm0uYXZhaWxfaW4pcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyhzdGF0ZT1zdHJtLnN0YXRlKS5tb2RlPT09VFlQRSYmKHN0YXRlLm1vZGU9VFlQRURPKSxwdXQ9c3RybS5uZXh0X291dCxvdXRwdXQ9c3RybS5vdXRwdXQsbGVmdD1zdHJtLmF2YWlsX291dCxuZXh0PXN0cm0ubmV4dF9pbixpbnB1dD1zdHJtLmlucHV0LGhhdmU9c3RybS5hdmFpbF9pbixob2xkPXN0YXRlLmhvbGQsYml0cz1zdGF0ZS5iaXRzLF9pbj1oYXZlLF9vdXQ9bGVmdCxyZXQ9Wl9PSztpbmZfbGVhdmU6Zm9yKDs7KXN3aXRjaChzdGF0ZS5tb2RlKXtjYXNlIEhFQUQ6aWYoMD09PXN0YXRlLndyYXApe3N0YXRlLm1vZGU9VFlQRURPO2JyZWFrfWZvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKDImc3RhdGUud3JhcCYmMzU2MTU9PT1ob2xkKXtzdGF0ZS5jaGVjaz0wLGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1GTEFHUzticmVha31pZihzdGF0ZS5mbGFncz0wLHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmRvbmU9ITEpLCEoMSZzdGF0ZS53cmFwKXx8KCgoMjU1JmhvbGQpPDw4KSsoaG9sZD4+OCkpJTMxKXtzdHJtLm1zZz1cImluY29ycmVjdCBoZWFkZXIgY2hlY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZigoMTUmaG9sZCkhPT1aX0RFRkxBVEVEKXtzdHJtLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoYml0cy09NCxsZW49OCsoMTUmKGhvbGQ+Pj49NCkpLDA9PT1zdGF0ZS53Yml0cylzdGF0ZS53Yml0cz1sZW47ZWxzZSBpZihsZW4+c3RhdGUud2JpdHMpe3N0cm0ubXNnPVwiaW52YWxpZCB3aW5kb3cgc2l6ZVwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmRtYXg9MTw8bGVuLHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MSxzdGF0ZS5tb2RlPTUxMiZob2xkP0RJQ1RJRDpUWVBFLGhvbGQ9MCxiaXRzPTA7YnJlYWs7Y2FzZSBGTEFHUzpmb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihzdGF0ZS5mbGFncz1ob2xkLCgyNTUmc3RhdGUuZmxhZ3MpIT09Wl9ERUZMQVRFRCl7c3RybS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKDU3MzQ0JnN0YXRlLmZsYWdzKXtzdHJtLm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLnRleHQ9aG9sZD4+OCYxKSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKSksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPVRJTUU7Y2FzZSBUSU1FOmZvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLnRpbWU9aG9sZCksNTEyJnN0YXRlLmZsYWdzJiYoaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxoYnVmWzJdPWhvbGQ+Pj4xNiYyNTUsaGJ1ZlszXT1ob2xkPj4+MjQmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsNCwwKSksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPU9TO2Nhc2UgT1M6Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQueGZsYWdzPTI1NSZob2xkLHN0YXRlLmhlYWQub3M9aG9sZD4+OCksNTEyJnN0YXRlLmZsYWdzJiYoaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCkpLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1FWExFTjtjYXNlIEVYTEVOOmlmKDEwMjQmc3RhdGUuZmxhZ3Mpe2Zvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLmxlbmd0aD1ob2xkLHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmV4dHJhX2xlbj1ob2xkKSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKSksaG9sZD0wLGJpdHM9MH1lbHNlIHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmV4dHJhPW51bGwpO3N0YXRlLm1vZGU9RVhUUkE7Y2FzZSBFWFRSQTppZigxMDI0JnN0YXRlLmZsYWdzJiYoKGNvcHk9c3RhdGUubGVuZ3RoKT5oYXZlJiYoY29weT1oYXZlKSxjb3B5JiYoc3RhdGUuaGVhZCYmKGxlbj1zdGF0ZS5oZWFkLmV4dHJhX2xlbi1zdGF0ZS5sZW5ndGgsc3RhdGUuaGVhZC5leHRyYXx8KHN0YXRlLmhlYWQuZXh0cmE9bmV3IEFycmF5KHN0YXRlLmhlYWQuZXh0cmFfbGVuKSksdXRpbHMuYXJyYXlTZXQoc3RhdGUuaGVhZC5leHRyYSxpbnB1dCxuZXh0LGNvcHksbGVuKSksNTEyJnN0YXRlLmZsYWdzJiYoc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KSksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LHN0YXRlLmxlbmd0aC09Y29weSksc3RhdGUubGVuZ3RoKSlicmVhayBpbmZfbGVhdmU7c3RhdGUubGVuZ3RoPTAsc3RhdGUubW9kZT1OQU1FO2Nhc2UgTkFNRTppZigyMDQ4JnN0YXRlLmZsYWdzKXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7Y29weT0wO2Rve2xlbj1pbnB1dFtuZXh0K2NvcHkrK10sc3RhdGUuaGVhZCYmbGVuJiZzdGF0ZS5sZW5ndGg8NjU1MzYmJihzdGF0ZS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUobGVuKSl9d2hpbGUobGVuJiZjb3B5PGhhdmUpO2lmKDUxMiZzdGF0ZS5mbGFncyYmKHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGlucHV0LGNvcHksbmV4dCkpLGhhdmUtPWNvcHksbmV4dCs9Y29weSxsZW4pYnJlYWsgaW5mX2xlYXZlfWVsc2Ugc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQubmFtZT1udWxsKTtzdGF0ZS5sZW5ndGg9MCxzdGF0ZS5tb2RlPUNPTU1FTlQ7Y2FzZSBDT01NRU5UOmlmKDQwOTYmc3RhdGUuZmxhZ3Mpe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtjb3B5PTA7ZG97bGVuPWlucHV0W25leHQrY29weSsrXSxzdGF0ZS5oZWFkJiZsZW4mJnN0YXRlLmxlbmd0aDw2NTUzNiYmKHN0YXRlLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShsZW4pKX13aGlsZShsZW4mJmNvcHk8aGF2ZSk7aWYoNTEyJnN0YXRlLmZsYWdzJiYoc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KSksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LGxlbilicmVhayBpbmZfbGVhdmV9ZWxzZSBzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5jb21tZW50PW51bGwpO3N0YXRlLm1vZGU9SENSQztjYXNlIEhDUkM6aWYoNTEyJnN0YXRlLmZsYWdzKXtmb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihob2xkIT09KDY1NTM1JnN0YXRlLmNoZWNrKSl7c3RybS5tc2c9XCJoZWFkZXIgY3JjIG1pc21hdGNoXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aG9sZD0wLGJpdHM9MH1zdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5oY3JjPXN0YXRlLmZsYWdzPj45JjEsc3RhdGUuaGVhZC5kb25lPSEwKSxzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPTAsc3RhdGUubW9kZT1UWVBFO2JyZWFrO2Nhc2UgRElDVElEOmZvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9enN3YXAzMihob2xkKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9RElDVDtjYXNlIERJQ1Q6aWYoMD09PXN0YXRlLmhhdmVkaWN0KXJldHVybiBzdHJtLm5leHRfb3V0PXB1dCxzdHJtLmF2YWlsX291dD1sZWZ0LHN0cm0ubmV4dF9pbj1uZXh0LHN0cm0uYXZhaWxfaW49aGF2ZSxzdGF0ZS5ob2xkPWhvbGQsc3RhdGUuYml0cz1iaXRzLFpfTkVFRF9ESUNUO3N0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MSxzdGF0ZS5tb2RlPVRZUEU7Y2FzZSBUWVBFOmlmKGZsdXNoPT09Wl9CTE9DS3x8Zmx1c2g9PT1aX1RSRUVTKWJyZWFrIGluZl9sZWF2ZTtjYXNlIFRZUEVETzppZihzdGF0ZS5sYXN0KXtob2xkPj4+PTcmYml0cyxiaXRzLT03JmJpdHMsc3RhdGUubW9kZT1DSEVDSzticmVha31mb3IoO2JpdHM8Mzspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN3aXRjaChzdGF0ZS5sYXN0PTEmaG9sZCxiaXRzLT0xLDMmKGhvbGQ+Pj49MSkpe2Nhc2UgMDpzdGF0ZS5tb2RlPVNUT1JFRDticmVhaztjYXNlIDE6aWYoZml4ZWR0YWJsZXMoc3RhdGUpLHN0YXRlLm1vZGU9TEVOXyxmbHVzaD09PVpfVFJFRVMpe2hvbGQ+Pj49MixiaXRzLT0yO2JyZWFrIGluZl9sZWF2ZX1icmVhaztjYXNlIDI6c3RhdGUubW9kZT1UQUJMRTticmVhaztjYXNlIDM6c3RybS5tc2c9XCJpbnZhbGlkIGJsb2NrIHR5cGVcIixzdGF0ZS5tb2RlPUJBRH1ob2xkPj4+PTIsYml0cy09MjticmVhaztjYXNlIFNUT1JFRDpmb3IoaG9sZD4+Pj03JmJpdHMsYml0cy09NyZiaXRzO2JpdHM8MzI7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZigoNjU1MzUmaG9sZCkhPShob2xkPj4+MTZeNjU1MzUpKXtzdHJtLm1zZz1cImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHNcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihzdGF0ZS5sZW5ndGg9NjU1MzUmaG9sZCxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9Q09QWV8sZmx1c2g9PT1aX1RSRUVTKWJyZWFrIGluZl9sZWF2ZTtjYXNlIENPUFlfOnN0YXRlLm1vZGU9Q09QWTtjYXNlIENPUFk6aWYoY29weT1zdGF0ZS5sZW5ndGgpe2lmKGNvcHk+aGF2ZSYmKGNvcHk9aGF2ZSksY29weT5sZWZ0JiYoY29weT1sZWZ0KSwwPT09Y29weSlicmVhayBpbmZfbGVhdmU7dXRpbHMuYXJyYXlTZXQob3V0cHV0LGlucHV0LG5leHQsY29weSxwdXQpLGhhdmUtPWNvcHksbmV4dCs9Y29weSxsZWZ0LT1jb3B5LHB1dCs9Y29weSxzdGF0ZS5sZW5ndGgtPWNvcHk7YnJlYWt9c3RhdGUubW9kZT1UWVBFO2JyZWFrO2Nhc2UgVEFCTEU6Zm9yKDtiaXRzPDE0Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoc3RhdGUubmxlbj0yNTcrKDMxJmhvbGQpLGhvbGQ+Pj49NSxiaXRzLT01LHN0YXRlLm5kaXN0PTErKDMxJmhvbGQpLGhvbGQ+Pj49NSxiaXRzLT01LHN0YXRlLm5jb2RlPTQrKDE1JmhvbGQpLGhvbGQ+Pj49NCxiaXRzLT00LHN0YXRlLm5sZW4+Mjg2fHxzdGF0ZS5uZGlzdD4zMCl7c3RybS5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmhhdmU9MCxzdGF0ZS5tb2RlPUxFTkxFTlM7Y2FzZSBMRU5MRU5TOmZvcig7c3RhdGUuaGF2ZTxzdGF0ZS5uY29kZTspe2Zvcig7Yml0czwzOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXT03JmhvbGQsaG9sZD4+Pj0zLGJpdHMtPTN9Zm9yKDtzdGF0ZS5oYXZlPDE5OylzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dPTA7aWYoc3RhdGUubGVuY29kZT1zdGF0ZS5sZW5keW4sc3RhdGUubGVuYml0cz03LG9wdHM9e2JpdHM6c3RhdGUubGVuYml0c30scmV0PWluZmxhdGVfdGFibGUoQ09ERVMsc3RhdGUubGVucywwLDE5LHN0YXRlLmxlbmNvZGUsMCxzdGF0ZS53b3JrLG9wdHMpLHN0YXRlLmxlbmJpdHM9b3B0cy5iaXRzLHJldCl7c3RybS5tc2c9XCJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5oYXZlPTAsc3RhdGUubW9kZT1DT0RFTEVOUztjYXNlIENPREVMRU5TOmZvcig7c3RhdGUuaGF2ZTxzdGF0ZS5ubGVuK3N0YXRlLm5kaXN0Oyl7Zm9yKDtoZXJlX29wPShoZXJlPXN0YXRlLmxlbmNvZGVbaG9sZCYoMTw8c3RhdGUubGVuYml0cyktMV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsISgoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaGVyZV92YWw8MTYpaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXT1oZXJlX3ZhbDtlbHNle2lmKDE2PT09aGVyZV92YWwpe2ZvcihuPWhlcmVfYml0cysyO2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhvbGQ+Pj49aGVyZV9iaXRzLGJpdHMtPWhlcmVfYml0cywwPT09c3RhdGUuaGF2ZSl7c3RybS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9bGVuPXN0YXRlLmxlbnNbc3RhdGUuaGF2ZS0xXSxjb3B5PTMrKDMmaG9sZCksaG9sZD4+Pj0yLGJpdHMtPTJ9ZWxzZSBpZigxNz09PWhlcmVfdmFsKXtmb3Iobj1oZXJlX2JpdHMrMztiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1iaXRzLT1oZXJlX2JpdHMsbGVuPTAsY29weT0zKyg3Jihob2xkPj4+PWhlcmVfYml0cykpLGhvbGQ+Pj49MyxiaXRzLT0zfWVsc2V7Zm9yKG49aGVyZV9iaXRzKzc7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9Yml0cy09aGVyZV9iaXRzLGxlbj0wLGNvcHk9MTErKDEyNyYoaG9sZD4+Pj1oZXJlX2JpdHMpKSxob2xkPj4+PTcsYml0cy09N31pZihzdGF0ZS5oYXZlK2NvcHk+c3RhdGUubmxlbitzdGF0ZS5uZGlzdCl7c3RybS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9Zm9yKDtjb3B5LS07KXN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXT1sZW59fWlmKHN0YXRlLm1vZGU9PT1CQUQpYnJlYWs7aWYoMD09PXN0YXRlLmxlbnNbMjU2XSl7c3RybS5tc2c9XCJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihzdGF0ZS5sZW5iaXRzPTksb3B0cz17Yml0czpzdGF0ZS5sZW5iaXRzfSxyZXQ9aW5mbGF0ZV90YWJsZShMRU5TLHN0YXRlLmxlbnMsMCxzdGF0ZS5ubGVuLHN0YXRlLmxlbmNvZGUsMCxzdGF0ZS53b3JrLG9wdHMpLHN0YXRlLmxlbmJpdHM9b3B0cy5iaXRzLHJldCl7c3RybS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihzdGF0ZS5kaXN0Yml0cz02LHN0YXRlLmRpc3Rjb2RlPXN0YXRlLmRpc3RkeW4sb3B0cz17Yml0czpzdGF0ZS5kaXN0Yml0c30scmV0PWluZmxhdGVfdGFibGUoRElTVFMsc3RhdGUubGVucyxzdGF0ZS5ubGVuLHN0YXRlLm5kaXN0LHN0YXRlLmRpc3Rjb2RlLDAsc3RhdGUud29yayxvcHRzKSxzdGF0ZS5kaXN0Yml0cz1vcHRzLmJpdHMscmV0KXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2VzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLm1vZGU9TEVOXyxmbHVzaD09PVpfVFJFRVMpYnJlYWsgaW5mX2xlYXZlO2Nhc2UgTEVOXzpzdGF0ZS5tb2RlPUxFTjtjYXNlIExFTjppZihoYXZlPj02JiZsZWZ0Pj0yNTgpe3N0cm0ubmV4dF9vdXQ9cHV0LHN0cm0uYXZhaWxfb3V0PWxlZnQsc3RybS5uZXh0X2luPW5leHQsc3RybS5hdmFpbF9pbj1oYXZlLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHMsaW5mbGF0ZV9mYXN0KHN0cm0sX291dCkscHV0PXN0cm0ubmV4dF9vdXQsb3V0cHV0PXN0cm0ub3V0cHV0LGxlZnQ9c3RybS5hdmFpbF9vdXQsbmV4dD1zdHJtLm5leHRfaW4saW5wdXQ9c3RybS5pbnB1dCxoYXZlPXN0cm0uYXZhaWxfaW4saG9sZD1zdGF0ZS5ob2xkLGJpdHM9c3RhdGUuYml0cyxzdGF0ZS5tb2RlPT09VFlQRSYmKHN0YXRlLmJhY2s9LTEpO2JyZWFrfWZvcihzdGF0ZS5iYWNrPTA7aGVyZV9vcD0oaGVyZT1zdGF0ZS5sZW5jb2RlW2hvbGQmKDE8PHN0YXRlLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEoKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhlcmVfb3AmJjA9PSgyNDAmaGVyZV9vcCkpe2ZvcihsYXN0X2JpdHM9aGVyZV9iaXRzLGxhc3Rfb3A9aGVyZV9vcCxsYXN0X3ZhbD1oZXJlX3ZhbDtoZXJlX29wPShoZXJlPXN0YXRlLmxlbmNvZGVbbGFzdF92YWwrKChob2xkJigxPDxsYXN0X2JpdHMrbGFzdF9vcCktMSk+Pmxhc3RfYml0cyldKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEobGFzdF9iaXRzKyhoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1ob2xkPj4+PWxhc3RfYml0cyxiaXRzLT1sYXN0X2JpdHMsc3RhdGUuYmFjays9bGFzdF9iaXRzfWlmKGhvbGQ+Pj49aGVyZV9iaXRzLGJpdHMtPWhlcmVfYml0cyxzdGF0ZS5iYWNrKz1oZXJlX2JpdHMsc3RhdGUubGVuZ3RoPWhlcmVfdmFsLDA9PT1oZXJlX29wKXtzdGF0ZS5tb2RlPUxJVDticmVha31pZigzMiZoZXJlX29wKXtzdGF0ZS5iYWNrPS0xLHN0YXRlLm1vZGU9VFlQRTticmVha31pZig2NCZoZXJlX29wKXtzdHJtLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmV4dHJhPTE1JmhlcmVfb3Asc3RhdGUubW9kZT1MRU5FWFQ7Y2FzZSBMRU5FWFQ6aWYoc3RhdGUuZXh0cmEpe2ZvcihuPXN0YXRlLmV4dHJhO2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLmxlbmd0aCs9aG9sZCYoMTw8c3RhdGUuZXh0cmEpLTEsaG9sZD4+Pj1zdGF0ZS5leHRyYSxiaXRzLT1zdGF0ZS5leHRyYSxzdGF0ZS5iYWNrKz1zdGF0ZS5leHRyYX1zdGF0ZS53YXM9c3RhdGUubGVuZ3RoLHN0YXRlLm1vZGU9RElTVDtjYXNlIERJU1Q6Zm9yKDtoZXJlX29wPShoZXJlPXN0YXRlLmRpc3Rjb2RlW2hvbGQmKDE8PHN0YXRlLmRpc3RiaXRzKS0xXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKChoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZigwPT0oMjQwJmhlcmVfb3ApKXtmb3IobGFzdF9iaXRzPWhlcmVfYml0cyxsYXN0X29wPWhlcmVfb3AsbGFzdF92YWw9aGVyZV92YWw7aGVyZV9vcD0oaGVyZT1zdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCsoKGhvbGQmKDE8PGxhc3RfYml0cytsYXN0X29wKS0xKT4+bGFzdF9iaXRzKV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsIShsYXN0X2JpdHMrKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWhvbGQ+Pj49bGFzdF9iaXRzLGJpdHMtPWxhc3RfYml0cyxzdGF0ZS5iYWNrKz1sYXN0X2JpdHN9aWYoaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLHN0YXRlLmJhY2srPWhlcmVfYml0cyw2NCZoZXJlX29wKXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLm9mZnNldD1oZXJlX3ZhbCxzdGF0ZS5leHRyYT0xNSZoZXJlX29wLHN0YXRlLm1vZGU9RElTVEVYVDtjYXNlIERJU1RFWFQ6aWYoc3RhdGUuZXh0cmEpe2ZvcihuPXN0YXRlLmV4dHJhO2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLm9mZnNldCs9aG9sZCYoMTw8c3RhdGUuZXh0cmEpLTEsaG9sZD4+Pj1zdGF0ZS5leHRyYSxiaXRzLT1zdGF0ZS5leHRyYSxzdGF0ZS5iYWNrKz1zdGF0ZS5leHRyYX1pZihzdGF0ZS5vZmZzZXQ+c3RhdGUuZG1heCl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLm1vZGU9TUFUQ0g7Y2FzZSBNQVRDSDppZigwPT09bGVmdClicmVhayBpbmZfbGVhdmU7aWYoY29weT1fb3V0LWxlZnQsc3RhdGUub2Zmc2V0PmNvcHkpe2lmKChjb3B5PXN0YXRlLm9mZnNldC1jb3B5KT5zdGF0ZS53aGF2ZSYmc3RhdGUuc2FuZSl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWNvcHk+c3RhdGUud25leHQ/KGNvcHktPXN0YXRlLnduZXh0LGZyb209c3RhdGUud3NpemUtY29weSk6ZnJvbT1zdGF0ZS53bmV4dC1jb3B5LGNvcHk+c3RhdGUubGVuZ3RoJiYoY29weT1zdGF0ZS5sZW5ndGgpLGZyb21fc291cmNlPXN0YXRlLndpbmRvd31lbHNlIGZyb21fc291cmNlPW91dHB1dCxmcm9tPXB1dC1zdGF0ZS5vZmZzZXQsY29weT1zdGF0ZS5sZW5ndGg7Y29weT5sZWZ0JiYoY29weT1sZWZ0KSxsZWZ0LT1jb3B5LHN0YXRlLmxlbmd0aC09Y29weTtkb3tvdXRwdXRbcHV0KytdPWZyb21fc291cmNlW2Zyb20rK119d2hpbGUoLS1jb3B5KTswPT09c3RhdGUubGVuZ3RoJiYoc3RhdGUubW9kZT1MRU4pO2JyZWFrO2Nhc2UgTElUOmlmKDA9PT1sZWZ0KWJyZWFrIGluZl9sZWF2ZTtvdXRwdXRbcHV0KytdPXN0YXRlLmxlbmd0aCxsZWZ0LS0sc3RhdGUubW9kZT1MRU47YnJlYWs7Y2FzZSBDSEVDSzppZihzdGF0ZS53cmFwKXtmb3IoO2JpdHM8MzI7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGR8PWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihfb3V0LT1sZWZ0LHN0cm0udG90YWxfb3V0Kz1fb3V0LHN0YXRlLnRvdGFsKz1fb3V0LF9vdXQmJihzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPXN0YXRlLmZsYWdzP2NyYzMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHB1dC1fb3V0KTphZGxlcjMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHB1dC1fb3V0KSksX291dD1sZWZ0LChzdGF0ZS5mbGFncz9ob2xkOnpzd2FwMzIoaG9sZCkpIT09c3RhdGUuY2hlY2spe3N0cm0ubXNnPVwiaW5jb3JyZWN0IGRhdGEgY2hlY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31ob2xkPTAsYml0cz0wfXN0YXRlLm1vZGU9TEVOR1RIO2Nhc2UgTEVOR1RIOmlmKHN0YXRlLndyYXAmJnN0YXRlLmZsYWdzKXtmb3IoO2JpdHM8MzI7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihob2xkIT09KDQyOTQ5NjcyOTUmc3RhdGUudG90YWwpKXtzdHJtLm1zZz1cImluY29ycmVjdCBsZW5ndGggY2hlY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31ob2xkPTAsYml0cz0wfXN0YXRlLm1vZGU9RE9ORTtjYXNlIERPTkU6cmV0PVpfU1RSRUFNX0VORDticmVhayBpbmZfbGVhdmU7Y2FzZSBCQUQ6cmV0PVpfREFUQV9FUlJPUjticmVhayBpbmZfbGVhdmU7Y2FzZSBNRU06cmV0dXJuIFpfTUVNX0VSUk9SO2Nhc2UgU1lOQzpkZWZhdWx0OnJldHVybiBaX1NUUkVBTV9FUlJPUn1yZXR1cm4gc3RybS5uZXh0X291dD1wdXQsc3RybS5hdmFpbF9vdXQ9bGVmdCxzdHJtLm5leHRfaW49bmV4dCxzdHJtLmF2YWlsX2luPWhhdmUsc3RhdGUuaG9sZD1ob2xkLHN0YXRlLmJpdHM9Yml0cywoc3RhdGUud3NpemV8fF9vdXQhPT1zdHJtLmF2YWlsX291dCYmc3RhdGUubW9kZTxCQUQmJihzdGF0ZS5tb2RlPENIRUNLfHxmbHVzaCE9PVpfRklOSVNIKSkmJnVwZGF0ZXdpbmRvdyhzdHJtLHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQsX291dC1zdHJtLmF2YWlsX291dCk/KHN0YXRlLm1vZGU9TUVNLFpfTUVNX0VSUk9SKTooX2luLT1zdHJtLmF2YWlsX2luLF9vdXQtPXN0cm0uYXZhaWxfb3V0LHN0cm0udG90YWxfaW4rPV9pbixzdHJtLnRvdGFsX291dCs9X291dCxzdGF0ZS50b3RhbCs9X291dCxzdGF0ZS53cmFwJiZfb3V0JiYoc3RybS5hZGxlcj1zdGF0ZS5jaGVjaz1zdGF0ZS5mbGFncz9jcmMzMihzdGF0ZS5jaGVjayxvdXRwdXQsX291dCxzdHJtLm5leHRfb3V0LV9vdXQpOmFkbGVyMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQsc3RybS5uZXh0X291dC1fb3V0KSksc3RybS5kYXRhX3R5cGU9c3RhdGUuYml0cysoc3RhdGUubGFzdD82NDowKSsoc3RhdGUubW9kZT09PVRZUEU/MTI4OjApKyhzdGF0ZS5tb2RlPT09TEVOX3x8c3RhdGUubW9kZT09PUNPUFlfPzI1NjowKSwoMD09PV9pbiYmMD09PV9vdXR8fGZsdXNoPT09Wl9GSU5JU0gpJiZyZXQ9PT1aX09LJiYocmV0PVpfQlVGX0VSUk9SKSxyZXQpfSxleHBvcnRzLmluZmxhdGVFbmQ9ZnVuY3Rpb24oc3RybSl7aWYoIXN0cm18fCFzdHJtLnN0YXRlKXJldHVybiBaX1NUUkVBTV9FUlJPUjt2YXIgc3RhdGU9c3RybS5zdGF0ZTtyZXR1cm4gc3RhdGUud2luZG93JiYoc3RhdGUud2luZG93PW51bGwpLHN0cm0uc3RhdGU9bnVsbCxaX09LfSxleHBvcnRzLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24oc3RybSxoZWFkKXt2YXIgc3RhdGU7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/MD09KDImKHN0YXRlPXN0cm0uc3RhdGUpLndyYXApP1pfU1RSRUFNX0VSUk9SOihzdGF0ZS5oZWFkPWhlYWQsaGVhZC5kb25lPSExLFpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmluZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHN0cm0sZGljdGlvbmFyeSl7dmFyIHN0YXRlLGRpY3RMZW5ndGg9ZGljdGlvbmFyeS5sZW5ndGg7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/MCE9PShzdGF0ZT1zdHJtLnN0YXRlKS53cmFwJiZzdGF0ZS5tb2RlIT09RElDVD9aX1NUUkVBTV9FUlJPUjpzdGF0ZS5tb2RlPT09RElDVCYmYWRsZXIzMigxLGRpY3Rpb25hcnksZGljdExlbmd0aCwwKSE9PXN0YXRlLmNoZWNrP1pfREFUQV9FUlJPUjp1cGRhdGV3aW5kb3coc3RybSxkaWN0aW9uYXJ5LGRpY3RMZW5ndGgsZGljdExlbmd0aCk/KHN0YXRlLm1vZGU9TUVNLFpfTUVNX0VSUk9SKTooc3RhdGUuaGF2ZWRpY3Q9MSxaX09LKTpaX1NUUkVBTV9FUlJPUn0sZXhwb3J0cy5pbmZsYXRlSW5mbz1cInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oc3RybSxzdGFydCl7dmFyIHN0YXRlLF9pbixsYXN0LF9vdXQsYmVnLGVuZCxkbWF4LHdzaXplLHdoYXZlLHduZXh0LHNfd2luZG93LGhvbGQsYml0cyxsY29kZSxkY29kZSxsbWFzayxkbWFzayxoZXJlLG9wLGxlbixkaXN0LGZyb20sZnJvbV9zb3VyY2UsaW5wdXQsb3V0cHV0O3N0YXRlPXN0cm0uc3RhdGUsX2luPXN0cm0ubmV4dF9pbixpbnB1dD1zdHJtLmlucHV0LGxhc3Q9X2luKyhzdHJtLmF2YWlsX2luLTUpLF9vdXQ9c3RybS5uZXh0X291dCxvdXRwdXQ9c3RybS5vdXRwdXQsYmVnPV9vdXQtKHN0YXJ0LXN0cm0uYXZhaWxfb3V0KSxlbmQ9X291dCsoc3RybS5hdmFpbF9vdXQtMjU3KSxkbWF4PXN0YXRlLmRtYXgsd3NpemU9c3RhdGUud3NpemUsd2hhdmU9c3RhdGUud2hhdmUsd25leHQ9c3RhdGUud25leHQsc193aW5kb3c9c3RhdGUud2luZG93LGhvbGQ9c3RhdGUuaG9sZCxiaXRzPXN0YXRlLmJpdHMsbGNvZGU9c3RhdGUubGVuY29kZSxkY29kZT1zdGF0ZS5kaXN0Y29kZSxsbWFzaz0oMTw8c3RhdGUubGVuYml0cyktMSxkbWFzaz0oMTw8c3RhdGUuZGlzdGJpdHMpLTE7dG9wOmRve2JpdHM8MTUmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCxob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCksaGVyZT1sY29kZVtob2xkJmxtYXNrXTtkb2xlbjpmb3IoOzspe2lmKGhvbGQ+Pj49b3A9aGVyZT4+PjI0LGJpdHMtPW9wLDA9PT0ob3A9aGVyZT4+PjE2JjI1NSkpb3V0cHV0W19vdXQrK109NjU1MzUmaGVyZTtlbHNle2lmKCEoMTYmb3ApKXtpZigwPT0oNjQmb3ApKXtoZXJlPWxjb2RlWyg2NTUzNSZoZXJlKSsoaG9sZCYoMTw8b3ApLTEpXTtjb250aW51ZSBkb2xlbn1pZigzMiZvcCl7c3RhdGUubW9kZT0xMjticmVhayB0b3B9c3RybS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixzdGF0ZS5tb2RlPTMwO2JyZWFrIHRvcH1sZW49NjU1MzUmaGVyZSwob3AmPTE1KSYmKGJpdHM8b3AmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCksbGVuKz1ob2xkJigxPDxvcCktMSxob2xkPj4+PW9wLGJpdHMtPW9wKSxiaXRzPDE1JiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgsaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgpLGhlcmU9ZGNvZGVbaG9sZCZkbWFza107ZG9kaXN0OmZvcig7Oyl7aWYoaG9sZD4+Pj1vcD1oZXJlPj4+MjQsYml0cy09b3AsISgxNiYob3A9aGVyZT4+PjE2JjI1NSkpKXtpZigwPT0oNjQmb3ApKXtoZXJlPWRjb2RlWyg2NTUzNSZoZXJlKSsoaG9sZCYoMTw8b3ApLTEpXTtjb250aW51ZSBkb2Rpc3R9c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixzdGF0ZS5tb2RlPTMwO2JyZWFrIHRvcH1pZihkaXN0PTY1NTM1JmhlcmUsYml0czwob3AmPTE1KSYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cywoYml0cys9OCk8b3AmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCkpLChkaXN0Kz1ob2xkJigxPDxvcCktMSk+ZG1heCl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWlmKGhvbGQ+Pj49b3AsYml0cy09b3AsZGlzdD4ob3A9X291dC1iZWcpKXtpZigob3A9ZGlzdC1vcCk+d2hhdmUmJnN0YXRlLnNhbmUpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixzdGF0ZS5tb2RlPTMwO2JyZWFrIHRvcH1pZihmcm9tPTAsZnJvbV9zb3VyY2U9c193aW5kb3csMD09PXduZXh0KXtpZihmcm9tKz13c2l6ZS1vcCxvcDxsZW4pe2xlbi09b3A7ZG97b3V0cHV0W19vdXQrK109c193aW5kb3dbZnJvbSsrXX13aGlsZSgtLW9wKTtmcm9tPV9vdXQtZGlzdCxmcm9tX3NvdXJjZT1vdXRwdXR9fWVsc2UgaWYod25leHQ8b3Ape2lmKGZyb20rPXdzaXplK3duZXh0LW9wLChvcC09d25leHQpPGxlbil7bGVuLT1vcDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2lmKGZyb209MCx3bmV4dDxsZW4pe2xlbi09b3A9d25leHQ7ZG97b3V0cHV0W19vdXQrK109c193aW5kb3dbZnJvbSsrXX13aGlsZSgtLW9wKTtmcm9tPV9vdXQtZGlzdCxmcm9tX3NvdXJjZT1vdXRwdXR9fX1lbHNlIGlmKGZyb20rPXduZXh0LW9wLG9wPGxlbil7bGVuLT1vcDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0LGZyb21fc291cmNlPW91dHB1dH1mb3IoO2xlbj4yOylvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLG91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10sb3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSxsZW4tPTM7bGVuJiYob3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSxsZW4+MSYmKG91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10pKX1lbHNle2Zyb209X291dC1kaXN0O2Rve291dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdLG91dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdLG91dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdLGxlbi09M313aGlsZShsZW4+Mik7bGVuJiYob3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sbGVuPjEmJihvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSkpfWJyZWFrfX1icmVha319d2hpbGUoX2luPGxhc3QmJl9vdXQ8ZW5kKTtfaW4tPWxlbj1iaXRzPj4zLGhvbGQmPSgxPDwoYml0cy09bGVuPDwzKSktMSxzdHJtLm5leHRfaW49X2luLHN0cm0ubmV4dF9vdXQ9X291dCxzdHJtLmF2YWlsX2luPV9pbjxsYXN0P2xhc3QtX2luKzU6NS0oX2luLWxhc3QpLHN0cm0uYXZhaWxfb3V0PV9vdXQ8ZW5kP2VuZC1fb3V0KzI1NzoyNTctKF9vdXQtZW5kKSxzdGF0ZS5ob2xkPWhvbGQsc3RhdGUuYml0cz1iaXRzfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksbGJhc2U9WzMsNCw1LDYsNyw4LDksMTAsMTEsMTMsMTUsMTcsMTksMjMsMjcsMzEsMzUsNDMsNTEsNTksNjcsODMsOTksMTE1LDEzMSwxNjMsMTk1LDIyNywyNTgsMCwwXSxsZXh0PVsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0sZGJhc2U9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLGRleHQ9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0eXBlLGxlbnMsbGVuc19pbmRleCxjb2Rlcyx0YWJsZSx0YWJsZV9pbmRleCx3b3JrLG9wdHMpe3ZhciBpbmNyLGZpbGwsbG93LG1hc2ssbmV4dCxlbmQsaGVyZV9iaXRzLGhlcmVfb3AsaGVyZV92YWwsYml0cz1vcHRzLmJpdHMsbGVuPTAsc3ltPTAsbWluPTAsbWF4PTAscm9vdD0wLGN1cnI9MCxkcm9wPTAsbGVmdD0wLHVzZWQ9MCxodWZmPTAsYmFzZT1udWxsLGJhc2VfaW5kZXg9MCxjb3VudD1uZXcgdXRpbHMuQnVmMTYoMTYpLG9mZnM9bmV3IHV0aWxzLkJ1ZjE2KDE2KSxleHRyYT1udWxsLGV4dHJhX2luZGV4PTA7Zm9yKGxlbj0wO2xlbjw9MTU7bGVuKyspY291bnRbbGVuXT0wO2ZvcihzeW09MDtzeW08Y29kZXM7c3ltKyspY291bnRbbGVuc1tsZW5zX2luZGV4K3N5bV1dKys7Zm9yKHJvb3Q9Yml0cyxtYXg9MTU7bWF4Pj0xJiYwPT09Y291bnRbbWF4XTttYXgtLSk7aWYocm9vdD5tYXgmJihyb290PW1heCksMD09PW1heClyZXR1cm4gdGFibGVbdGFibGVfaW5kZXgrK109MjA5NzE1MjAsdGFibGVbdGFibGVfaW5kZXgrK109MjA5NzE1MjAsb3B0cy5iaXRzPTEsMDtmb3IobWluPTE7bWluPG1heCYmMD09PWNvdW50W21pbl07bWluKyspO2Zvcihyb290PG1pbiYmKHJvb3Q9bWluKSxsZWZ0PTEsbGVuPTE7bGVuPD0xNTtsZW4rKylpZihsZWZ0PDw9MSwobGVmdC09Y291bnRbbGVuXSk8MClyZXR1cm4tMTtpZihsZWZ0PjAmJigwPT09dHlwZXx8MSE9PW1heCkpcmV0dXJuLTE7Zm9yKG9mZnNbMV09MCxsZW49MTtsZW48MTU7bGVuKyspb2Zmc1tsZW4rMV09b2Zmc1tsZW5dK2NvdW50W2xlbl07Zm9yKHN5bT0wO3N5bTxjb2RlcztzeW0rKykwIT09bGVuc1tsZW5zX2luZGV4K3N5bV0mJih3b3JrW29mZnNbbGVuc1tsZW5zX2luZGV4K3N5bV1dKytdPXN5bSk7aWYoMD09PXR5cGU/KGJhc2U9ZXh0cmE9d29yayxlbmQ9MTkpOjE9PT10eXBlPyhiYXNlPWxiYXNlLGJhc2VfaW5kZXgtPTI1NyxleHRyYT1sZXh0LGV4dHJhX2luZGV4LT0yNTcsZW5kPTI1Nik6KGJhc2U9ZGJhc2UsZXh0cmE9ZGV4dCxlbmQ9LTEpLGh1ZmY9MCxzeW09MCxsZW49bWluLG5leHQ9dGFibGVfaW5kZXgsY3Vycj1yb290LGRyb3A9MCxsb3c9LTEsbWFzaz0odXNlZD0xPDxyb290KS0xLDE9PT10eXBlJiZ1c2VkPjg1Mnx8Mj09PXR5cGUmJnVzZWQ+NTkyKXJldHVybiAxO2Zvcig7Oyl7aGVyZV9iaXRzPWxlbi1kcm9wLHdvcmtbc3ltXTxlbmQ/KGhlcmVfb3A9MCxoZXJlX3ZhbD13b3JrW3N5bV0pOndvcmtbc3ltXT5lbmQ/KGhlcmVfb3A9ZXh0cmFbZXh0cmFfaW5kZXgrd29ya1tzeW1dXSxoZXJlX3ZhbD1iYXNlW2Jhc2VfaW5kZXgrd29ya1tzeW1dXSk6KGhlcmVfb3A9OTYsaGVyZV92YWw9MCksaW5jcj0xPDxsZW4tZHJvcCxtaW49ZmlsbD0xPDxjdXJyO2Rve3RhYmxlW25leHQrKGh1ZmY+PmRyb3ApKyhmaWxsLT1pbmNyKV09aGVyZV9iaXRzPDwyNHxoZXJlX29wPDwxNnxoZXJlX3ZhbHwwfXdoaWxlKDAhPT1maWxsKTtmb3IoaW5jcj0xPDxsZW4tMTtodWZmJmluY3I7KWluY3I+Pj0xO2lmKDAhPT1pbmNyPyhodWZmJj1pbmNyLTEsaHVmZis9aW5jcik6aHVmZj0wLHN5bSsrLDA9PS0tY291bnRbbGVuXSl7aWYobGVuPT09bWF4KWJyZWFrO2xlbj1sZW5zW2xlbnNfaW5kZXgrd29ya1tzeW1dXX1pZihsZW4+cm9vdCYmKGh1ZmYmbWFzaykhPT1sb3cpe2ZvcigwPT09ZHJvcCYmKGRyb3A9cm9vdCksbmV4dCs9bWluLGxlZnQ9MTw8KGN1cnI9bGVuLWRyb3ApO2N1cnIrZHJvcDxtYXgmJiEoKGxlZnQtPWNvdW50W2N1cnIrZHJvcF0pPD0wKTspY3VycisrLGxlZnQ8PD0xO2lmKHVzZWQrPTE8PGN1cnIsMT09PXR5cGUmJnVzZWQ+ODUyfHwyPT09dHlwZSYmdXNlZD41OTIpcmV0dXJuIDE7dGFibGVbbG93PWh1ZmYmbWFza109cm9vdDw8MjR8Y3Vycjw8MTZ8bmV4dC10YWJsZV9pbmRleHwwfX1yZXR1cm4gMCE9PWh1ZmYmJih0YWJsZVtuZXh0K2h1ZmZdPWxlbi1kcm9wPDwyNHw2NDw8MTZ8MCksb3B0cy5iaXRzPXJvb3QsMH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPVwiXCIsdGhpcy5jb21tZW50PVwiXCIsdGhpcy5oY3JjPTAsdGhpcy5kb25lPSExfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLHV0Zjg9X193ZWJwYWNrX3JlcXVpcmVfXygxNCksY3JjMzI9X193ZWJwYWNrX3JlcXVpcmVfXyg0NSksc2lnbmF0dXJlPV9fd2VicGFja19yZXF1aXJlX18oNzEpLGRlY1RvSGV4PWZ1bmN0aW9uKGRlYyxieXRlcyl7dmFyIGksaGV4PVwiXCI7Zm9yKGk9MDtpPGJ5dGVzO2krKyloZXgrPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JmRlYyksZGVjPj4+PTg7cmV0dXJuIGhleH0sZ2VuZXJhdGVaaXBQYXJ0cz1mdW5jdGlvbihzdHJlYW1JbmZvLHN0cmVhbWVkQ29udGVudCxzdHJlYW1pbmdFbmRlZCxvZmZzZXQscGxhdGZvcm0sZW5jb2RlRmlsZU5hbWUpe3ZhciBkb3NUaW1lLGRvc0RhdGUsZmlsZT1zdHJlYW1JbmZvLmZpbGUsY29tcHJlc3Npb249c3RyZWFtSW5mby5jb21wcmVzc2lvbix1c2VDdXN0b21FbmNvZGluZz1lbmNvZGVGaWxlTmFtZSE9PXV0ZjgudXRmOGVuY29kZSxlbmNvZGVkRmlsZU5hbWU9dXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixlbmNvZGVGaWxlTmFtZShmaWxlLm5hbWUpKSx1dGZFbmNvZGVkRmlsZU5hbWU9dXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix1dGY4LnV0ZjhlbmNvZGUoZmlsZS5uYW1lKSksY29tbWVudD1maWxlLmNvbW1lbnQsZW5jb2RlZENvbW1lbnQ9dXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixlbmNvZGVGaWxlTmFtZShjb21tZW50KSksdXRmRW5jb2RlZENvbW1lbnQ9dXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix1dGY4LnV0ZjhlbmNvZGUoY29tbWVudCkpLHVzZVVURjhGb3JGaWxlTmFtZT11dGZFbmNvZGVkRmlsZU5hbWUubGVuZ3RoIT09ZmlsZS5uYW1lLmxlbmd0aCx1c2VVVEY4Rm9yQ29tbWVudD11dGZFbmNvZGVkQ29tbWVudC5sZW5ndGghPT1jb21tZW50Lmxlbmd0aCxleHRyYUZpZWxkcz1cIlwiLHVuaWNvZGVQYXRoRXh0cmFGaWVsZD1cIlwiLHVuaWNvZGVDb21tZW50RXh0cmFGaWVsZD1cIlwiLGRpcj1maWxlLmRpcixkYXRlPWZpbGUuZGF0ZSxkYXRhSW5mbz17Y3JjMzI6MCxjb21wcmVzc2VkU2l6ZTowLHVuY29tcHJlc3NlZFNpemU6MH07c3RyZWFtZWRDb250ZW50JiYhc3RyZWFtaW5nRW5kZWR8fChkYXRhSW5mby5jcmMzMj1zdHJlYW1JbmZvLmNyYzMyLGRhdGFJbmZvLmNvbXByZXNzZWRTaXplPXN0cmVhbUluZm8uY29tcHJlc3NlZFNpemUsZGF0YUluZm8udW5jb21wcmVzc2VkU2l6ZT1zdHJlYW1JbmZvLnVuY29tcHJlc3NlZFNpemUpO3ZhciBiaXRmbGFnPTA7c3RyZWFtZWRDb250ZW50JiYoYml0ZmxhZ3w9OCksdXNlQ3VzdG9tRW5jb2Rpbmd8fCF1c2VVVEY4Rm9yRmlsZU5hbWUmJiF1c2VVVEY4Rm9yQ29tbWVudHx8KGJpdGZsYWd8PTIwNDgpO3ZhciBleHRGaWxlQXR0cj0wLHZlcnNpb25NYWRlQnk9MDtkaXImJihleHRGaWxlQXR0cnw9MTYpLFwiVU5JWFwiPT09cGxhdGZvcm0/KHZlcnNpb25NYWRlQnk9Nzk4LGV4dEZpbGVBdHRyfD1mdW5jdGlvbih1bml4UGVybWlzc2lvbnMsaXNEaXIpe3ZhciByZXN1bHQ9dW5peFBlcm1pc3Npb25zO3JldHVybiB1bml4UGVybWlzc2lvbnN8fChyZXN1bHQ9aXNEaXI/MTY4OTM6MzMyMDQpLCg2NTUzNSZyZXN1bHQpPDwxNn0oZmlsZS51bml4UGVybWlzc2lvbnMsZGlyKSk6KHZlcnNpb25NYWRlQnk9MjAsZXh0RmlsZUF0dHJ8PWZ1bmN0aW9uKGRvc1Blcm1pc3Npb25zLGlzRGlyKXtyZXR1cm4gNjMmKGRvc1Blcm1pc3Npb25zfHwwKX0oZmlsZS5kb3NQZXJtaXNzaW9ucykpLGRvc1RpbWU9ZGF0ZS5nZXRVVENIb3VycygpLGRvc1RpbWU8PD02LGRvc1RpbWV8PWRhdGUuZ2V0VVRDTWludXRlcygpLGRvc1RpbWU8PD01LGRvc1RpbWV8PWRhdGUuZ2V0VVRDU2Vjb25kcygpLzIsZG9zRGF0ZT1kYXRlLmdldFVUQ0Z1bGxZZWFyKCktMTk4MCxkb3NEYXRlPDw9NCxkb3NEYXRlfD1kYXRlLmdldFVUQ01vbnRoKCkrMSxkb3NEYXRlPDw9NSxkb3NEYXRlfD1kYXRlLmdldFVUQ0RhdGUoKSx1c2VVVEY4Rm9yRmlsZU5hbWUmJih1bmljb2RlUGF0aEV4dHJhRmllbGQ9ZGVjVG9IZXgoMSwxKStkZWNUb0hleChjcmMzMihlbmNvZGVkRmlsZU5hbWUpLDQpK3V0ZkVuY29kZWRGaWxlTmFtZSxleHRyYUZpZWxkcys9XCJ1cFwiK2RlY1RvSGV4KHVuaWNvZGVQYXRoRXh0cmFGaWVsZC5sZW5ndGgsMikrdW5pY29kZVBhdGhFeHRyYUZpZWxkKSx1c2VVVEY4Rm9yQ29tbWVudCYmKHVuaWNvZGVDb21tZW50RXh0cmFGaWVsZD1kZWNUb0hleCgxLDEpK2RlY1RvSGV4KGNyYzMyKGVuY29kZWRDb21tZW50KSw0KSt1dGZFbmNvZGVkQ29tbWVudCxleHRyYUZpZWxkcys9XCJ1Y1wiK2RlY1RvSGV4KHVuaWNvZGVDb21tZW50RXh0cmFGaWVsZC5sZW5ndGgsMikrdW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkKTt2YXIgaGVhZGVyPVwiXCI7cmV0dXJuIGhlYWRlcis9XCJcXG5cXDBcIixoZWFkZXIrPWRlY1RvSGV4KGJpdGZsYWcsMiksaGVhZGVyKz1jb21wcmVzc2lvbi5tYWdpYyxoZWFkZXIrPWRlY1RvSGV4KGRvc1RpbWUsMiksaGVhZGVyKz1kZWNUb0hleChkb3NEYXRlLDIpLGhlYWRlcis9ZGVjVG9IZXgoZGF0YUluZm8uY3JjMzIsNCksaGVhZGVyKz1kZWNUb0hleChkYXRhSW5mby5jb21wcmVzc2VkU2l6ZSw0KSxoZWFkZXIrPWRlY1RvSGV4KGRhdGFJbmZvLnVuY29tcHJlc3NlZFNpemUsNCksaGVhZGVyKz1kZWNUb0hleChlbmNvZGVkRmlsZU5hbWUubGVuZ3RoLDIpLGhlYWRlcis9ZGVjVG9IZXgoZXh0cmFGaWVsZHMubGVuZ3RoLDIpLHtmaWxlUmVjb3JkOnNpZ25hdHVyZS5MT0NBTF9GSUxFX0hFQURFUitoZWFkZXIrZW5jb2RlZEZpbGVOYW1lK2V4dHJhRmllbGRzLGRpclJlY29yZDpzaWduYXR1cmUuQ0VOVFJBTF9GSUxFX0hFQURFUitkZWNUb0hleCh2ZXJzaW9uTWFkZUJ5LDIpK2hlYWRlcitkZWNUb0hleChlbmNvZGVkQ29tbWVudC5sZW5ndGgsMikrXCJcXDBcXDBcXDBcXDBcIitkZWNUb0hleChleHRGaWxlQXR0ciw0KStkZWNUb0hleChvZmZzZXQsNCkrZW5jb2RlZEZpbGVOYW1lK2V4dHJhRmllbGRzK2VuY29kZWRDb21tZW50fX07ZnVuY3Rpb24gWmlwRmlsZVdvcmtlcihzdHJlYW1GaWxlcyxjb21tZW50LHBsYXRmb3JtLGVuY29kZUZpbGVOYW1lKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIlppcEZpbGVXb3JrZXJcIiksdGhpcy5ieXRlc1dyaXR0ZW49MCx0aGlzLnppcENvbW1lbnQ9Y29tbWVudCx0aGlzLnppcFBsYXRmb3JtPXBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWU9ZW5jb2RlRmlsZU5hbWUsdGhpcy5zdHJlYW1GaWxlcz1zdHJlYW1GaWxlcyx0aGlzLmFjY3VtdWxhdGU9ITEsdGhpcy5jb250ZW50QnVmZmVyPVtdLHRoaXMuZGlyUmVjb3Jkcz1bXSx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQ9MCx0aGlzLmVudHJpZXNDb3VudD0wLHRoaXMuY3VycmVudEZpbGU9bnVsbCx0aGlzLl9zb3VyY2VzPVtdfXV0aWxzLmluaGVyaXRzKFppcEZpbGVXb3JrZXIsR2VuZXJpY1dvcmtlciksWmlwRmlsZVdvcmtlci5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayl7dmFyIGN1cnJlbnRGaWxlUGVyY2VudD1jaHVuay5tZXRhLnBlcmNlbnR8fDAsZW50cmllc0NvdW50PXRoaXMuZW50cmllc0NvdW50LHJlbWFpbmluZ0ZpbGVzPXRoaXMuX3NvdXJjZXMubGVuZ3RoO3RoaXMuYWNjdW11bGF0ZT90aGlzLmNvbnRlbnRCdWZmZXIucHVzaChjaHVuayk6KHRoaXMuYnl0ZXNXcml0dGVuKz1jaHVuay5kYXRhLmxlbmd0aCxHZW5lcmljV29ya2VyLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyx7ZGF0YTpjaHVuay5kYXRhLG1ldGE6e2N1cnJlbnRGaWxlOnRoaXMuY3VycmVudEZpbGUscGVyY2VudDplbnRyaWVzQ291bnQ/KGN1cnJlbnRGaWxlUGVyY2VudCsxMDAqKGVudHJpZXNDb3VudC1yZW1haW5pbmdGaWxlcy0xKSkvZW50cmllc0NvdW50OjEwMH19KSl9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLm9wZW5lZFNvdXJjZT1mdW5jdGlvbihzdHJlYW1JbmZvKXt0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQ9dGhpcy5ieXRlc1dyaXR0ZW4sdGhpcy5jdXJyZW50RmlsZT1zdHJlYW1JbmZvLmZpbGUubmFtZTt2YXIgc3RyZWFtZWRDb250ZW50PXRoaXMuc3RyZWFtRmlsZXMmJiFzdHJlYW1JbmZvLmZpbGUuZGlyO2lmKHN0cmVhbWVkQ29udGVudCl7dmFyIHJlY29yZD1nZW5lcmF0ZVppcFBhcnRzKHN0cmVhbUluZm8sc3RyZWFtZWRDb250ZW50LCExLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO3RoaXMucHVzaCh7ZGF0YTpyZWNvcmQuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSl9ZWxzZSB0aGlzLmFjY3VtdWxhdGU9ITB9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLmNsb3NlZFNvdXJjZT1mdW5jdGlvbihzdHJlYW1JbmZvKXt0aGlzLmFjY3VtdWxhdGU9ITE7dmFyIHN0cmVhbWVkQ29udGVudD10aGlzLnN0cmVhbUZpbGVzJiYhc3RyZWFtSW5mby5maWxlLmRpcixyZWNvcmQ9Z2VuZXJhdGVaaXBQYXJ0cyhzdHJlYW1JbmZvLHN0cmVhbWVkQ29udGVudCwhMCx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTtpZih0aGlzLmRpclJlY29yZHMucHVzaChyZWNvcmQuZGlyUmVjb3JkKSxzdHJlYW1lZENvbnRlbnQpdGhpcy5wdXNoKHtkYXRhOmZ1bmN0aW9uKHN0cmVhbUluZm8pe3JldHVybiBzaWduYXR1cmUuREFUQV9ERVNDUklQVE9SK2RlY1RvSGV4KHN0cmVhbUluZm8uY3JjMzIsNCkrZGVjVG9IZXgoc3RyZWFtSW5mby5jb21wcmVzc2VkU2l6ZSw0KStkZWNUb0hleChzdHJlYW1JbmZvLnVuY29tcHJlc3NlZFNpemUsNCl9KHN0cmVhbUluZm8pLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO2Vsc2UgZm9yKHRoaXMucHVzaCh7ZGF0YTpyZWNvcmQuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSk7dGhpcy5jb250ZW50QnVmZmVyLmxlbmd0aDspdGhpcy5wdXNoKHRoaXMuY29udGVudEJ1ZmZlci5zaGlmdCgpKTt0aGlzLmN1cnJlbnRGaWxlPW51bGx9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBsb2NhbERpckxlbmd0aD10aGlzLmJ5dGVzV3JpdHRlbixpPTA7aTx0aGlzLmRpclJlY29yZHMubGVuZ3RoO2krKyl0aGlzLnB1c2goe2RhdGE6dGhpcy5kaXJSZWNvcmRzW2ldLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO3ZhciBjZW50cmFsRGlyTGVuZ3RoPXRoaXMuYnl0ZXNXcml0dGVuLWxvY2FsRGlyTGVuZ3RoLGRpckVuZD1mdW5jdGlvbihlbnRyaWVzQ291bnQsY2VudHJhbERpckxlbmd0aCxsb2NhbERpckxlbmd0aCxjb21tZW50LGVuY29kZUZpbGVOYW1lKXt2YXIgZW5jb2RlZENvbW1lbnQ9dXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixlbmNvZGVGaWxlTmFtZShjb21tZW50KSk7cmV0dXJuIHNpZ25hdHVyZS5DRU5UUkFMX0RJUkVDVE9SWV9FTkQrXCJcXDBcXDBcXDBcXDBcIitkZWNUb0hleChlbnRyaWVzQ291bnQsMikrZGVjVG9IZXgoZW50cmllc0NvdW50LDIpK2RlY1RvSGV4KGNlbnRyYWxEaXJMZW5ndGgsNCkrZGVjVG9IZXgobG9jYWxEaXJMZW5ndGgsNCkrZGVjVG9IZXgoZW5jb2RlZENvbW1lbnQubGVuZ3RoLDIpK2VuY29kZWRDb21tZW50fSh0aGlzLmRpclJlY29yZHMubGVuZ3RoLGNlbnRyYWxEaXJMZW5ndGgsbG9jYWxEaXJMZW5ndGgsdGhpcy56aXBDb21tZW50LHRoaXMuZW5jb2RlRmlsZU5hbWUpO3RoaXMucHVzaCh7ZGF0YTpkaXJFbmQsbWV0YTp7cGVyY2VudDoxMDB9fSl9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLnByZXBhcmVOZXh0U291cmNlPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLl9zb3VyY2VzLnNoaWZ0KCksdGhpcy5vcGVuZWRTb3VyY2UodGhpcy5wcmV2aW91cy5zdHJlYW1JbmZvKSx0aGlzLmlzUGF1c2VkP3RoaXMucHJldmlvdXMucGF1c2UoKTp0aGlzLnByZXZpb3VzLnJlc3VtZSgpfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKHByZXZpb3VzKXt0aGlzLl9zb3VyY2VzLnB1c2gocHJldmlvdXMpO3ZhciBzZWxmPXRoaXM7cmV0dXJuIHByZXZpb3VzLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXtzZWxmLnByb2Nlc3NDaHVuayhjaHVuayl9KSxwcmV2aW91cy5vbihcImVuZFwiLGZ1bmN0aW9uKCl7c2VsZi5jbG9zZWRTb3VyY2Uoc2VsZi5wcmV2aW91cy5zdHJlYW1JbmZvKSxzZWxmLl9zb3VyY2VzLmxlbmd0aD9zZWxmLnByZXBhcmVOZXh0U291cmNlKCk6c2VsZi5lbmQoKX0pLHByZXZpb3VzLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtzZWxmLmVycm9yKGUpfSksdGhpc30sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLnByZXZpb3VzJiZ0aGlzLl9zb3VyY2VzLmxlbmd0aD8odGhpcy5wcmVwYXJlTmV4dFNvdXJjZSgpLCEwKTp0aGlzLnByZXZpb3VzfHx0aGlzLl9zb3VyY2VzLmxlbmd0aHx8dGhpcy5nZW5lcmF0ZWRFcnJvcj92b2lkIDA6KHRoaXMuZW5kKCksITApKX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHNvdXJjZXM9dGhpcy5fc291cmNlcztpZighR2VuZXJpY1dvcmtlci5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLGUpKXJldHVybiExO2Zvcih2YXIgaT0wO2k8c291cmNlcy5sZW5ndGg7aSsrKXRyeXtzb3VyY2VzW2ldLmVycm9yKGUpfWNhdGNoKGUpe31yZXR1cm4hMH0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUubG9jaz1mdW5jdGlvbigpe0dlbmVyaWNXb3JrZXIucHJvdG90eXBlLmxvY2suY2FsbCh0aGlzKTtmb3IodmFyIHNvdXJjZXM9dGhpcy5fc291cmNlcyxpPTA7aTxzb3VyY2VzLmxlbmd0aDtpKyspc291cmNlc1tpXS5sb2NrKCl9LG1vZHVsZS5leHBvcnRzPVppcEZpbGVXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKTtmdW5jdGlvbiBOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIoZmlsZW5hbWUsc3RyZWFtKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIk5vZGVqcyBzdHJlYW0gaW5wdXQgYWRhcHRlciBmb3IgXCIrZmlsZW5hbWUpLHRoaXMuX3Vwc3RyZWFtRW5kZWQ9ITEsdGhpcy5fYmluZFN0cmVhbShzdHJlYW0pfXV0aWxzLmluaGVyaXRzKE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcixHZW5lcmljV29ya2VyKSxOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIucHJvdG90eXBlLl9iaW5kU3RyZWFtPWZ1bmN0aW9uKHN0cmVhbSl7dmFyIHNlbGY9dGhpczt0aGlzLl9zdHJlYW09c3RyZWFtLHN0cmVhbS5wYXVzZSgpLHN0cmVhbS5vbihcImRhdGFcIixmdW5jdGlvbihjaHVuayl7c2VsZi5wdXNoKHtkYXRhOmNodW5rLG1ldGE6e3BlcmNlbnQ6MH19KX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtzZWxmLmlzUGF1c2VkP3RoaXMuZ2VuZXJhdGVkRXJyb3I9ZTpzZWxmLmVycm9yKGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYuaXNQYXVzZWQ/c2VsZi5fdXBzdHJlYW1FbmRlZD0hMDpzZWxmLmVuZCgpfSl9LE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlci5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4hIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnBhdXNlLmNhbGwodGhpcykmJih0aGlzLl9zdHJlYW0ucGF1c2UoKSwhMCl9LE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlci5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKHRoaXMuX3Vwc3RyZWFtRW5kZWQ/dGhpcy5lbmQoKTp0aGlzLl9zdHJlYW0ucmVzdW1lKCksITApfSxtb2R1bGUuZXhwb3J0cz1Ob2RlanNTdHJlYW1JbnB1dEFkYXB0ZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLGV4dGVybmFsPV9fd2VicGFja19yZXF1aXJlX18oMjYpLHV0Zjg9X193ZWJwYWNrX3JlcXVpcmVfXygxNCksWmlwRW50cmllcz0odXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCkpLENyYzMyUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2NCksbm9kZWpzVXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygzMSk7ZnVuY3Rpb24gY2hlY2tFbnRyeUNSQzMyKHppcEVudHJ5KXtyZXR1cm4gbmV3IGV4dGVybmFsLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciB3b3JrZXI9emlwRW50cnkuZGVjb21wcmVzc2VkLmdldENvbnRlbnRXb3JrZXIoKS5waXBlKG5ldyBDcmMzMlByb2JlKTt3b3JrZXIub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3JlamVjdChlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt3b3JrZXIuc3RyZWFtSW5mby5jcmMzMiE9PXppcEVudHJ5LmRlY29tcHJlc3NlZC5jcmMzMj9yZWplY3QobmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCA6IENSQzMyIG1pc21hdGNoXCIpKTpyZXNvbHZlKCl9KS5yZXN1bWUoKX0pfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGRhdGEsb3B0aW9ucyl7dmFyIHppcD10aGlzO3JldHVybiBvcHRpb25zPXV0aWxzLmV4dGVuZChvcHRpb25zfHx7fSx7YmFzZTY0OiExLGNoZWNrQ1JDMzI6ITEsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiExLGNyZWF0ZUZvbGRlcnM6ITEsZGVjb2RlRmlsZU5hbWU6dXRmOC51dGY4ZGVjb2RlfSksbm9kZWpzVXRpbHMuaXNOb2RlJiZub2RlanNVdGlscy5pc1N0cmVhbShkYXRhKT9leHRlcm5hbC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJKU1ppcCBjYW4ndCBhY2NlcHQgYSBzdHJlYW0gd2hlbiBsb2FkaW5nIGEgemlwIGZpbGUuXCIpKTp1dGlscy5wcmVwYXJlQ29udGVudChcInRoZSBsb2FkZWQgemlwIGZpbGVcIixkYXRhLCEwLG9wdGlvbnMub3B0aW1pemVkQmluYXJ5U3RyaW5nLG9wdGlvbnMuYmFzZTY0KS50aGVuKGZ1bmN0aW9uKGRhdGEpe3ZhciB6aXBFbnRyaWVzPW5ldyBaaXBFbnRyaWVzKG9wdGlvbnMpO3JldHVybiB6aXBFbnRyaWVzLmxvYWQoZGF0YSksemlwRW50cmllc30pLnRoZW4oZnVuY3Rpb24oemlwRW50cmllcyl7dmFyIHByb21pc2VzPVtleHRlcm5hbC5Qcm9taXNlLnJlc29sdmUoemlwRW50cmllcyldLGZpbGVzPXppcEVudHJpZXMuZmlsZXM7aWYob3B0aW9ucy5jaGVja0NSQzMyKWZvcih2YXIgaT0wO2k8ZmlsZXMubGVuZ3RoO2krKylwcm9taXNlcy5wdXNoKGNoZWNrRW50cnlDUkMzMihmaWxlc1tpXSkpO3JldHVybiBleHRlcm5hbC5Qcm9taXNlLmFsbChwcm9taXNlcyl9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpe2Zvcih2YXIgemlwRW50cmllcz1yZXN1bHRzLnNoaWZ0KCksZmlsZXM9emlwRW50cmllcy5maWxlcyxpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKXt2YXIgaW5wdXQ9ZmlsZXNbaV07emlwLmZpbGUoaW5wdXQuZmlsZU5hbWVTdHIsaW5wdXQuZGVjb21wcmVzc2VkLHtiaW5hcnk6ITAsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiEwLGRhdGU6aW5wdXQuZGF0ZSxkaXI6aW5wdXQuZGlyLGNvbW1lbnQ6aW5wdXQuZmlsZUNvbW1lbnRTdHIubGVuZ3RoP2lucHV0LmZpbGVDb21tZW50U3RyOm51bGwsdW5peFBlcm1pc3Npb25zOmlucHV0LnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczppbnB1dC5kb3NQZXJtaXNzaW9ucyxjcmVhdGVGb2xkZXJzOm9wdGlvbnMuY3JlYXRlRm9sZGVyc30pfXJldHVybiB6aXBFbnRyaWVzLnppcENvbW1lbnQubGVuZ3RoJiYoemlwLmNvbW1lbnQ9emlwRW50cmllcy56aXBDb21tZW50KSx6aXB9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciByZWFkZXJGb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg3MiksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxzaWc9X193ZWJwYWNrX3JlcXVpcmVfXyg3MSksWmlwRW50cnk9X193ZWJwYWNrX3JlcXVpcmVfXygxMjMpLHN1cHBvcnQ9KF9fd2VicGFja19yZXF1aXJlX18oMTQpLF9fd2VicGFja19yZXF1aXJlX18oNykpO2Z1bmN0aW9uIFppcEVudHJpZXMobG9hZE9wdGlvbnMpe3RoaXMuZmlsZXM9W10sdGhpcy5sb2FkT3B0aW9ucz1sb2FkT3B0aW9uc31aaXBFbnRyaWVzLnByb3RvdHlwZT17Y2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oZXhwZWN0ZWRTaWduYXR1cmUpe2lmKCF0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUoZXhwZWN0ZWRTaWduYXR1cmUpKXt0aGlzLnJlYWRlci5pbmRleC09NDt2YXIgc2lnbmF0dXJlPXRoaXMucmVhZGVyLnJlYWRTdHJpbmcoNCk7dGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCBvciBidWc6IHVuZXhwZWN0ZWQgc2lnbmF0dXJlIChcIit1dGlscy5wcmV0dHkoc2lnbmF0dXJlKStcIiwgZXhwZWN0ZWQgXCIrdXRpbHMucHJldHR5KGV4cGVjdGVkU2lnbmF0dXJlKStcIilcIil9fSxpc1NpZ25hdHVyZTpmdW5jdGlvbihhc2tlZEluZGV4LGV4cGVjdGVkU2lnbmF0dXJlKXt2YXIgY3VycmVudEluZGV4PXRoaXMucmVhZGVyLmluZGV4O3RoaXMucmVhZGVyLnNldEluZGV4KGFza2VkSW5kZXgpO3ZhciByZXN1bHQ9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KT09PWV4cGVjdGVkU2lnbmF0dXJlO3JldHVybiB0aGlzLnJlYWRlci5zZXRJbmRleChjdXJyZW50SW5kZXgpLHJlc3VsdH0scmVhZEJsb2NrRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLnppcENvbW1lbnRMZW5ndGg9dGhpcy5yZWFkZXIucmVhZEludCgyKTt2YXIgemlwQ29tbWVudD10aGlzLnJlYWRlci5yZWFkRGF0YSh0aGlzLnppcENvbW1lbnRMZW5ndGgpLGRlY29kZVBhcmFtVHlwZT1zdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGRlY29kZUNvbnRlbnQ9dXRpbHMudHJhbnNmb3JtVG8oZGVjb2RlUGFyYW1UeXBlLHppcENvbW1lbnQpO3RoaXMuemlwQ29tbWVudD10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGRlY29kZUNvbnRlbnQpfSxyZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3RoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5yZWFkZXIuc2tpcCg0KSx0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YT17fTtmb3IodmFyIGV4dHJhRmllbGRJZCxleHRyYUZpZWxkTGVuZ3RoLGV4dHJhRmllbGRWYWx1ZSxleHRyYURhdGFTaXplPXRoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplLTQ0OzA8ZXh0cmFEYXRhU2l6ZTspZXh0cmFGaWVsZElkPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksZXh0cmFGaWVsZExlbmd0aD10aGlzLnJlYWRlci5yZWFkSW50KDQpLGV4dHJhRmllbGRWYWx1ZT10aGlzLnJlYWRlci5yZWFkRGF0YShleHRyYUZpZWxkTGVuZ3RoKSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGFbZXh0cmFGaWVsZElkXT17aWQ6ZXh0cmFGaWVsZElkLGxlbmd0aDpleHRyYUZpZWxkTGVuZ3RoLHZhbHVlOmV4dHJhRmllbGRWYWx1ZX19LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsTG9jYXRvcjpmdW5jdGlvbigpe2lmKHRoaXMuZGlza1dpdGhaaXA2NENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuZGlza3NDb3VudD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuZGlza3NDb3VudD4xKXRocm93IG5ldyBFcnJvcihcIk11bHRpLXZvbHVtZXMgemlwIGFyZSBub3Qgc3VwcG9ydGVkXCIpfSxyZWFkTG9jYWxGaWxlczpmdW5jdGlvbigpe3ZhciBpLGZpbGU7Zm9yKGk9MDtpPHRoaXMuZmlsZXMubGVuZ3RoO2krKylmaWxlPXRoaXMuZmlsZXNbaV0sdGhpcy5yZWFkZXIuc2V0SW5kZXgoZmlsZS5sb2NhbEhlYWRlck9mZnNldCksdGhpcy5jaGVja1NpZ25hdHVyZShzaWcuTE9DQUxfRklMRV9IRUFERVIpLGZpbGUucmVhZExvY2FsUGFydCh0aGlzLnJlYWRlciksZmlsZS5oYW5kbGVVVEY4KCksZmlsZS5wcm9jZXNzQXR0cmlidXRlcygpfSxyZWFkQ2VudHJhbERpcjpmdW5jdGlvbigpe3ZhciBmaWxlO2Zvcih0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLmNlbnRyYWxEaXJPZmZzZXQpO3RoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShzaWcuQ0VOVFJBTF9GSUxFX0hFQURFUik7KShmaWxlPW5ldyBaaXBFbnRyeSh7emlwNjQ6dGhpcy56aXA2NH0sdGhpcy5sb2FkT3B0aW9ucykpLnJlYWRDZW50cmFsUGFydCh0aGlzLnJlYWRlciksdGhpcy5maWxlcy5wdXNoKGZpbGUpO2lmKHRoaXMuY2VudHJhbERpclJlY29yZHMhPT10aGlzLmZpbGVzLmxlbmd0aCYmMCE9PXRoaXMuY2VudHJhbERpclJlY29yZHMmJjA9PT10aGlzLmZpbGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogZXhwZWN0ZWQgXCIrdGhpcy5jZW50cmFsRGlyUmVjb3JkcytcIiByZWNvcmRzIGluIGNlbnRyYWwgZGlyLCBnb3QgXCIrdGhpcy5maWxlcy5sZW5ndGgpfSxyZWFkRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dmFyIG9mZnNldD10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzaWcuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKTtpZihvZmZzZXQ8MCl0aHJvdyF0aGlzLmlzU2lnbmF0dXJlKDAsc2lnLkxPQ0FMX0ZJTEVfSEVBREVSKT9uZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSA6IGlzIHRoaXMgYSB6aXAgZmlsZSA/IElmIGl0IGlzLCBzZWUgaHR0cHM6Ly9zdHVrLmdpdGh1Yi5pby9qc3ppcC9kb2N1bWVudGF0aW9uL2hvd3RvL3JlYWRfemlwLmh0bWxcIik6bmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnlcIik7dGhpcy5yZWFkZXIuc2V0SW5kZXgob2Zmc2V0KTt2YXIgZW5kT2ZDZW50cmFsRGlyT2Zmc2V0PW9mZnNldDtpZih0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrRW5kT2ZDZW50cmFsKCksdGhpcy5kaXNrTnVtYmVyPT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD09PXV0aWxzLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkcz09PXV0aWxzLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclNpemU9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTfHx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTKXtpZih0aGlzLnppcDY0PSEwLChvZmZzZXQ9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoc2lnLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1IpKTwwKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgdGhlIFpJUDY0IGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSBsb2NhdG9yXCIpO2lmKHRoaXMucmVhZGVyLnNldEluZGV4KG9mZnNldCksdGhpcy5jaGVja1NpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3IoKSwhdGhpcy5pc1NpZ25hdHVyZSh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIsc2lnLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCkmJih0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoc2lnLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPDApKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgdGhlIFpJUDY0IGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeVwiKTt0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIpLHRoaXMuY2hlY2tTaWduYXR1cmUoc2lnLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbCgpfXZhciBleHBlY3RlZEVuZE9mQ2VudHJhbERpck9mZnNldD10aGlzLmNlbnRyYWxEaXJPZmZzZXQrdGhpcy5jZW50cmFsRGlyU2l6ZTt0aGlzLnppcDY0JiYoZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQrPTIwLGV4cGVjdGVkRW5kT2ZDZW50cmFsRGlyT2Zmc2V0Kz0xMit0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZSk7dmFyIGV4dHJhQnl0ZXM9ZW5kT2ZDZW50cmFsRGlyT2Zmc2V0LWV4cGVjdGVkRW5kT2ZDZW50cmFsRGlyT2Zmc2V0O2lmKGV4dHJhQnl0ZXM+MCl0aGlzLmlzU2lnbmF0dXJlKGVuZE9mQ2VudHJhbERpck9mZnNldCxzaWcuQ0VOVFJBTF9GSUxFX0hFQURFUil8fCh0aGlzLnJlYWRlci56ZXJvPWV4dHJhQnl0ZXMpO2Vsc2UgaWYoZXh0cmFCeXRlczwwKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IG1pc3NpbmcgXCIrTWF0aC5hYnMoZXh0cmFCeXRlcykrXCIgYnl0ZXMuXCIpfSxwcmVwYXJlUmVhZGVyOmZ1bmN0aW9uKGRhdGEpe3RoaXMucmVhZGVyPXJlYWRlckZvcihkYXRhKX0sbG9hZDpmdW5jdGlvbihkYXRhKXt0aGlzLnByZXBhcmVSZWFkZXIoZGF0YSksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKX19LG1vZHVsZS5leHBvcnRzPVppcEVudHJpZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBEYXRhUmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzQpO2Z1bmN0aW9uIFN0cmluZ1JlYWRlcihkYXRhKXtEYXRhUmVhZGVyLmNhbGwodGhpcyxkYXRhKX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKFN0cmluZ1JlYWRlcixEYXRhUmVhZGVyKSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy56ZXJvK2kpfSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKHNpZyl7cmV0dXJuIHRoaXMuZGF0YS5sYXN0SW5kZXhPZihzaWcpLXRoaXMuemVyb30sU3RyaW5nUmVhZGVyLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXtyZXR1cm4gc2lnPT09dGhpcy5yZWFkRGF0YSg0KX0sU3RyaW5nUmVhZGVyLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihzaXplKXt0aGlzLmNoZWNrT2Zmc2V0KHNpemUpO3ZhciByZXN1bHQ9dGhpcy5kYXRhLnNsaWNlKHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3NpemUpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0sbW9kdWxlLmV4cG9ydHM9U3RyaW5nUmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgVWludDhBcnJheVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtmdW5jdGlvbiBOb2RlQnVmZmVyUmVhZGVyKGRhdGEpe1VpbnQ4QXJyYXlSZWFkZXIuY2FsbCh0aGlzLGRhdGEpfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoTm9kZUJ1ZmZlclJlYWRlcixVaW50OEFycmF5UmVhZGVyKSxOb2RlQnVmZmVyUmVhZGVyLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihzaXplKXt0aGlzLmNoZWNrT2Zmc2V0KHNpemUpO3ZhciByZXN1bHQ9dGhpcy5kYXRhLnNsaWNlKHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3NpemUpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0sbW9kdWxlLmV4cG9ydHM9Tm9kZUJ1ZmZlclJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHJlYWRlckZvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcyKSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLENvbXByZXNzZWRPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0NCksY3JjMzJmbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSx1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTQpLGNvbXByZXNzaW9ucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gWmlwRW50cnkob3B0aW9ucyxsb2FkT3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy5sb2FkT3B0aW9ucz1sb2FkT3B0aW9uc31aaXBFbnRyeS5wcm90b3R5cGU9e2lzRW5jcnlwdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMuYml0RmxhZyl9LHVzZVVURjg6ZnVuY3Rpb24oKXtyZXR1cm4gMjA0OD09KDIwNDgmdGhpcy5iaXRGbGFnKX0scmVhZExvY2FsUGFydDpmdW5jdGlvbihyZWFkZXIpe3ZhciBjb21wcmVzc2lvbixsb2NhbEV4dHJhRmllbGRzTGVuZ3RoO2lmKHJlYWRlci5za2lwKDIyKSx0aGlzLmZpbGVOYW1lTGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLGxvY2FsRXh0cmFGaWVsZHNMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5maWxlTmFtZT1yZWFkZXIucmVhZERhdGEodGhpcy5maWxlTmFtZUxlbmd0aCkscmVhZGVyLnNraXAobG9jYWxFeHRyYUZpZWxkc0xlbmd0aCksLTE9PT10aGlzLmNvbXByZXNzZWRTaXplfHwtMT09PXRoaXMudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgb3IgY29ycnVwdGVkIHppcCA6IGRpZG4ndCBnZXQgZW5vdWdoIGluZm9ybWF0aW9ucyBmcm9tIHRoZSBjZW50cmFsIGRpcmVjdG9yeSAoY29tcHJlc3NlZFNpemUgPT09IC0xIHx8IHVuY29tcHJlc3NlZFNpemUgPT09IC0xKVwiKTtpZihudWxsPT09KGNvbXByZXNzaW9uPWZ1bmN0aW9uKGNvbXByZXNzaW9uTWV0aG9kKXtmb3IodmFyIG1ldGhvZCBpbiBjb21wcmVzc2lvbnMpaWYoY29tcHJlc3Npb25zLmhhc093blByb3BlcnR5KG1ldGhvZCkmJmNvbXByZXNzaW9uc1ttZXRob2RdLm1hZ2ljPT09Y29tcHJlc3Npb25NZXRob2QpcmV0dXJuIGNvbXByZXNzaW9uc1ttZXRob2RdO3JldHVybiBudWxsfSh0aGlzLmNvbXByZXNzaW9uTWV0aG9kKSkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCA6IGNvbXByZXNzaW9uIFwiK3V0aWxzLnByZXR0eSh0aGlzLmNvbXByZXNzaW9uTWV0aG9kKStcIiB1bmtub3duIChpbm5lciBmaWxlIDogXCIrdXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix0aGlzLmZpbGVOYW1lKStcIilcIik7dGhpcy5kZWNvbXByZXNzZWQ9bmV3IENvbXByZXNzZWRPYmplY3QodGhpcy5jb21wcmVzc2VkU2l6ZSx0aGlzLnVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMixjb21wcmVzc2lvbixyZWFkZXIucmVhZERhdGEodGhpcy5jb21wcmVzc2VkU2l6ZSkpfSxyZWFkQ2VudHJhbFBhcnQ6ZnVuY3Rpb24ocmVhZGVyKXt0aGlzLnZlcnNpb25NYWRlQnk9cmVhZGVyLnJlYWRJbnQoMikscmVhZGVyLnNraXAoMiksdGhpcy5iaXRGbGFnPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuY29tcHJlc3Npb25NZXRob2Q9cmVhZGVyLnJlYWRTdHJpbmcoMiksdGhpcy5kYXRlPXJlYWRlci5yZWFkRGF0ZSgpLHRoaXMuY3JjMzI9cmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jb21wcmVzc2VkU2l6ZT1yZWFkZXIucmVhZEludCg0KSx0aGlzLnVuY29tcHJlc3NlZFNpemU9cmVhZGVyLnJlYWRJbnQoNCk7dmFyIGZpbGVOYW1lTGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpO2lmKHRoaXMuZXh0cmFGaWVsZHNMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5maWxlQ29tbWVudExlbmd0aD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmRpc2tOdW1iZXJTdGFydD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmludGVybmFsRmlsZUF0dHJpYnV0ZXM9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPXJlYWRlci5yZWFkSW50KDQpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9cmVhZGVyLnJlYWRJbnQoNCksdGhpcy5pc0VuY3J5cHRlZCgpKXRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRlZCB6aXAgYXJlIG5vdCBzdXBwb3J0ZWRcIik7cmVhZGVyLnNraXAoZmlsZU5hbWVMZW5ndGgpLHRoaXMucmVhZEV4dHJhRmllbGRzKHJlYWRlciksdGhpcy5wYXJzZVpJUDY0RXh0cmFGaWVsZChyZWFkZXIpLHRoaXMuZmlsZUNvbW1lbnQ9cmVhZGVyLnJlYWREYXRhKHRoaXMuZmlsZUNvbW1lbnRMZW5ndGgpfSxwcm9jZXNzQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMudW5peFBlcm1pc3Npb25zPW51bGwsdGhpcy5kb3NQZXJtaXNzaW9ucz1udWxsO3ZhciBtYWRlQnk9dGhpcy52ZXJzaW9uTWFkZUJ5Pj44O3RoaXMuZGlyPSEhKDE2JnRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcyksMD09PW1hZGVCeSYmKHRoaXMuZG9zUGVybWlzc2lvbnM9NjMmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwzPT09bWFkZUJ5JiYodGhpcy51bml4UGVybWlzc2lvbnM9dGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPj4xNiY2NTUzNSksdGhpcy5kaXJ8fFwiL1wiIT09dGhpcy5maWxlTmFtZVN0ci5zbGljZSgtMSl8fCh0aGlzLmRpcj0hMCl9LHBhcnNlWklQNjRFeHRyYUZpZWxkOmZ1bmN0aW9uKHJlYWRlcil7aWYodGhpcy5leHRyYUZpZWxkc1sxXSl7dmFyIGV4dHJhUmVhZGVyPXJlYWRlckZvcih0aGlzLmV4dHJhRmllbGRzWzFdLnZhbHVlKTt0aGlzLnVuY29tcHJlc3NlZFNpemU9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy51bmNvbXByZXNzZWRTaXplPWV4dHJhUmVhZGVyLnJlYWRJbnQoOCkpLHRoaXMuY29tcHJlc3NlZFNpemU9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5jb21wcmVzc2VkU2l6ZT1leHRyYVJlYWRlci5yZWFkSW50KDgpKSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9ZXh0cmFSZWFkZXIucmVhZEludCg4KSksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5kaXNrTnVtYmVyU3RhcnQ9ZXh0cmFSZWFkZXIucmVhZEludCg0KSl9fSxyZWFkRXh0cmFGaWVsZHM6ZnVuY3Rpb24ocmVhZGVyKXt2YXIgZXh0cmFGaWVsZElkLGV4dHJhRmllbGRMZW5ndGgsZXh0cmFGaWVsZFZhbHVlLGVuZD1yZWFkZXIuaW5kZXgrdGhpcy5leHRyYUZpZWxkc0xlbmd0aDtmb3IodGhpcy5leHRyYUZpZWxkc3x8KHRoaXMuZXh0cmFGaWVsZHM9e30pO3JlYWRlci5pbmRleDxlbmQ7KWV4dHJhRmllbGRJZD1yZWFkZXIucmVhZEludCgyKSxleHRyYUZpZWxkTGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLGV4dHJhRmllbGRWYWx1ZT1yZWFkZXIucmVhZERhdGEoZXh0cmFGaWVsZExlbmd0aCksdGhpcy5leHRyYUZpZWxkc1tleHRyYUZpZWxkSWRdPXtpZDpleHRyYUZpZWxkSWQsbGVuZ3RoOmV4dHJhRmllbGRMZW5ndGgsdmFsdWU6ZXh0cmFGaWVsZFZhbHVlfX0saGFuZGxlVVRGODpmdW5jdGlvbigpe3ZhciBkZWNvZGVQYXJhbVR5cGU9c3VwcG9ydC51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIjtpZih0aGlzLnVzZVVURjgoKSl0aGlzLmZpbGVOYW1lU3RyPXV0ZjgudXRmOGRlY29kZSh0aGlzLmZpbGVOYW1lKSx0aGlzLmZpbGVDb21tZW50U3RyPXV0ZjgudXRmOGRlY29kZSh0aGlzLmZpbGVDb21tZW50KTtlbHNle3ZhciB1cGF0aD10aGlzLmZpbmRFeHRyYUZpZWxkVW5pY29kZVBhdGgoKTtpZihudWxsIT09dXBhdGgpdGhpcy5maWxlTmFtZVN0cj11cGF0aDtlbHNle3ZhciBmaWxlTmFtZUJ5dGVBcnJheT11dGlscy50cmFuc2Zvcm1UbyhkZWNvZGVQYXJhbVR5cGUsdGhpcy5maWxlTmFtZSk7dGhpcy5maWxlTmFtZVN0cj10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGZpbGVOYW1lQnl0ZUFycmF5KX12YXIgdWNvbW1lbnQ9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50KCk7aWYobnVsbCE9PXVjb21tZW50KXRoaXMuZmlsZUNvbW1lbnRTdHI9dWNvbW1lbnQ7ZWxzZXt2YXIgY29tbWVudEJ5dGVBcnJheT11dGlscy50cmFuc2Zvcm1UbyhkZWNvZGVQYXJhbVR5cGUsdGhpcy5maWxlQ29tbWVudCk7dGhpcy5maWxlQ29tbWVudFN0cj10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGNvbW1lbnRCeXRlQXJyYXkpfX19LGZpbmRFeHRyYUZpZWxkVW5pY29kZVBhdGg6ZnVuY3Rpb24oKXt2YXIgdXBhdGhGaWVsZD10aGlzLmV4dHJhRmllbGRzWzI4Nzg5XTtpZih1cGF0aEZpZWxkKXt2YXIgZXh0cmFSZWFkZXI9cmVhZGVyRm9yKHVwYXRoRmllbGQudmFsdWUpO3JldHVybiAxIT09ZXh0cmFSZWFkZXIucmVhZEludCgxKT9udWxsOmNyYzMyZm4odGhpcy5maWxlTmFtZSkhPT1leHRyYVJlYWRlci5yZWFkSW50KDQpP251bGw6dXRmOC51dGY4ZGVjb2RlKGV4dHJhUmVhZGVyLnJlYWREYXRhKHVwYXRoRmllbGQubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH0sZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudDpmdW5jdGlvbigpe3ZhciB1Y29tbWVudEZpZWxkPXRoaXMuZXh0cmFGaWVsZHNbMjU0NjFdO2lmKHVjb21tZW50RmllbGQpe3ZhciBleHRyYVJlYWRlcj1yZWFkZXJGb3IodWNvbW1lbnRGaWVsZC52YWx1ZSk7cmV0dXJuIDEhPT1leHRyYVJlYWRlci5yZWFkSW50KDEpP251bGw6Y3JjMzJmbih0aGlzLmZpbGVDb21tZW50KSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoNCk/bnVsbDp1dGY4LnV0ZjhkZWNvZGUoZXh0cmFSZWFkZXIucmVhZERhdGEodWNvbW1lbnRGaWVsZC5sZW5ndGgtNSkpfXJldHVybiBudWxsfX0sbW9kdWxlLmV4cG9ydHM9WmlwRW50cnl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZ2V0SFRNTD1mdW5jdGlvbihjb250ZW50LHNlZ21lbnRzKXtyZXR1cm4nXFxuICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c1wiPlxcbiAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faGVhZGVyXCI+XFxuICAgICAgJytjb250ZW50LmhlYWRlclRleHQrJ1xcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2JvZHlcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fc3ViLWhlYWRlclwiPlxcbiAgICAgICAgJysoY29udGVudC5zdWJIZWFkZXJUZXh0P2NvbnRlbnQuc3ViSGVhZGVyVGV4dDpcIlwiKSsnXFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWxzXCI+XFxuICAgICAgICAnK3NlZ21lbnRzLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsc2VnbWVudCl7cmV0dXJuIHJlc3VsdCsnPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19sYWJlbFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0XFxuICAgICAgICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fZmllbGRcIiBcXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCIgXFxuICAgICAgICAgICAgICAgIHZhbHVlPVwiJytzZWdtZW50LmNvZGUrJ1wiXFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9XCJ0cnVlXCJcXG4gICAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ljb25cIj5cXG4gICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xOC4wMzAzIDguNDY5NjdDMTguMzIzMiA4Ljc2MjU2IDE4LjMyMzIgOS4yMzc0NCAxOC4wMzAzIDkuNTMwMzNMMTEuMDMwMyAxNi41MzAzQzEwLjczNzQgMTYuODIzMiAxMC4yNjI2IDE2LjgyMzIgOS45Njk2NyAxNi41MzAzTDYuOTY5NjcgMTMuNTMwM0M2LjY3Njc4IDEzLjIzNzQgNi42NzY3OCAxMi43NjI2IDYuOTY5NjcgMTIuNDY5N0M3LjI2MjU2IDEyLjE3NjggNy43Mzc0NCAxMi4xNzY4IDguMDMwMzMgMTIuNDY5N0wxMC41IDE0LjkzOTNMMTYuOTY5NyA4LjQ2OTY3QzE3LjI2MjYgOC4xNzY3OCAxNy43Mzc0IDguMTc2NzggMTguMDMwMyA4LjQ2OTY3WlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XFxuICAgICAgICAgICAgICAgICAgPC9zdmc+XFxuICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3RleHRcIj5cXG4gICAgICAgICAgICAgICAgJytzZWdtZW50Lm5hbWUrXCJcXG4gICAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICA8L2Rpdj5cIn0sXCJcIikrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sc1wiPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzLWRlbnlcIiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wgcHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbF9kZW55XCI+XFxuICAgICAgICAgICcrY29udGVudC5jb250cm9sc0RlbnlCdXR0b25UZXh0KydcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzLWFjY2VwdFwiIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCBwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sX2FjY2VwdFwiPlxcbiAgICAgICAgICAnK2NvbnRlbnQuY29udHJvbHNCdXR0b25UZXh0K1wiXFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG4gIFwifSxleHBvcnRzLmdldFN0eWxlcz1mdW5jdGlvbihjb250ZW50KXt2YXIgc3R5bGVzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVzLmlubmVySFRNTD1cIlxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cyAqIHtcXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94IWltcG9ydGFudDtcXG4gICAgfVxcbiAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzIHtcXG4gICAgICBwYWRkaW5nOiAyNHB4IDE2cHggMTZweCAyNHB4IWltcG9ydGFudDtcXG4gICAgICB1c2VyLXNlbGVjdDogbm9uZSFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faGVhZGVyIHtcXG4gICAgICBmb250LXdlaWdodDogYm9sZCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAyMHB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMjNweCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19zdWItaGVhZGVyIHtcXG4gICAgICBtYXJnaW4tdG9wOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBmb250LXNpemU6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4IWltcG9ydGFudDtcXG4gICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjU0KSFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19zdWItaGVhZGVyOmVtcHR5IHtcXG4gICAgICBkaXNwbGF5Om5vbmUhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbHMge1xcbiAgICAgIG1hcmdpbi10b3A6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDI0cHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbCArIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsIHtcXG4gICAgICBtYXJnaW4tdG9wOiA4cHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fbGFiZWwge1xcbiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4IWltcG9ydGFudDtcXG4gICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydCFpbXBvcnRhbnQ7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ZpZWxkIHtcXG4gICAgICBkaXNwbGF5OiBub25lIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ljb24ge1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMCFpbXBvcnRhbnQ7XFxuICAgICAgd2lkdGg6IDIwcHghaW1wb3J0YW50O1xcbiAgICAgIGhlaWdodDogMjBweCFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZCFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4IWltcG9ydGFudDtcXG4gICAgICBjb2xvcjogI2ZmZiFpbXBvcnRhbnQ7XFxuICAgICAgbWFyZ2luOiAycHggOHB4IDAgMCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX190ZXh0IHtcXG4gICAgICBjb2xvcjogXCIrY29udGVudC5jaGFubmVsc1RleHRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9scyB7XFxuICAgICAgbWFyZ2luLXRvcDogMjRweCFpbXBvcnRhbnQ7XFxuICAgICAgdGV4dC1hbGlnbjogcmlnaHQhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fZmllbGQ6Y2hlY2tlZCArIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19pY29uIHtcXG4gICAgICBiYWNrZ3JvdW5kOiBcIitjb250ZW50LmNoYW5uZWxzVG9nZ2xlQ29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wge1xcbiAgICAgIGFwcGVhcmFuY2U6IG5vbmUhaW1wb3J0YW50O1xcbiAgICAgIGhlaWdodDogMzZweCFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4IWltcG9ydGFudDtcXG4gICAgICBwYWRkaW5nOiAwIDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkIWltcG9ydGFudDtcXG4gICAgICBmb250LXNpemU6IDE0cHghaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXIhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCArIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHtcXG4gICAgICBtYXJnaW46IDAgMCAwIDRweCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfZGVueSB7XFxuICAgICAgYm9yZGVyOiBub25lIWltcG9ydGFudDtcXG4gICAgICBjb2xvcjogXCIrY29udGVudC5jb250cm9sc0RlbnlCdXR0b25UZXh0Q29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uQmFja2dyb3VuZENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitjb250ZW50LmNvbnRyb2xzRGVueUJ1dHRvblJvdW5kK1wiIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbF9hY2NlcHQge1xcbiAgICAgIGJvcmRlcjogbm9uZSFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6IFwiK2NvbnRlbnQuY29udHJvbHNCdXR0b25UZXh0Q29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK2NvbnRlbnQuY29udHJvbHNCdXR0b25CYWNrZ3JvdW5kQ29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IFwiK2NvbnRlbnQuY29udHJvbHNCdXR0b25Sb3VuZCtcIiFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFwiLHN0eWxlc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTI2KSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NiksU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0KGV2ZW50QnVzLHB3KXt0aGlzLmV2ZW50QnVzPWV2ZW50QnVzLHRoaXMucHc9cHd9cmV0dXJuIFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihwYXJhbXMpe2lmKCF0aGlzLmdldFJvb3RFbGVtZW50KCkpe3ZhciBodG1sPVN1YnNjcmlwdGlvblByb21wdFdpZGdldF9oZWxwZXJzXzEuZ2V0SFRNTChwYXJhbXMpLHN0eWxlcz1TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfaGVscGVyc18xLmdldFN0eWxlcyhwYXJhbXMpO2RvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsaHRtbCksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZXMpfXRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIHJvb3RFbGVtZW50PXRoaXMuZ2V0Um9vdEVsZW1lbnRXaXRoQ2hlY2tFeGlzdCgpO3RoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInNob3ctc3Vic2NyaXB0aW9uLXdpZGdldFwiLHt9KSxyb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvd1wiKX0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIHJvb3RFbGVtZW50PXRoaXMuZ2V0Um9vdEVsZW1lbnRXaXRoQ2hlY2tFeGlzdCgpO3Jvb3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX3Nob3dcIikmJih0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJoaWRlLXN1YnNjcmlwdGlvbi13aWRnZXRcIix7fSkscm9vdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX3Nob3dcIikpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldFJvb3RFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCItcm9vdFwiKX0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0PWZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudCgpO2lmKCFlbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZWxlbWVudCBieSBpZCBcXFwiXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLXJvb3RcIiwgcGxlYXNlIHVzZSBtZXRob2QgaW5pdCBmaXJzdC4nKTtyZXR1cm4gZWxlbWVudH0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5nZXREZWNsaW5lQnV0dG9uV2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiLWRlY2xpbmVcIik7aWYoIWVsZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbGVtZW50IGJ5IGlkIFxcXCJcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctZGVjbGluZVwiLCBwbGVhc2UgdXNlIG1ldGhvZCBpbml0IGZpcnN0LicpO3JldHVybiBlbGVtZW50fSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldEFjY2VwdEJ1dHRvbldpdGhDaGVja0V4aXN0PWZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIi1hY2NlcHRcIik7aWYoIWVsZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbGVtZW50IGJ5IGlkIFxcXCJcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctYWNjZXB0XCIsIHBsZWFzZSB1c2UgbWV0aG9kIGluaXQgZmlyc3QuJyk7cmV0dXJuIGVsZW1lbnR9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcyxyb290RWxlbWVudD10aGlzLmdldFJvb3RFbGVtZW50V2l0aENoZWNrRXhpc3QoKSxkZWNsaW5lRWxlbWVudD10aGlzLmdldERlY2xpbmVCdXR0b25XaXRoQ2hlY2tFeGlzdCgpLGFjY2VwdEVsZW1lbnQ9dGhpcy5nZXRBY2NlcHRCdXR0b25XaXRoQ2hlY2tFeGlzdCgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGV2ZW50KXtyb290RWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpfHxfdGhpcy5oaWRlKCl9KSxkZWNsaW5lRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe190aGlzLmhpZGUoKX0pLGFjY2VwdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlKCksX3RoaXMucHcuc3Vic2NyaWJlKCl9KX0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0fSgpO2V4cG9ydHMuU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0PVN1YnNjcmlwdGlvblByb21wdFdpZGdldH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtleHBvcnRzLmdldEhUTUw9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4nXFxuICA8ZGl2IGlkPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctcm9vdFwiIGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydcIj5cXG4gICAgPGRpdiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19ib2R5XCI+XFxuICAgICAgPGRpdiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnX19oZWFkZXJcIj5cXG4gICAgICAgICcrcGFyYW1zLmhlYWRlclRleHQrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fZGVzY3JpcHRpb25cIj5cXG4gICAgICAgICcrcGFyYW1zLnN1YmhlYWRlclRleHQrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fY29udHJvbHNcIj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctZGVjbGluZVwiIGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sIFwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fY29udHJvbF9kZWNsaW5lXCI+XFxuICAgICAgICAgICcrcGFyYW1zLmJ1dHRvbkNhbmNlbFRleHQrJ1xcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLWFjY2VwdFwiIGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sIFwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fY29udHJvbF9hY2NlcHRcIj5cXG4gICAgICAgICAgJytwYXJhbXMuYnV0dG9uQWNjZXB0VGV4dCtcIlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuICBcIn0sZXhwb3J0cy5nZXRTdHlsZXM9ZnVuY3Rpb24ocGFyYW1zKXt2YXIgc3R5bGVzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVzLmlubmVySFRNTD1cIlxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIiAqIHtcXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94IWltcG9ydGFudDtcXG4gICAgfVxcbiAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiIHtcXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIGxlZnQ6IDA7XFxuICAgICAgcmlnaHQ6IDA7XFxuICAgICAgbWFyZ2luOiAwIGF1dG87XFxuICAgICAgd2lkdGg6IDMyMHB4O1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgei1pbmRleDogMjE0NzQ4MzY0ODtcXG4gICAgICBvcGFjaXR5OiAwLjk5O1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9zaG93IHtcXG4gICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2JvZHkge1xcbiAgICAgIHdpZHRoOiAzMjBweDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIisocGFyYW1zLmJhY2tncm91bmRDb2xvcj9wYXJhbXMuYmFja2dyb3VuZENvbG9yOlwiI0ZGRkZGRlwiKStcIjtcXG4gICAgICBib3gtc2hhZG93OiAwIDlweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMCAwIDZweCByZ2JhKDAsIDAsIDAsIDAuMDYpO1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICBwYWRkaW5nOiAyMHB4IDIwcHggMTJweDtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2hlYWRlciB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5oZWFkZXJUZXh0Q29sb3IrXCI7XFxuICAgICAgZm9udC1zaXplOiAxOHB4O1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOyBcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2Rlc2NyaXB0aW9uIHtcXG4gICAgICBjb2xvcjogXCIrcGFyYW1zLnN1YmhlYWRlclRleHRDb2xvcitcIjtcXG4gICAgICBmb250LXNpemU6IDE0cHg7XFxuICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcXG4gICAgICBtYXJnaW4tdG9wOiAxNHB4O1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fZGVzY3JpcHRpb246ZW1wdHkge1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9scyB7XFxuICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xcbiAgICAgIG1hcmdpbjogMjBweCAwIDA7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sIHtcXG4gICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgICAgZm9udC1zaXplOiAxMnB4O1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICAgIHBhZGRpbmc6IDAgMjBweDtcXG4gICAgICBoZWlnaHQ6IDMycHg7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbF9kZWNsaW5lIHtcXG4gICAgICBjb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkNhbmNlbFRleHRDb2xvcitcIjtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsQmFja2dyb3VuZENvbG9yK1wiO1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IFwiK3BhcmFtcy5idXR0b25DYW5jZWxSb3VuZCtcIjtcXG4gICAgICBib3JkZXItY29sb3I6IFwiK3BhcmFtcy5idXR0b25DYW5jZWxCb3JkZXJDb2xvcitcIjtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2xfYWNjZXB0IHtcXG4gICAgICBjb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkFjY2VwdFRleHRDb2xvcitcIjtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0QmFja2dyb3VuZENvbG9yK1wiO1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IFwiK3BhcmFtcy5idXR0b25BY2NlcHRSb3VuZCtcIjtcXG4gICAgICBib3JkZXItY29sb3I6IFwiK3BhcmFtcy5idXR0b25BY2NlcHRCb3JkZXJDb2xvcitcIjtcXG4gICAgICBtYXJnaW46IDAgMCAwIDEycHg7XFxuICAgIH1cXG4gIFwiLHN0eWxlc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxmdW5jdGlvbnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxGYWNlYm9va01vZHVsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEZhY2Vib29rTW9kdWxlKGNvbmZpZyl7dGhpcy51c2VyUmVmPWZ1bmN0aW9uc18xLmdlbmVyYXRlVVVJRCgpLHRoaXMuY29uZmlnPWNvbmZpZyx0aGlzLmluaXQoKX1yZXR1cm4gRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlckNoZWNrYm94KCksdGhpcy5pbml0RmFjZWJvb2tTREsoKSx0aGlzLmxvYWRGYWNlYm9va1NESygpfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUucmVuZGVyQ2hlY2tib3g9ZnVuY3Rpb24oKXtmb3IodmFyIF9hPXRoaXMuY29uZmlnLHBhZ2VJZD1fYS5wYWdlSWQsY29udGFpbmVyQ2xhc3M9X2EuY29udGFpbmVyQ2xhc3MsYXR0cmlidXRlcz1be25hbWU6XCJtZXNzZW5nZXJfYXBwX2lkXCIsdmFsdWU6Y29uc3RhbnRzXzEuRkFDRUJPT0tfQVBQX0lEfSx7bmFtZTpcImNsYXNzXCIsdmFsdWU6XCJmYi1tZXNzZW5nZXItY2hlY2tib3hcIn0se25hbWU6XCJwYWdlX2lkXCIsdmFsdWU6cGFnZUlkfSx7bmFtZTpcIm9yaWdpblwiLHZhbHVlOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfSx7bmFtZTpcInVzZXJfcmVmXCIsdmFsdWU6dGhpcy51c2VyUmVmfSx7bmFtZTpcImFsbG93X2xvZ2luXCIsdmFsdWU6XCJ0cnVlXCJ9LHtuYW1lOlwic2l6ZVwiLHZhbHVlOlwibGFyZ2VcIn0se25hbWU6XCJza2luXCIsdmFsdWU6XCJsaWdodFwifSx7bmFtZTpcImNlbnRlcl9hbGlnblwiLHZhbHVlOlwiZmFsc2VcIn1dLG5vZGVzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29udGFpbmVyQ2xhc3MpLF9sb29wXzE9ZnVuY3Rpb24oaW5kZXgpe3ZhciBub2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSl7bm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsYXR0cmlidXRlLnZhbHVlKX0pLG5vZGVzW2luZGV4XS5hcHBlbmRDaGlsZChub2RlKX0saW5kZXg9MDtpbmRleDxub2Rlcy5sZW5ndGg7aW5kZXgrKylfbG9vcF8xKGluZGV4KX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLmdldEhXSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBod2lkLGFwcGxpY2F0aW9uQ29kZSxuZXdIV0lEO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLkZBQ0VCT09LX0hXSURfS0VZKV07Y2FzZSAxOnJldHVybihod2lkPV9hLnNlbnQoKSk/WzMsM106KGFwcGxpY2F0aW9uQ29kZT10aGlzLmNvbmZpZy5hcHBsaWNhdGlvbkNvZGUsbmV3SFdJRD1hcHBsaWNhdGlvbkNvZGUrXCJfXCIrZnVuY3Rpb25zXzEuZ2VuZXJhdGVVVUlEKCkrXCJfZmJcIixbNCxzdG9yYWdlXzEua2V5VmFsdWUuc2V0KGNvbnN0YW50c18xLkZBQ0VCT09LX0hXSURfS0VZLG5ld0hXSUQpXSk7Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIsbmV3SFdJRF07Y2FzZSAzOnJldHVyblsyLGh3aWRdfX0pfSl9LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS51c2VyQ29uZmlybT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF9hLHBhZ2VJZCxhcHBsaWNhdGlvbkNvZGUsdXNlcklkLEZCLGZhY2Vib29rSHdpZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIF9hPXRoaXMuY29uZmlnLHBhZ2VJZD1fYS5wYWdlSWQsYXBwbGljYXRpb25Db2RlPV9hLmFwcGxpY2F0aW9uQ29kZSx1c2VySWQ9X2EudXNlcklkLEZCPXdpbmRvdy5GQixbNCx0aGlzLmdldEhXSUQoKV07Y2FzZSAxOnJldHVybiBmYWNlYm9va0h3aWQ9X2Iuc2VudCgpLEZCJiZGQi5BcHBFdmVudHMubG9nRXZlbnQoXCJNZXNzZW5nZXJDaGVja2JveFVzZXJDb25maXJtYXRpb25cIixudWxsLHthcHBfaWQ6Y29uc3RhbnRzXzEuRkFDRUJPT0tfQVBQX0lELHBhZ2VfaWQ6cGFnZUlkLHJlZjpKU09OLnN0cmluZ2lmeSh7YXBwbGljYXRpb25Db2RlOmFwcGxpY2F0aW9uQ29kZSx1c2VySWQ6dXNlcklkLGh3aWQ6ZmFjZWJvb2tId2lkfSksdXNlcl9yZWY6dGhpcy51c2VyUmVmfSksWzJdfX0pfSl9LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5pbml0RmFjZWJvb2tTREs9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt3aW5kb3cuZmJBc3luY0luaXQ9ZnVuY3Rpb24oKXt3aW5kb3cuRkIuaW5pdCh7YXBwSWQ6Y29uc3RhbnRzXzEuRkFDRUJPT0tfQVBQX0lELHhmYm1sOiEwLHZlcnNpb246XCJ2My4yXCJ9KSx3aW5kb3cuRkIuRXZlbnQuc3Vic2NyaWJlKFwibWVzc2VuZ2VyX2NoZWNrYm94XCIsZnVuY3Rpb24oX2Epe1wiY2hlY2tib3hcIj09PV9hLmV2ZW50JiZfdGhpcy51c2VyQ29uZmlybSgpfSl9fSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUubG9hZEZhY2Vib29rU0RLPWZ1bmN0aW9uKCl7dmFyIGxhbmd1YWdlPW5hdmlnYXRvci5sYW5ndWFnZXx8XCJlbl9VU1wiOyFmdW5jdGlvbihkLHMsaWQpe3ZhciBqcyxmanM9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtkLmdldEVsZW1lbnRCeUlkKGlkKXx8KChqcz1kLmNyZWF0ZUVsZW1lbnQocykpLmlkPWlkLGpzLnNyYz1cImh0dHBzOi8vY29ubmVjdC5mYWNlYm9vay5uZXQvXCIrbGFuZ3VhZ2UrXCIvc2RrLmpzXCIsZmpzJiZmanMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsZmpzKSl9KGRvY3VtZW50LFwic2NyaXB0XCIsXCJmYWNlYm9vay1qc3Nka1wiKX0sRmFjZWJvb2tNb2R1bGV9KCk7ZXhwb3J0cy5kZWZhdWx0PUZhY2Vib29rTW9kdWxlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIE1vZGFsXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjkpLFJpY2hNZWRpYV8xPV9fd2VicGFja19yZXF1aXJlX18oMTMxKSxleHBhbmRlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSksRGF0YV8xPV9fd2VicGFja19yZXF1aXJlX18oNSksSW5BcHBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSW5BcHBzKG9wdGlvbnMscHcsZXZlbnRCdXMsYXBpKXt0aGlzLmRlbGF5SW5BcHBzPVtdLHRoaXMuaXNMb2FkZWRJbkFwcHNMaXN0PSExLHRoaXMucHc9cHcsdGhpcy5vcHRpb25zPW9wdGlvbnMsdGhpcy5ldmVudEJ1cz1ldmVudEJ1cyx0aGlzLmFwaT1hcGksdGhpcy5tb2RhbD1uZXcgTW9kYWxfMS5Nb2RhbCh0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb2RhbD90aGlzLm9wdGlvbnMubW9kYWw6e30pLHRoaXMuZGF0YT1uZXcgRGF0YV8xLkRhdGF9cmV0dXJuIEluQXBwcy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGluQXBwcyxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5zdWJzY3JpYmVUb1JlY2VpdmVNZXNzYWdlRnJvbUlGcmFtZSgpLHRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicmVjZWl2ZS1pbi1hcHAtY29kZVwiLGZ1bmN0aW9uKF9hKXt2YXIgY29kZT1fYS5jb2RlO190aGlzLmlzTG9hZGVkSW5BcHBzTGlzdD9fdGhpcy5zaG93SW5BcHAoY29kZSk6X3RoaXMuZGVsYXlJbkFwcHMucHVzaChjb2RlKX0pLFs0LHRoaXMuZ2V0TGlzdCgpXTtjYXNlIDE6cmV0dXJuIGluQXBwcz1fYS5zZW50KCkuaW5BcHBzLHRoaXMuZGVsYXlJbkFwcHMubGVuZ3RoJiZ0aGlzLmRlbGF5SW5BcHBzLmZvckVhY2goZnVuY3Rpb24oY29kZSl7X3RoaXMuc2hvd0luQXBwKGNvZGUpfSksdGhpcy5pc0xvYWRlZEluQXBwc0xpc3Q9ITAsWzQsdGhpcy5kYXRhLnNldEluQXBwcyhpbkFwcHMpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSx0aGlzLmluQXBwcz1pbkFwcHMsWzJdfX0pfSl9LEluQXBwcy5wcm90b3R5cGUuc3Vic2NyaWJlVG9SZWNlaXZlTWVzc2FnZUZyb21JRnJhbWU9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihldmVudCl7aWYoZXZlbnQuc291cmNlJiYoZXZlbnQuc291cmNlPT09d2luZG93fHxcInBhcmVudFwiaW4gZXZlbnQuc291cmNlJiZldmVudC5zb3VyY2UucGFyZW50PT09d2luZG93KSl0cnl7dmFyIGRhdGE9SlNPTi5wYXJzZShldmVudC5kYXRhKTtkYXRhJiZcIm9iamVjdFwiPT10eXBlb2YgZGF0YSYmX3RoaXMub25SZWNlaXZlTmV3TWVzc2FnZUZyb21JRnJhbWUoZGF0YSl9Y2F0Y2goZSl7fX0pfSxJbkFwcHMucHJvdG90eXBlLm9uUmVjZWl2ZU5ld01lc3NhZ2VGcm9tSUZyYW1lPWZ1bmN0aW9uKG1lc3NhZ2Upe3ZhciBfdGhpcz10aGlzO3N3aXRjaChtZXNzYWdlLm1ldGhvZCl7Y2FzZVwic3Vic2NyaWJlXCI6dGhpcy5wdy5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlfSl9KTticmVhaztjYXNlXCJ1bnN1YnNjcmliZVwiOnRoaXMucHcudW5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlfSl9KTticmVhaztjYXNlXCJnZXRUYWdzXCI6dGhpcy5wdy5hcGkuZ2V0VGFncygpLnRoZW4oZnVuY3Rpb24oX2Epe3ZhciByZXN1bHQ9X2EucmVzdWx0O190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZSx0YWdzOnJlc3VsdH0pfSk7YnJlYWs7Y2FzZVwic2V0VGFnc1wiOnRoaXMucHcuYXBpLnNldFRhZ3MobWVzc2FnZS5vcHRpb25zLnRhZ3MpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcImdldENoYW5uZWxzXCI6dGhpcy5kYXRhLmdldEZlYXR1cmVzKCkudGhlbihmdW5jdGlvbihfYSl7dmFyIGNoYW5uZWxzPV9hLmNoYW5uZWxzO190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZSxjaGFubmVsczpjaGFubmVsc30pfSk7YnJlYWs7Y2FzZVwiY2hlY2tTdWJzY3JpcHRpb25cIjp0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCkudGhlbihmdW5jdGlvbihzdGF0ZSl7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlLHN0YXRlOnN0YXRlfSl9KTticmVhaztjYXNlXCJjaGVja01hbnVhbFVuc3Vic2NyaWJlZFwiOnRoaXMuZGF0YS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGUsc3RhdGU6c3RhdGV9KX0pO2JyZWFrO2Nhc2VcImNsb3NlSW5BcHBcIjp0aGlzLm1vZGFsLmhpZGUoKTticmVhaztjYXNlXCJvcGVuTGlua1wiOndpbmRvdy5vcGVuKG1lc3NhZ2Uub3B0aW9ucy5ocmVmLFwiX2JsYW5rXCIpfX0sSW5BcHBzLnByb3RvdHlwZS5zaG93SW5BcHA9ZnVuY3Rpb24oY29kZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZmlsdGVyZWRSaWNoTWVkaWEsY3VycmVudFJpY2hNZWRpYSxpbkFwcENvbnRlbnQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKDEhPT0oZmlsdGVyZWRSaWNoTWVkaWE9dGhpcy5pbkFwcHMuZmlsdGVyKGZ1bmN0aW9uKGluQXBwKXtyZXR1cm4gaW5BcHAuY29kZT09PWNvZGV9KSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgUmljaCBNZWRpYVwiKTtyZXR1cm4gdGhpcy5tb2RhbC5zZXRMb2FkaW5nKCkuc2hvdygpLGN1cnJlbnRSaWNoTWVkaWE9ZmlsdGVyZWRSaWNoTWVkaWFbMF0sWzQsbmV3IFJpY2hNZWRpYV8xLlJpY2hNZWRpYShjdXJyZW50UmljaE1lZGlhLnVybCx0aGlzLmFwaSxbZXhwYW5kZXJzXzEuRXhwYW5kZXJQdXNod29vc2hTZW5kTWVzc2FnZSxleHBhbmRlcnNfMS5FeHBhbmRlclB1c2h3b29zaCxleHBhbmRlcnNfMS5FeHBhbmRlclB1c2hNYW5hZ2VyXSkuZ2V0Q29udGVudCgpXTtjYXNlIDE6cmV0dXJuIGluQXBwQ29udGVudD1fYS5zZW50KCksWzQsdGhpcy5tb2RhbC5zZXRDb250ZW50KGluQXBwQ29udGVudCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLHRoaXMubW9kYWwucmVtb3ZlTG9hZGluZygpLnNob3dDb250ZW50KCksWzJdfX0pfSl9LEluQXBwcy5wcm90b3R5cGUuZ2V0TGlzdD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuYXBpLmdldEluQXBwcygpXX0pfSl9LEluQXBwc30oKTtleHBvcnRzLkluQXBwcz1JbkFwcHN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBNb2RhbF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCksTW9kYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNb2RhbChvcHRpb25zKXt2YXIgX3RoaXM9dGhpczt2b2lkIDA9PT1vcHRpb25zJiYob3B0aW9ucz17fSk7dmFyIHdyYXBwZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UpLGlubmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSksbG9hZGVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UpLGlmcmFtZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFKSxjbG9zZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFKTtpZih0aGlzLm9wdGlvbj1fX2Fzc2lnbihfX2Fzc2lnbih7fSxNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9ERUZBSUxUX09QVElPTlMpLG9wdGlvbnMpLCEod3JhcHBlciYmaW5uZXImJmxvYWRlciYmaWZyYW1lJiZjbG9zZSkpeyh3cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFLHdyYXBwZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFLChpbm5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UsaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSwobG9hZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UsbG9hZGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFLChjbG9zZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFLGNsb3NlLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFLChpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSxpZnJhbWUuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UsaW5uZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKSxpbm5lci5hcHBlbmRDaGlsZChjbG9zZSksdGhpcy5vcHRpb24uaXNTaG93UHJlbG9hZGVyJiZpbm5lci5hcHBlbmRDaGlsZChsb2FkZXIpLHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5uZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7dmFyIHN0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtzdHlsZS5pbm5lckhUTUw9XCJcXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgICAgICBvcGFjaXR5OiAwLjk5OTtcXG4gICAgICAgICAgZGlzcGxheTpub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3cge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIl9zdGF0ZS1sb2FkaW5nIHtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uYmFja2dyb3VuZENvbG9yK1wiO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogMjBweDtcXG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XFxuICAgICAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFK1wiOmFmdGVyIHtcXG4gICAgICAgICAgY29udGVudDogJyc7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiA1MCU7XFxuICAgICAgICAgIGxlZnQ6NTAlO1xcbiAgICAgICAgICB3aWR0aDogMzBweDtcXG4gICAgICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9uLmNsb3NlQnV0dG9uQ29sb3IrXCI7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCI6YmVmb3JlIHtcXG4gICAgICAgICAgY29udGVudDogJyc7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiA1MCU7XFxuICAgICAgICAgIGxlZnQ6NTAlO1xcbiAgICAgICAgICB3aWR0aDogMzBweDtcXG4gICAgICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9uLmNsb3NlQnV0dG9uQ29sb3IrXCI7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSg0NWRlZyk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmcgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDogNTAlO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YmVmb3JlLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgIHdpZHRoOiAyLjVlbTtcXG4gICAgICAgICAgaGVpZ2h0OiAyLjVlbTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOiBib3RoO1xcbiAgICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBib3RoO1xcbiAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcbiAgICAgICAgICBhbmltYXRpb246IFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIgMS44cyBpbmZpbml0ZSBlYXNlLWluLW91dDtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XFxuICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcXG4gICAgICAgICAgdGV4dC1pbmRlbnQ6IC05OTk5ZW07XFxuICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7XFxuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YmVmb3JlLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUge1xcbiAgICAgICAgICBsZWZ0OiAtMy41ZW07XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7XFxuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBsZWZ0OiAzLjVlbTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgMCUsXFxuICAgICAgICAgIDgwJSxcXG4gICAgICAgICAgMTAwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIC0xLjNlbSBcIit0aGlzLm9wdGlvbi5wcmVsb2FkZXJDb2xvcitcIjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICA0MCUge1xcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMi41ZW0gMCAwIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBAa2V5ZnJhbWVzIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICAwJSxcXG4gICAgICAgICAgODAlLFxcbiAgICAgICAgICAxMDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgLTEuM2VtIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIDQwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIDAgXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvdyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgfVxcbiAgICAgIFwiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpfXRoaXMud3JhcHBlcj13cmFwcGVyLHRoaXMuaW5uZXI9aW5uZXIsdGhpcy5pZnJhbWU9aWZyYW1lLGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSl9cmV0dXJuIE1vZGFsLnByb3RvdHlwZS5wb3N0TWVzc2FnZT1mdW5jdGlvbihkYXRhKXt0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGRhdGEpLFwiKlwiKX0sTW9kYWwucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIl9zdGF0ZS1zaG93XCIsZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JhcHBlci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UsZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIix0aGlzfSxNb2RhbC5wcm90b3R5cGUuc2V0TG9hZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCIgXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmdcIix0aGlzLmlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSx0aGlzfSxNb2RhbC5wcm90b3R5cGUucmVtb3ZlTG9hZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UsdGhpc30sTW9kYWwucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oY29udGVudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHRoaXMuaWZyYW1lLnNyY2RvYz1jb250ZW50LFsyLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtfdGhpcy5pZnJhbWUub25sb2FkPXJlc29sdmUsX3RoaXMuaWZyYW1lLm9uZXJyb3I9cmVqZWN0fSldfSl9KX0sTW9kYWwucHJvdG90eXBlLnNob3dDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSx0aGlzLmlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3dcIix0aGlzfSxNb2RhbH0oKTtleHBvcnRzLk1vZGFsPU1vZGFsfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC13cmFwcGVyXCIsZXhwb3J0cy5NT0RBTF9JTk5FUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWlubmVyXCIsZXhwb3J0cy5NT0RBTF9MT0FERVJfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC1sb2FkZXJcIixleHBvcnRzLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWNsb3NlLWJ1dHRvblwiLGV4cG9ydHMuTU9EQUxfSUZSQU1FX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtaWZyYW1lXCIsZXhwb3J0cy5NT0RBTF9ERUZBSUxUX09QVElPTlM9e2JhY2tncm91bmRDb2xvcjpcInJnYmEoMCwgMCwgMCwgLjgpXCIsY2xvc2VCdXR0b25Db2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpXCIsY2xvc2VCdXR0b25Ib3ZlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMSlcIixpc1Nob3dQcmVsb2FkZXI6ITAscHJlbG9hZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGRldGVjdF9icm93c2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzIpLGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNTApLER5bmFtaWNDb250ZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzMpLFJpY2hNZWRpYUV4cGFuZGVyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzUpLEV4dGVybmFsUmVzb3VyY2VzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzYpLFJpY2hNZWRpYT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJpY2hNZWRpYSh1cmwsYXBpLGV4cGFuZGVycyl7dGhpcy51cmw9dXJsLHRoaXMuYXBpPWFwaSx0aGlzLmV4cGFuZGVycz1leHBhbmRlcnN9cmV0dXJuIFJpY2hNZWRpYS5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxhbmd1YWdlLGpzemlwLHZhbHVlcyxfYSxfYixjb250ZW50LGJyb3dzZXIsY29udGV4dDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5hcGkuZ2V0VGFncygpXTtjYXNlIDE6cmV0dXJuIGxhbmd1YWdlPV9jLnNlbnQoKS5yZXN1bHQuTGFuZ3VhZ2UsWzQsZ2V0WmlwXzEuZ2V0WmlwKHRoaXMudXJsKV07Y2FzZSAyOmlmKCEoanN6aXA9X2Muc2VudCgpKS5maWxlc1tcImluZGV4Lmh0bWxcIl0pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBpbmRleC5odG1sXCIpO2lmKCFqc3ppcC5maWxlc1tcInB1c2h3b29zaC5qc29uXCJdKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgcHVzaHdvb3NoLmpzb25cIik7cmV0dXJuIF9iPShfYT1KU09OKS5wYXJzZSxbNCxqc3ppcC5maWxlKFwicHVzaHdvb3NoLmpzb25cIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDM6cmV0dXJuIHZhbHVlcz1fYi5hcHBseShfYSxbX2Muc2VudCgpXSksWzQsanN6aXAuZmlsZShcImluZGV4Lmh0bWxcIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDQ6cmV0dXJuIGNvbnRlbnQ9X2Muc2VudCgpLGJyb3dzZXI9ZGV0ZWN0X2Jyb3dzZXJfMS5kZXRlY3QoKSxjb250ZXh0PXtwbGF0Zm9ybTpcIndlYlwiLGJyb3dzZXI6YnJvd3NlciYmYnJvd3Nlci5uYW1lfHxcInVua25vd25cIixvczpicm93c2VyJiZicm93c2VyLm9zfHxcInVua25vd25cIixpc01vYmlsZUJyb3dzZXI6dGhpcy5jaGVja0lzTW9iaWxlQnJvd3NlcigpfSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxbNCxuZXcgRXh0ZXJuYWxSZXNvdXJjZXNfMS5FeHRlcm5hbFJlc291cmNlcyhjb250ZW50LGpzemlwKS5nZXRSZXBsYWNlZENvbnRlbnQoKV07Y2FzZSA1OnJldHVybiBjb250ZW50PV9jLnNlbnQoKSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxjb250ZW50PW5ldyBSaWNoTWVkaWFFeHBhbmRlcl8xLlJpY2hNZWRpYUV4cGFuZGVyKGNvbnRlbnQsWyc8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5cXG4gICAgICAgICAgd2luZG93LnB1c2h3b29zaC5wbGF0Zm9ybSA9IFxcJycrY29udGV4dC5wbGF0Zm9ybS5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmJyb3dzZXIgPSAnXCIrY29udGV4dC5icm93c2VyLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKStcIic7XFxuICAgICAgICAgIHdpbmRvdy5wdXNod29vc2gub3MgPSAnXCIrY29udGV4dC5vcy5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmlzTW9iaWxlQnJvd3NlciA9IFwiK2NvbnRleHQuaXNNb2JpbGVCcm93c2VyK1wiO1xcbiAgICAgICAgPFxcL3NjcmlwdD5cIl0pLnVwbG9hZEV4cGFuZGVycygpLFsyLGNvbnRlbnQ9bmV3IFJpY2hNZWRpYUV4cGFuZGVyXzEuUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCx0aGlzLmV4cGFuZGVycykudXBsb2FkRXhwYW5kZXJzKCldfX0pfSl9LFJpY2hNZWRpYS5wcm90b3R5cGUuY2hlY2tJc01vYmlsZUJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgaXNNb2JpbGVCcm93c2VyPSExO3JldHVybiBmdW5jdGlvbihzdHIpeygvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChzdHIpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KHN0ci5zdWJzdHIoMCw0KSkpJiYoaXNNb2JpbGVCcm93c2VyPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKSxpc01vYmlsZUJyb3dzZXJ9LFJpY2hNZWRpYX0oKTtleHBvcnRzLlJpY2hNZWRpYT1SaWNoTWVkaWF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzKXt2YXIgX19zcHJlYWRBcnJheXM9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIHM9MCxpPTAsaWw9YXJndW1lbnRzLmxlbmd0aDtpPGlsO2krKylzKz1hcmd1bWVudHNbaV0ubGVuZ3RoO3ZhciByPUFycmF5KHMpLGs9MDtmb3IoaT0wO2k8aWw7aSsrKWZvcih2YXIgYT1hcmd1bWVudHNbaV0saj0wLGpsPWEubGVuZ3RoO2o8amw7aisrLGsrKylyW2tdPWFbal07cmV0dXJuIHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBCcm93c2VySW5mbz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuYW1lLHZlcnNpb24sb3Mpe3RoaXMubmFtZT1uYW1lLHRoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMub3M9b3N9fSgpO2V4cG9ydHMuQnJvd3NlckluZm89QnJvd3NlckluZm87dmFyIE5vZGVJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHZlcnNpb24pe3RoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMubmFtZT1cIm5vZGVcIix0aGlzLm9zPXByb2Nlc3MucGxhdGZvcm19fSgpO2V4cG9ydHMuTm9kZUluZm89Tm9kZUluZm87dmFyIEJvdEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmJvdD0hMCx0aGlzLm5hbWU9XCJib3RcIix0aGlzLnZlcnNpb249bnVsbCx0aGlzLm9zPW51bGx9fSgpO2V4cG9ydHMuQm90SW5mbz1Cb3RJbmZvO3ZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTPTMsdXNlckFnZW50UnVsZXM9W1tcImFvbFwiLC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlXCIsL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlLWlvc1wiLC9FZGdpT1NcXC8oWzAtOVxcLl9dKykvXSxbXCJ5YW5kZXhicm93c2VyXCIsL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFtcInZpdmFsZGlcIiwvVml2YWxkaVxcLyhbMC05XFwuXSspL10sW1wia2FrYW90YWxrXCIsL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sW1wic2Ftc3VuZ1wiLC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sW1wic2lsa1wiLC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxbXCJtaXVpXCIsL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sW1wiYmVha2VyXCIsL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFtcImVkZ2UtY2hyb21pdW1cIiwvRWRnXFwvKFswLTlcXC5dKykvXSxbXCJjaHJvbWl1bS13ZWJ2aWV3XCIsLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJjaHJvbWVcIiwvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wicGhhbnRvbWpzXCIsL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiY3Jpb3NcIiwvQ3JpT1NcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFtcImZpcmVmb3hcIiwvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sW1wiZnhpb3NcIiwvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFtcIm9wZXJhLW1pbmlcIiwvT3BlcmEgTWluaS4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sW1wib3BlcmFcIiwvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFtcIm9wZXJhXCIsL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiaWVcIiwvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC9dLFtcImllXCIsL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sW1wiaWVcIiwvTVNJRVxccyg3XFwuMCkvXSxbXCJiYjEwXCIsL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFtcImFuZHJvaWRcIiwvQW5kcm9pZFxccyhbMC05XFwuXSspL10sW1wiaW9zXCIsL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxbXCJzYWZhcmlcIiwvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpL10sW1wiZmFjZWJvb2tcIiwvRkJBVlxcLyhbMC05XFwuXSspL10sW1wiaW5zdGFncmFtXCIsL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qTW9iaWxlL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sW1wic2VhcmNoYm90XCIsL2FsZXhhfGJvdHxjcmF3bChlcnxpbmcpfGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmVlZGJ1cm5lcnxnb29nbGUgd2ViIHByZXZpZXd8bmFnaW9zfHBvc3RyYW5rfHBpbmdkb218c2x1cnB8c3BpZGVyfHlhaG9vIXx5YW5kZXgvXV0sb3BlcmF0aW5nU3lzdGVtUnVsZXM9W1tcImlPU1wiLC9pUChob25lfG9kfGFkKS9dLFtcIkFuZHJvaWQgT1NcIiwvQW5kcm9pZC9dLFtcIkJsYWNrQmVycnkgT1NcIiwvQmxhY2tCZXJyeXxCQjEwL10sW1wiV2luZG93cyBNb2JpbGVcIiwvSUVNb2JpbGUvXSxbXCJBbWF6b24gT1NcIiwvS2luZGxlL10sW1wiV2luZG93cyAzLjExXCIsL1dpbjE2L10sW1wiV2luZG93cyA5NVwiLC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxbXCJXaW5kb3dzIDk4XCIsLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sW1wiV2luZG93cyAyMDAwXCIsLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxbXCJXaW5kb3dzIFhQXCIsLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sW1wiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLC8oV2luZG93cyBOVCA1LjIpL10sW1wiV2luZG93cyBWaXN0YVwiLC8oV2luZG93cyBOVCA2LjApL10sW1wiV2luZG93cyA3XCIsLyhXaW5kb3dzIE5UIDYuMSkvXSxbXCJXaW5kb3dzIDhcIiwvKFdpbmRvd3MgTlQgNi4yKS9dLFtcIldpbmRvd3MgOC4xXCIsLyhXaW5kb3dzIE5UIDYuMykvXSxbXCJXaW5kb3dzIDEwXCIsLyhXaW5kb3dzIE5UIDEwLjApL10sW1wiV2luZG93cyBNRVwiLC9XaW5kb3dzIE1FL10sW1wiT3BlbiBCU0RcIiwvT3BlbkJTRC9dLFtcIlN1biBPU1wiLC9TdW5PUy9dLFtcIkNocm9tZSBPU1wiLC9Dck9TL10sW1wiTGludXhcIiwvKExpbnV4KXwoWDExKS9dLFtcIk1hYyBPU1wiLC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sW1wiUU5YXCIsL1FOWC9dLFtcIkJlT1NcIiwvQmVPUy9dLFtcIk9TLzJcIiwvT1NcXC8yL10sW1wiU2VhcmNoIEJvdFwiLC8obnVoayl8KEdvb2dsZWJvdCl8KFlhbW15Ym90KXwoT3BlbmJvdCl8KFNsdXJwKXwoTVNOQm90KXwoQXNrIEplZXZlc1xcL1Rlb21hKXwoaWFfYXJjaGl2ZXIpL11dO2Z1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVhKXt2YXIgbWF0Y2hlZFJ1bGU9XCJcIiE9PXVhJiZ1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24obWF0Y2hlZCxfYSl7dmFyIGJyb3dzZXI9X2FbMF0scmVnZXg9X2FbMV07aWYobWF0Y2hlZClyZXR1cm4gbWF0Y2hlZDt2YXIgdWFNYXRjaD1yZWdleC5leGVjKHVhKTtyZXR1cm4hIXVhTWF0Y2gmJlticm93c2VyLHVhTWF0Y2hdfSwhMSk7aWYoIW1hdGNoZWRSdWxlKXJldHVybiBudWxsO3ZhciBuYW1lPW1hdGNoZWRSdWxlWzBdLG1hdGNoPW1hdGNoZWRSdWxlWzFdO2lmKFwic2VhcmNoYm90XCI9PT1uYW1lKXJldHVybiBuZXcgQm90SW5mbzt2YXIgdmVyc2lvblBhcnRzPW1hdGNoWzFdJiZtYXRjaFsxXS5zcGxpdCgvWy5fXS8pLnNsaWNlKDAsMyk7cmV0dXJuIHZlcnNpb25QYXJ0cz92ZXJzaW9uUGFydHMubGVuZ3RoPFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMmJih2ZXJzaW9uUGFydHM9X19zcHJlYWRBcnJheXModmVyc2lvblBhcnRzLGZ1bmN0aW9uKGNvdW50KXtmb3IodmFyIG91dHB1dD1bXSxpaT0wO2lpPGNvdW50O2lpKyspb3V0cHV0LnB1c2goXCIwXCIpO3JldHVybiBvdXRwdXR9KFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMtdmVyc2lvblBhcnRzLmxlbmd0aCkpKTp2ZXJzaW9uUGFydHM9W10sbmV3IEJyb3dzZXJJbmZvKG5hbWUsdmVyc2lvblBhcnRzLmpvaW4oXCIuXCIpLGRldGVjdE9TKHVhKSl9ZnVuY3Rpb24gZGV0ZWN0T1ModWEpe2Zvcih2YXIgaWk9MCxjb3VudD1vcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7aWk8Y291bnQ7aWkrKyl7dmFyIF9hPW9wZXJhdGluZ1N5c3RlbVJ1bGVzW2lpXSxvcz1fYVswXTtpZihfYVsxXS50ZXN0KHVhKSlyZXR1cm4gb3N9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKXtyZXR1cm4gdm9pZCAwIT09cHJvY2VzcyYmcHJvY2Vzcy52ZXJzaW9uP25ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpOm51bGx9ZXhwb3J0cy5kZXRlY3Q9ZnVuY3Rpb24odXNlckFnZW50KXtyZXR1cm4gdXNlckFnZW50P3BhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcj9wYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTpnZXROb2RlVmVyc2lvbigpfSxleHBvcnRzLnBhcnNlVXNlckFnZW50PXBhcnNlVXNlckFnZW50LGV4cG9ydHMuZGV0ZWN0T1M9ZGV0ZWN0T1MsZXhwb3J0cy5nZXROb2RlVmVyc2lvbj1nZXROb2RlVmVyc2lvbn0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCksRHluYW1pY0NvbnRlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEeW5hbWljQ29udGVudChjb250ZW50LHZhbHVlcyxsYW5ndWFnZSl7dGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy52YWx1ZXM9dmFsdWVzLHRoaXMubGFuZ3VhZ2U9bGFuZ3VhZ2V9cmV0dXJuIER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXBsYWNlZENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcyxyZWdleHA9bmV3IFJlZ0V4cChcIlxcXFx7XFxcXHtbXlxcXFx9XFxcXH1dKn19XCIsXCJnbVwiKTtyZXR1cm4gdGhpcy5jb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKHN1YnN0cmluZyl7dmFyIHBhdHRlcm49c3Vic3RyaW5nLnJlcGxhY2UoXCJ9fVwiLFwiXCIpLnJlcGxhY2UoXCJ7e1wiLFwiXCIpO3JldHVybiBfdGhpcy5nZXRSZXN1bHRpbmdDb250ZW50KHBhdHRlcm4pfSl9LER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXN1bHRpbmdDb250ZW50PWZ1bmN0aW9uKHBhdHRlcm4pe3ZhciBfYT1wYXR0ZXJuLnNwbGl0KFwifFwiKSxuYW1lPV9hWzBdLG1vZGlmaWVyPV9hWzFdLF9iPV9hWzJdLHZhbHVlPXZvaWQgMD09PV9iP1wiXCI6X2IsaGFzUmVwbGFjZWRWYWx1ZUJ5Q3VycmVudExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMubGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV0saGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy52YWx1ZXMuZGVmYXVsdF9sYW5ndWFnZV1bbmFtZV07cmV0dXJuIGhhc1JlcGxhY2VkVmFsdWVCeUN1cnJlbnRMYW5ndWFnZT92YWx1ZT10aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV06aGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlJiYodmFsdWU9dGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdW25hbWVdKSx0aGlzLnVwZGF0ZVN0cmluZ0J5TW9kaWZpZXIodmFsdWUsbW9kaWZpZXIpfSxEeW5hbWljQ29udGVudC5wcm90b3R5cGUudXBkYXRlU3RyaW5nQnlNb2RpZmllcj1mdW5jdGlvbihzdHJpbmcsbW9kaWZpZXIpe3N3aXRjaChtb2RpZmllci50b0xvd2VyQ2FzZSgpKXtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0ZJUlNUOnJldHVybiBzdHJpbmc9KHN0cmluZz1zdHJpbmcudG9Mb3dlckNhc2UoKSkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrc3RyaW5nLnN1YnN0cmluZygxKTtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0FMTF9GSVJTVDpmb3IodmFyIGFyckxldHRlcnM9c3RyaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLGk9MDtpPGFyckxldHRlcnMubGVuZ3RoO2krKylhcnJMZXR0ZXJzW2ldPWFyckxldHRlcnNbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYXJyTGV0dGVyc1tpXS5zdWJzdHJpbmcoMSk7cmV0dXJuIHN0cmluZz1hcnJMZXR0ZXJzLmpvaW4oXCIgXCIpO2Nhc2UgRHluYW1pY0NvbnRlbnRfY29uc3RhbnRzXzEuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX1VQUEVSQ0FTRTpyZXR1cm4gc3RyaW5nLnRvVXBwZXJDYXNlKCk7Y2FzZSBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMS5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfTE9XRVJDQVNFOnJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKTtkZWZhdWx0OnJldHVybiBzdHJpbmd9fSxEeW5hbWljQ29udGVudH0oKTtleHBvcnRzLkR5bmFtaWNDb250ZW50PUR5bmFtaWNDb250ZW50fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0ZJUlNUPVwiY2FwaXRhbGl6ZWZpcnN0XCIsZXhwb3J0cy5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfQ0FQSVRBTElaRV9BTExfRklSU1Q9XCJjYXBpdGFsaXplYWxsZmlyc3RcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9VUFBFUkNBU0U9XCJ1cHBlcmNhc2VcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9MT1dFUkNBU0U9XCJsb3dlcmNhc2VcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFJpY2hNZWRpYUV4cGFuZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCxleHBhbmRlcnMpe3ZvaWQgMD09PWV4cGFuZGVycyYmKGV4cGFuZGVycz1bXSksdGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy5leHBhbmRlcnM9ZXhwYW5kZXJzfXJldHVybiBSaWNoTWVkaWFFeHBhbmRlci5wcm90b3R5cGUudXBsb2FkRXhwYW5kZXJzPWZ1bmN0aW9uKCl7dmFyIG1lcmdlPXRoaXMuZXhwYW5kZXJzLmpvaW4oXCJcXHJcXG5cIik7cmV0dXJuIHRoaXMuY29udGVudC5yZXBsYWNlKFwiPGhlYWQ+XCIsXCI8aGVhZD5cIittZXJnZSl9LFJpY2hNZWRpYUV4cGFuZGVyfSgpO2V4cG9ydHMuUmljaE1lZGlhRXhwYW5kZXI9UmljaE1lZGlhRXhwYW5kZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxVcmxQYXJzZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyksRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDApLEV4dGVybmFsUmVzb3VyY2VzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXh0ZXJuYWxSZXNvdXJjZXMoY29udGVudCxqc3ppcCl7dGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy5qc3ppcD1qc3ppcH1yZXR1cm4gRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFJlcGxhY2VkQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMucmVwbGFjZUV4dGVybmFsU3R5bGVzKHRoaXMuY29udGVudCkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybChjb250ZW50KX0pLnRoZW4oZnVuY3Rpb24oY29udGVudCl7cmV0dXJuIF90aGlzLnJlcGxhY2VFeHRlcm5hbEltYWdlKGNvbnRlbnQpfSkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsU2NyaXB0KGNvbnRlbnQpfSldfSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VFeHRlcm5hbFN0eWxlcz1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcInN0eWxlXCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGgsY29udGVudCxyZWxhdGl2ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXBsYWNlZEZpbGVQYXRoKHN1YnN0cmluZyxwYXR0ZXJuLEV4dGVybmFsUmVzb3VyY2VzX2NvbnN0YW50c18xLkVYVEVSTkFMX1JFU09VUkNFU19SRUdFWFBfU0VDT05EX0dST1VQLGJhc2UpXTtjYXNlIDE6cmV0dXJuKHBhdGg9X2Euc2VudCgpKT9bNCx0aGlzLmpzemlwLmZpbGUocGF0aCkuYXN5bmMoXCJ0ZXh0XCIpXTpbMixzdWJzdHJpbmddO2Nhc2UgMjpyZXR1cm4gY29udGVudD1fYS5zZW50KCkscmVsYXRpdmU9cGF0aC5zcGxpdChcIi9cIikuc3BsaWNlKC0xLDEpLmpvaW4oXCIvXCIpLFs0LHRoaXMucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybChjb250ZW50LHJlbGF0aXZlKV07Y2FzZSAzOnJldHVyblsyLCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JytfYS5zZW50KCkucmVwbGFjZShcIlxcblwiLFwiXCIpK1wiPC9zdHlsZT5cIl19fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybD1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcImJhY2tncm91bmRVcmxcIiksWzQsdGhpcy5yZXBsYWNlcihjb250ZW50LHBhdHRlcm4sZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0aCxjb250ZW50LGV4dGVuc2lvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXBsYWNlZEZpbGVQYXRoKHN1YnN0cmluZyxwYXR0ZXJuLEV4dGVybmFsUmVzb3VyY2VzX2NvbnN0YW50c18xLkVYVEVSTkFMX1JFU09VUkNFU19SRUdFWFBfU0VDT05EX0dST1VQLGJhc2UpXTtjYXNlIDE6cmV0dXJuKHBhdGg9X2Euc2VudCgpKT9bNCx0aGlzLmpzemlwLmZpbGUocGF0aCkuYXN5bmMoXCJiYXNlNjRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVybiBjb250ZW50PV9hLnNlbnQoKSxbMiwndXJsKFwiZGF0YTppbWFnZS8nKyhcInN2Z1wiPT09KGV4dGVuc2lvbj1wYXRoLnNwbGl0KFwiLlwiKS5wb3AoKSk/XCJzdmcreG1sXCI6ZXh0ZW5zaW9uKStcIjtiYXNlNjQsXCIrY29udGVudCsnXCIpJ119fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsSW1hZ2U9ZnVuY3Rpb24oY29udGVudCxiYXNlKXtyZXR1cm4gdm9pZCAwPT09YmFzZSYmKGJhc2U9XCIvXCIpLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0dGVybixfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcGF0dGVybj10aGlzLmdldFNlYXJjaFBhdHRlcm4oXCJpbWFnZVwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoLGNvbnRlbnQsZXh0ZW5zaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcImJhc2U2NFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuIGNvbnRlbnQ9X2Euc2VudCgpLFsyLCc8aW1nIHNyYz1cImRhdGE6aW1hZ2UvJysoXCJzdmdcIj09PShleHRlbnNpb249cGF0aC5zcGxpdChcIi5cIikucG9wKCkpP1wic3ZnK3htbFwiOmV4dGVuc2lvbikrXCI7YmFzZTY0LFwiK2NvbnRlbnQrJ1wiIGFsdD1cIlwiPiddfX0pfSl9KV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VFeHRlcm5hbFNjcmlwdD1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcInNjcmlwdFwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcInRleHRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVyblsyLFwiPHNjcmlwdD5cIitfYS5zZW50KCkrXCI8XFwvc2NyaXB0PlwiXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5nZXRTZWFyY2hQYXR0ZXJuPWZ1bmN0aW9uKHR5cGUpe3N3aXRjaCh0eXBlKXtjYXNlXCJzdHlsZVwiOnJldHVyblwiPGxpbmtbXj5dKmhyZWY9KCd8XFxcIikoW14+XSouKGNzcykpKCd8XFxcIilbXj5dKj5cIjtjYXNlXCJiYWNrZ3JvdW5kVXJsXCI6cmV0dXJuXCJ1cmxcXFxccypcXFxcKCgnfFxcXCIpPyhbXildKlxcXFwuKGdpZnxqcGd8anBlZ3xwbmd8c3ZnKSkoJ3xcXFwiKT9cXFxccypcXFxcKVwiO2Nhc2VcImltYWdlXCI6cmV0dXJuXCI8aW1nW15cXFxcLz8+XSpzcmM9KCd8XFxcIikoW14+XSpcXFxcLihnaWZ8anBnfGpwZWd8cG5nfHN2ZykpKCd8XFxcIilbXlxcXFwvPz5dKj5cIjtjYXNlXCJzY3JpcHRcIjpyZXR1cm5cIjxzY3JpcHRbXj5dKnNyYz0oJ3xcXFwiKSguKlxcXFwuanMpKCd8XFxcIilbXj5dKj4oXFxcXG58XFxcXHJ8XFxcXHMpKjxcXFxcL3NjcmlwdD5cIn19LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlcj1mdW5jdGlvbihjb250ZW50LHBhdHRlcm4sY2FsbGJhY2spe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFyUHJvbWlzZXMscmVnZXhwLHJlcGxhY2VzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gYXJQcm9taXNlcz1bXSxyZWdleHA9bmV3IFJlZ0V4cChwYXR0ZXJuLFwiZ1wiKSxjb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIGFyUHJvbWlzZXMucHVzaChjYWxsYmFjayhzdWJzdHJpbmcpKSxzdWJzdHJpbmd9KSxbNCxQcm9taXNlLmFsbChhclByb21pc2VzKV07Y2FzZSAxOnJldHVybiByZXBsYWNlcz1fYS5zZW50KCksWzIsY29udGVudC5yZXBsYWNlKHJlZ2V4cCxmdW5jdGlvbigpe3JldHVybiByZXBsYWNlcy5zaGlmdCgpfHxcIlwifSldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5nZXRSZXBsYWNlZEZpbGVQYXRoPWZ1bmN0aW9uKHN1YnN0cmluZyxwYXR0ZXJuLG1hdGNoUG9zaXRpb24sYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlZ2V4cCxtYXRjaGVzLG1hdGNoLHVybCxwYXRoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gcmVnZXhwPW5ldyBSZWdFeHAocGF0dGVybiksKG1hdGNoZXM9c3Vic3RyaW5nLm1hdGNoKHJlZ2V4cCkpJiZtYXRjaGVzLmxlbmd0aD8obWF0Y2g9bWF0Y2hlc1ttYXRjaFBvc2l0aW9uXSwodXJsPW5ldyBVcmxQYXJzZXJfMS5VcmxQYXJzZXIobWF0Y2gsYmFzZSkpLmNoZWNrSXNBYnNvbHV0ZVBhdGgoKT9bMl06KHBhdGg9dXJsLmdldFJlbGF0aXZlUGF0aCgpLHRoaXMuanN6aXAuZmlsZXNbcGF0aF0/WzIscGF0aF06KGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsJ05vdCBmb3VuZCBmaWxlOiBcIicrcGF0aCsnXCIgZm9yIHJlcGxhY2UuJyksWzJdKSkpOlsyXX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzfSgpO2V4cG9ydHMuRXh0ZXJuYWxSZXNvdXJjZXM9RXh0ZXJuYWxSZXNvdXJjZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByZXNvbHZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCksVXJsUGFyc2VyX2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTM5KSxVcmxQYXJzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBVcmxQYXJzZXIodXJsLGJhc2Upe3ZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSx0aGlzLnVybD11cmwsdGhpcy5iYXNlPWJhc2V9cmV0dXJuIFVybFBhcnNlci5wcm90b3R5cGUuY2hlY2tJc0Fic29sdXRlUGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKFwiXig/OlthLXpdKzopPy8vXCIsXCJpXCIpLnRlc3QodGhpcy51cmwpfSxVcmxQYXJzZXIucHJvdG90eXBlLmdldFJlbGF0aXZlUGF0aD1mdW5jdGlvbigpe3ZhciBwYXRoV2l0aEJhc2U9cmVzb2x2ZXIoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTix0aGlzLmJhc2UpO3JldHVybiByZXNvbHZlcihwYXRoV2l0aEJhc2UsdGhpcy51cmwpLnJlcGxhY2UoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTixcIlwiKX0sVXJsUGFyc2VyfSgpO2V4cG9ydHMuVXJsUGFyc2VyPVVybFBhcnNlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2FkZFNsYXNoKHVybCl7cmV0dXJuIHVybCsoXCIvXCI9PT11cmxbdXJsLmxlbmd0aC0xXT9cIlwiOlwiL1wiKX1mdW5jdGlvbiBfcGF0aFJlc29sdmUocGF0aCl7dmFyIHBhdGhTcGxpdD1wYXRoLnNwbGl0KFwiL1wiKTtcIlwiPT09cGF0aFNwbGl0WzBdJiYocGF0aFNwbGl0PXBhdGhTcGxpdC5zbGljZSgxKSk7dmFyIHJlc3VsdEFycmF5PVtdO3JldHVybiBwYXRoU3BsaXQuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LGluZGV4KXtcIi5cIiE9PWN1cnJlbnQmJihcIi4uXCI9PT1jdXJyZW50P3Jlc3VsdEFycmF5LnBvcCgpOlwiXCIhPT1jdXJyZW50JiZyZXN1bHRBcnJheS5wdXNoKGN1cnJlbnQpKX0pLFwiL1wiK3Jlc3VsdEFycmF5LmpvaW4oXCIvXCIpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGJhc2UscmVsYXRpdmUpe2lmKGJhc2U9YmFzZS50cmltKCksKHJlbGF0aXZlPXJlbGF0aXZlLnRyaW0oKSkuc3RhcnRzV2l0aChcImFib3V0OlwiKSlyZXR1cm4gcmVsYXRpdmU7aWYoXCJcIj09PWJhc2UpcmV0dXJuIF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZSk/X2FkZFNsYXNoKHJlbGF0aXZlKTpyZWxhdGl2ZTt2YXIgYmFzZU9iaj1mdW5jdGlvbihiYXNlKXt2YXIgcmVzdWx0T2JqZWN0PXtob3N0OlwiXCIscGF0aDpcIlwiLHF1ZXJ5OlwiXCIscHJvdG9jb2w6XCJcIn0scGF0aD1iYXNlLHByb3RvY29sRW5kSW5kZXg9YmFzZS5pbmRleE9mKFwiLy9cIik7aWYoLTE9PT1wcm90b2NvbEVuZEluZGV4KXRocm93IG5ldyBFcnJvcihcIkVycm9yLCBwcm90b2NvbCBpcyBub3Qgc3BlY2lmaWVkXCIpO3Jlc3VsdE9iamVjdC5wcm90b2NvbD1wYXRoLnN1YnN0cmluZygwLHByb3RvY29sRW5kSW5kZXgpLHByb3RvY29sRW5kSW5kZXgrPTI7dmFyIHBhdGhJbmRleD1iYXNlLmluZGV4T2YoXCIvXCIscHJvdG9jb2xFbmRJbmRleCkscXVlcnlJbmRleD1iYXNlLmluZGV4T2YoXCI/XCIpLGhhc2hJbmRleD1iYXNlLmluZGV4T2YoXCIjXCIpOy0xIT09aGFzaEluZGV4JiYocGF0aD1wYXRoLnN1YnN0cmluZygwLGhhc2hJbmRleCkpO2lmKC0xIT09cXVlcnlJbmRleCl7dmFyIHF1ZXJ5PXBhdGguc3Vic3RyaW5nKHF1ZXJ5SW5kZXgpO3Jlc3VsdE9iamVjdC5xdWVyeT1xdWVyeSxwYXRoPXBhdGguc3Vic3RyaW5nKDAscXVlcnlJbmRleCl9aWYoLTEhPT1wYXRoSW5kZXgpe3ZhciBob3N0PXBhdGguc3Vic3RyaW5nKDAscGF0aEluZGV4KTtyZXN1bHRPYmplY3QuaG9zdD1ob3N0LHBhdGg9cGF0aC5zdWJzdHJpbmcocGF0aEluZGV4KSxyZXN1bHRPYmplY3QucGF0aD1wYXRofWVsc2UgcmVzdWx0T2JqZWN0Lmhvc3Q9cGF0aDtyZXR1cm4gcmVzdWx0T2JqZWN0fShiYXNlKTtpZihcIlwiPT09cmVsYXRpdmUpe3ZhciBob3N0PWJhc2VPYmouaG9zdCxwYXRoPWJhc2VPYmoucGF0aCxxdWVyeT1iYXNlT2JqLnF1ZXJ5O3JldHVybiBwYXRofHxxdWVyeT9ob3N0K3BhdGgrcXVlcnk6X2FkZFNsYXNoKGhvc3QpfXZhciByZWxhdGl2ZU9iaj1mdW5jdGlvbihyZWxhdGl2ZSl7dmFyIHJlc3VsdE9iamVjdD17aHJlZjpyZWxhdGl2ZSxoYXNoOlwiXCIscXVlcnk6XCJcIixuZXRQYXRoOiExLGFic29sdXRlUGF0aDohMSxyZWxhdGl2ZVBhdGg6ITF9O2lmKF9pc0Fic29sdXRlLnRlc3QocmVsYXRpdmUpKXJldHVybiByZXN1bHRPYmplY3QubmV0UGF0aD0hMCxyZXN1bHRPYmplY3Q7XCIvXCI9PT1yZWxhdGl2ZVswXT9yZXN1bHRPYmplY3QuYWJzb2x1dGVQYXRoPSEwOnJlc3VsdE9iamVjdC5yZWxhdGl2ZVBhdGg9ITA7dmFyIHBhdGg9cmVsYXRpdmUscXVlcnlJbmRleD1yZWxhdGl2ZS5pbmRleE9mKFwiP1wiKSxoYXNoSW5kZXg9cmVsYXRpdmUuaW5kZXhPZihcIiNcIik7aWYoLTEhPT1oYXNoSW5kZXgpe3ZhciBoYXNoPXBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7cmVzdWx0T2JqZWN0Lmhhc2g9aGFzaCxwYXRoPXBhdGguc3Vic3RyaW5nKDAsaGFzaEluZGV4KX1pZigtMSE9PXF1ZXJ5SW5kZXgpe3ZhciBxdWVyeT1wYXRoLnN1YnN0cmluZyhxdWVyeUluZGV4KTtyZXN1bHRPYmplY3QucXVlcnk9cXVlcnkscGF0aD1wYXRoLnN1YnN0cmluZygwLHF1ZXJ5SW5kZXgpfXJldHVybiByZXN1bHRPYmplY3QucGF0aD1wYXRoLHJlc3VsdE9iamVjdH0ocmVsYXRpdmUpO2lmKHJlbGF0aXZlT2JqLm5ldFBhdGgpcmV0dXJuIGZ1bmN0aW9uKHVybCl7cmV0dXJuIHVybC5zdGFydHNXaXRoKFwiLy9cIil9KHJlbGF0aXZlT2JqLmhyZWYpJiYocmVsYXRpdmVPYmouaHJlZj1iYXNlT2JqLnByb3RvY29sK3JlbGF0aXZlT2JqLmhyZWYpLF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZU9iai5ocmVmKT9fYWRkU2xhc2gocmVsYXRpdmVPYmouaHJlZik6cmVsYXRpdmVPYmouaHJlZjtpZihyZWxhdGl2ZU9iai5hYnNvbHV0ZVBhdGgpe3ZhciBfcGF0aD1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeT1yZWxhdGl2ZU9iai5xdWVyeSxoYXNoPXJlbGF0aXZlT2JqLmhhc2g7cmV0dXJuIGJhc2VPYmouaG9zdCtfcGF0aFJlc29sdmUoX3BhdGgpK19xdWVyeStoYXNofWlmKHJlbGF0aXZlT2JqLnJlbGF0aXZlUGF0aCl7dmFyIHJlc29sdmVQYXRoLF9wYXRoMj1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeTI9cmVsYXRpdmVPYmoucXVlcnksX2hhc2g9cmVsYXRpdmVPYmouaGFzaCxiYXNlUGF0aD1iYXNlT2JqLnBhdGgscmVzdWx0U3RyaW5nPWJhc2VPYmouaG9zdDtyZXR1cm4gMD09PV9wYXRoMi5sZW5ndGg/cmVzb2x2ZVBhdGg9YmFzZVBhdGg6KGJhc2VQYXRoPWJhc2VQYXRoLnN1YnN0cmluZygwLGJhc2VQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSkscmVzb2x2ZVBhdGg9X3BhdGhSZXNvbHZlKGJhc2VQYXRoK1wiL1wiK19wYXRoMikpLHJlc3VsdFN0cmluZys9XCJcIiE9PXJlc29sdmVQYXRofHxfcXVlcnkyfHxfaGFzaD9yZXNvbHZlUGF0aCtfcXVlcnkyK19oYXNoOlwiL1wifX07dmFyIF9pc0Fic29sdXRlPW5ldyBSZWdFeHAoXCJeKFwiLmNvbmNhdChcIlthLXpdW2EtejAtOSsuLV0qXCIsXCI6KT8vL1wiKSxcImlcIik7ZnVuY3Rpb24gX3Nob3VsZEFkZFNsYXNoKHVybCl7dmFyIHByb3RvY29sSW5kZXg9dXJsLmluZGV4T2YoXCIvL1wiKSsyLG5vUGF0aD0hdXJsLmluY2x1ZGVzKFwiL1wiLHByb3RvY29sSW5kZXgpLG5vUXVlcnk9IXVybC5pbmNsdWRlcyhcIj9cIixwcm90b2NvbEluZGV4KSxub0hhc2g9IXVybC5pbmNsdWRlcyhcIiNcIixwcm90b2NvbEluZGV4KTtyZXR1cm4gbm9QYXRoJiZub1F1ZXJ5JiZub0hhc2h9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTj1cImh0dHBzOi8vcHVzaHdvb3NoLmNvbS9cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUD0yfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xPV9fd2VicGFja19yZXF1aXJlX18oMTQyKTtleHBvcnRzLkV4cGFuZGVyUHVzaHdvb3NoU2VuZE1lc3NhZ2U9UmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xLmRlZmF1bHQ7dmFyIFJpY2hNZWRpYVB1c2h3b29zaF9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO2V4cG9ydHMuRXhwYW5kZXJQdXNod29vc2g9UmljaE1lZGlhUHVzaHdvb3NoX2h0bWxfMS5kZWZhdWx0O3ZhciBSaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO2V4cG9ydHMuRXhwYW5kZXJQdXNoTWFuYWdlcj1SaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD0nPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hTZW5kTWVzc2FnZShtZXNzYWdlLCBzdWNjZXNzLCBmYWlsdXJlKSB7XFxuICAgIHZhciBjb2RlID0gdXVpZHY0KCk7XFxuXFxuICAgIGlmIChzdWNjZXNzKSB7XFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnbWVzc2FnZVxcJywgZnVuY3Rpb24gKGV2ZW50KSB7XFxuICAgICAgICBpZiAoIWV2ZW50LnNvdXJjZSkge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAod2luZG93LnRvcCA9PT0gZXZlbnQuc291cmNlLnBhcmVudCkge1xcbiAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xcblxcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gY29kZSkge1xcbiAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKGRhdGEpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcXG4gICAgICAgICAgICBmYWlsdXJlICYmIGZhaWx1cmUoZXJyb3IpO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH1cXG5cXG4gICAgdmFyIGRhdGEgPSBPYmplY3QuYXNzaWduKFxcbiAgICAgIG1lc3NhZ2UsXFxuICAgICAge1xcbiAgICAgICAgY29kZTogY29kZVxcbiAgICAgIH1cXG4gICAgKTtcXG5cXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkYXRhKSwgXCIqXCIpO1xcblxcbiAgICBmdW5jdGlvbiB1dWlkdjQoKSB7XFxuICAgICAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXFxuICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcXG4gICAgICB9KTtcXG4gICAgfVxcbiAgfVxcbjxcXC9zY3JpcHQ+XFxuJ30sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD1cIjxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG4gIGZ1bmN0aW9uIFB1c2h3b29zaEJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcblxcbiAgICBzZWxmLmlzV2ViU0RLID0gdHJ1ZTtcXG4gICAgc2VsZi5pc1NhZmFyaSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTFcXG4gICAgICAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT09IC0xO1xcblxcbiAgICBzZWxmLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc3Vic2NyaWJlJyxcXG4gICAgICB9KVxcbiAgICB9O1xcblxcbiAgICBzZWxmLnVucmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICd1bnN1YnNjcmliZScsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuZ2V0VGFncyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldFRhZ3MnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCAmJiByZXN1bHQudGFncyk7XFxuICAgICAgfSlcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5zZW5kVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc2V0VGFncycsXFxuICAgICAgICBvcHRpb25zOiB7XFxuICAgICAgICAgIHRhZ3M6IHRhZ3NcXG4gICAgICAgIH0sXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuaXNSZWdpc3RlcmVkRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAob25TdWNjZXNzQ2FsbGJhY2spIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjaGVja1N1YnNjcmlwdGlvbicsXFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xcbiAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2socmVzdWx0LnN0YXRlKVxcbiAgICAgIH0pO1xcbiAgICB9O1xcblxcbiAgICBzZWxmLmlzTWFudWFsVW5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9uU3VjY2Vzc0NhbGxiYWNrKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnY2hlY2tNYW51YWxVbnN1YnNjcmliZWQnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdC5zdGF0ZSlcXG4gICAgICB9KTtcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldENoYW5uZWxzJyxcXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XFxuICAgICAgICBvblN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQuY2hhbm5lbHMpXFxuICAgICAgfSk7XFxuICAgIH07XFxuICB9XFxuXFxuICB3aW5kb3cucHVzaHdvb3NoID0gbmV3IFB1c2h3b29zaEJyaWRnZSgpO1xcbjxcXC9zY3JpcHQ+XFxuXCJ9LGZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO19fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKSxfX3dlYnBhY2tfZXhwb3J0c19fLmRlZmF1bHQ9XCI8c2NyaXB0IHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hQdXNoTWFuYWdlckJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcbiAgICB2YXIgYWJzb2x1dGVVUkxQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnXig/OlthLXpdKzopPy8vJywgJ2knKTtcXG5cXG4gICAgc2VsZi5jbG9zZUluQXBwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjbG9zZUluQXBwJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYub3BlbkxpbmsgPSBmdW5jdGlvbiAob3B0aW9ucykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ29wZW5MaW5rJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xcbiAgICAgIHZhciBjbG9zZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmPVxcXCJwdXNod29vc2g6Ly9jbG9zZVxcXCJdJyk7XFxuICAgICAgdmFyIG90aGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhOm5vdChbaHJlZj1cXFwicHVzaHdvb3NoOi8vY2xvc2VcXFwiXSknKTtcXG5cXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb3NlTGlua3MubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIGNsb3NlTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXG4gICAgICAgICAgc2VsZi5jbG9zZUluQXBwKCk7XFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuXFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlckxpbmtzLmxlbmd0aDsgaisrKSB7XFxuICAgICAgICB2YXIgaHJlZiA9IG90aGVyTGlua3Nbal0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XFxuXFxuICAgICAgICBpZiAoYWJzb2x1dGVVUkxQYXR0ZXJuLnRlc3QoaHJlZikpIHtcXG4gICAgICAgICAgb3RoZXJMaW5rc1tqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuXFxuICAgICAgICAgICAgc2VsZi5vcGVuTGluayh7XFxuICAgICAgICAgICAgICBocmVmOiBldmVudC50YXJnZXQuaHJlZlxcbiAgICAgICAgICAgIH0pO1xcblxcbiAgICAgICAgICAgIHNlbGYuY2xvc2VJbkFwcCgpO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfVxcblxcbiAgd2luZG93LnB1c2hNYW5hZ2VyID0gbmV3IFB1c2h3b29zaFB1c2hNYW5hZ2VyQnJpZGdlKCk7XFxuPFxcL3NjcmlwdD5cXG5cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjEpLGNvbnN0YW50c18yPV9fd2VicGFja19yZXF1aXJlX18oNzcpLHBvc2l0aW9uaW5nXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDYpLGJlbGxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMyksU3Vic2NyaWJlV2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlV2lkZ2V0KHB3KXt2YXIgX3RoaXM9dGhpcztpZih0aGlzLnB3PXB3LFBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zKXt0aGlzLmNsaWNrQmVsbD10aGlzLmNsaWNrQmVsbC5iaW5kKHRoaXMpLHRoaXMub25TdWJzY3JpYmVFdmVudD10aGlzLm9uU3Vic2NyaWJlRXZlbnQuYmluZCh0aGlzKSx0aGlzLm9uVW5zdWJzY3JpYmVFdmVudD10aGlzLm9uVW5zdWJzY3JpYmVFdmVudC5iaW5kKHRoaXMpLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnQ9dGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudC5iaW5kKHRoaXMpLHRoaXMuY2xpY2tPdXRPZlBvcG92ZXI9dGhpcy5jbGlja091dE9mUG9wb3Zlci5iaW5kKHRoaXMpLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPXRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzLmJpbmQodGhpcyk7dmFyIHRvb2x0aXBUZXh0PU9iamVjdC5hc3NpZ24oY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRy50b29sdGlwVGV4dCxwdy5zdWJzY3JpYmVXaWRnZXRDb25maWcudG9vbHRpcFRleHQpO3RoaXMuY29uZmlnPU9iamVjdC5hc3NpZ24oe30sY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRyxwdy5zdWJzY3JpYmVXaWRnZXRDb25maWcpLHRoaXMuY29uZmlnLnRvb2x0aXBUZXh0PXRvb2x0aXBUZXh0O3ZhciBhcnJBY3Rpb25zPVtdLGlzRW5hYmxlQ2hhbm5lbHM9cHcuaXNFbmFibGVDaGFubmVscygpLGlzU3Vic2NyaWJlZD1wdy5pc1N1YnNjcmliZWQoKTthcnJBY3Rpb25zLnB1c2goaXNFbmFibGVDaGFubmVscyksYXJyQWN0aW9ucy5wdXNoKGlzU3Vic2NyaWJlZCksUHJvbWlzZS5hbGwoYXJyQWN0aW9ucykudGhlbihmdW5jdGlvbihfYSl7dmFyIGlzRW5hYmxlQ2hhbm5lbHM9X2FbMF0saXNTdWJzY3JpYmVkPV9hWzFdO2lzRW5hYmxlQ2hhbm5lbHMmJihfdGhpcy5pc0VuYWJsZUNoYW5uZWxzPSEwKSxpc1N1YnNjcmliZWQmJiFpc0VuYWJsZUNoYW5uZWxzfHxfdGhpcy5yZW5kZXIoKX0pfWVsc2UgY29uc29sZS53YXJuKFwiQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHB1c2ggbm90aWZpY2F0aW9uc1wiKX1yZXR1cm4gU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5hZGRTdHlsZXNUb0VsZW1lbnQ9ZnVuY3Rpb24oc3R5bGVzLGVsZW1lbnQpe09iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbihzdCl7ZWxlbWVudC5zdHlsZVtzdF09c3R5bGVzW3N0XX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjb250YWluZXIuaWQ9Y29uc3RhbnRzXzIuV0lER0VUX0NPTlRBSU5FUl9JRCxjb250YWluZXIuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRcIjt2YXIgcG9zaXRpb249cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldEJlbGxQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5pbmRlbnQpLHN0eWxlcz1PYmplY3QuYXNzaWduKHt6SW5kZXg6dGhpcy5jb25maWcuekluZGV4fSxwb3NpdGlvbik7cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxjb250YWluZXIpLGNvbnRhaW5lcn0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbigpe3ZhciBzdHlsZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNDgpLHN0eWxlTm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlTm9kZS5pbm5lckhUTUw9c3R5bGVzLHN0eWxlTm9kZX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVCZWxsPWZ1bmN0aW9uKCl7dmFyIGJlbGwsY29uZmlnPXRoaXMuY29uZmlnO3JldHVybiBjb25maWcuYnV0dG9uSW1hZ2U/KGJlbGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSkuc3JjPWNvbmZpZy5idXR0b25JbWFnZTooYmVsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHtiYWNrZ3JvdW5kQ29sb3I6Y29uZmlnLmJnQ29sb3IsYm94U2hhZG93OmNvbmZpZy5zaGFkb3csbGluZUhlaWdodDpjb25maWcuc2l6ZSxib3JkZXI6Y29uZmlnLmJlbGxCdXR0b25Cb3JkZXJ9LGJlbGwpLGJlbGwuaW5uZXJIVE1MPWJlbGxfMS5kZWZhdWx0KGNvbmZpZy5iZWxsQ29sb3IsY29uZmlnLmJlbGxTdHJva2VDb2xvcikpLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHt3aWR0aDpjb25maWcuc2l6ZSxoZWlnaHQ6Y29uZmlnLnNpemV9LGJlbGwpLGJlbGwuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIsYmVsbH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVUb29sdGlwPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcCxfYSxwb3NpdGlvbixtb2RpZmljYXRpb24sX2IsX2M7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Qpe3N3aXRjaChfZC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0b29sdGlwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFRvb2x0aXBQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5zaXplKSxwb3NpdGlvbj1fYVswXSxtb2RpZmljYXRpb249X2FbMV0sdG9vbHRpcC5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcCBwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fXCIrbW9kaWZpY2F0aW9uLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHBvc2l0aW9uLHRvb2x0aXApLF9jPShfYj10b29sdGlwKS5hcHBlbmRDaGlsZCxbNCx0aGlzLmNyZWF0ZVRvb2x0aXBDb250ZW50KCldO2Nhc2UgMTpyZXR1cm4gX2MuYXBwbHkoX2IsW19kLnNlbnQoKV0pLFsyLHRvb2x0aXBdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlVG9vbHRpcENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwQ29udGVudCxfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRvb2x0aXBDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV07Y2FzZSAxOnJldHVybiBfYS5pbm5lclRleHQ9X2Iuc2VudCgpLHRvb2x0aXBDb250ZW50LmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLWNvbnRlbnRcIixbMix0b29sdGlwQ29udGVudF19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS50b29sdGlwVGV4dEZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uLHRvb2x0aXBUZXh0LGlzTWFudWFsbHlVbnN1YnNjcmliZWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHcuZHJpdmVyLmdldFBlcm1pc3Npb24oKV07Y2FzZSAxOnJldHVybiBwZXJtaXNzaW9uPV9hLnNlbnQoKSx0b29sdGlwVGV4dD10aGlzLmNvbmZpZy50b29sdGlwVGV4dCxbNCxzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLk1BTlVBTF9VTlNVQlNDUklCRSldO2Nhc2UgMjpzd2l0Y2goaXNNYW51YWxseVVuc3Vic2NyaWJlZD1fYS5zZW50KCkscGVybWlzc2lvbil7Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzIsaXNNYW51YWxseVVuc3Vic2NyaWJlZD90b29sdGlwVGV4dC5uZWVkU3Vic2NyaWJlOnRvb2x0aXBUZXh0LmFscmVhZHlTdWJzY3JpYmVkXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fUFJPTVBUOnJldHVyblsyLHRvb2x0aXBUZXh0Lm5lZWRTdWJzY3JpYmVdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9ERU5JRUQ6cmV0dXJuWzIsdG9vbHRpcFRleHQuYmxvY2tTdWJzY3JpYmVdO2RlZmF1bHQ6cmV0dXJuWzIsdG9vbHRpcFRleHQubmVlZFN1YnNjcmliZV19cmV0dXJuWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlUG9wb3Zlcj1mdW5jdGlvbigpe3ZhciBwb3BvdmVyQ29udGVudFdyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxwb3BvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFBvcG92ZXJQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5zaXplKSxwb3NpdGlvbj1fYVswXSxtb2RpZmljYXRpb249X2FbMV07cG9wb3Zlci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fXCIrbW9kaWZpY2F0aW9uLHBvcG92ZXJDb250ZW50V3JhcHBlci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50LXdyYXBwZXJcIix0aGlzLnN0eWxlLmlubmVySFRNTCs9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFBvcG92ZXJBcnJvd1Bvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpO3ZhciBzdHlsZXM9T2JqZWN0LmFzc2lnbih7bWF4V2lkdGg6XCJjYWxjKDEwMHZ3IC0gXCIrdGhpcy5jb25maWcuaW5kZW50K1wiIC0gXCIrdGhpcy5jb25maWcuaW5kZW50K1wiKVwifSxwb3NpdGlvbik7cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxwb3BvdmVyKSxwb3BvdmVyQ29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVQb3BvdmVyQ29udGVudCgpKSxwb3BvdmVyLmFwcGVuZENoaWxkKHBvcG92ZXJDb250ZW50V3JhcHBlcikscG9wb3Zlcn0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5nZXRCcm93c2VyTmFtZT1mdW5jdGlvbigpe3JldHVybiBQbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LmlzT3BlcmE/XCJvcGVyYVwiOjExPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKT9cIm1vYmlsZUNocm9tZVwiOjEyPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT9cImZpcmVmb3hcIjoxMD09PVBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQucGxhdGZvcm0/XCJzYWZhcmlcIjoxNTA9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP1wiZWRnZVwiOlwiY2hyb21lXCJ9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlUG9wb3ZlckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgY29uZmlnPXRoaXMuY29uZmlnLHBvcG92ZXJDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cG9wb3ZlckNvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudFwiO3ZhciBicm93c2VyPXRoaXMuZ2V0QnJvd3Nlck5hbWUoKSx1c2VySW1hZ2VTcmM9Y29uZmlnLmNvbnRlbnRJbWFnZXMmJmNvbmZpZy5jb250ZW50SW1hZ2VzW2Jyb3dzZXJdO2lmKHVzZXJJbWFnZVNyYyl7dmFyIGltYWdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7aW1hZ2Uuc3JjPXVzZXJJbWFnZVNyYyxwb3BvdmVyQ29udGVudC5hcHBlbmRDaGlsZChpbWFnZSl9ZWxzZXt2YXIgc3RhbmRhcmRJbWFnZT17b3BlcmE6XCJvcGVyYVwiLG1vYmlsZUNocm9tZTpcIm1vYmlsZV9jaHJvbWVcIixmaXJlZm94OlwiRkZcIixzYWZhcmk6XCJzYWZhcmlcIn1bYnJvd3Nlcl18fFwiY2hyb21lXCI7W3tzcmM6dGhpcy5nZXRJbWFnZVNyYyhzdGFuZGFyZEltYWdlKSx3aWR0aDo1MDAsaGVpZ2h0OjEzMH0se3NyYzp0aGlzLmdldEltYWdlU3JjKHN0YW5kYXJkSW1hZ2UrXCJfdW5sb2NrXCIpLHdpZHRoOjUwMCxoZWlnaHQ6MjMwfV0uZm9yRWFjaChmdW5jdGlvbihpbWFnZUF0dHJzKXt2YXIgaW1hZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtPYmplY3QuYXNzaWduKGltYWdlLGltYWdlQXR0cnMpLHBvcG92ZXJDb250ZW50LmFwcGVuZENoaWxkKGltYWdlKX0pfXJldHVybiBwb3BvdmVyQ29udGVudH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5nZXRJbWFnZVNyYz1mdW5jdGlvbihpbWcpe3JldHVyblwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9cIitpbWcrXCIuanBnXCJ9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYmVsbCxfYSxfYjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMud2lkZ2V0PXRoaXMuY3JlYXRlQ29udGFpbmVyKCksdGhpcy5zdHlsZT10aGlzLmNyZWF0ZVN0eWxlKCksYmVsbD10aGlzLmNyZWF0ZUJlbGwoKSxfYT10aGlzLFs0LHRoaXMuY3JlYXRlVG9vbHRpcCgpXTtjYXNlIDE6cmV0dXJuIF9hLnRvb2x0aXA9X2Muc2VudCgpLF9iPXRoaXMsWzQsdGhpcy5jcmVhdGVQb3BvdmVyKCldO2Nhc2UgMjpyZXR1cm4gX2IucG9wb3Zlcj1fYy5zZW50KCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQoYmVsbCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwKSx0aGlzLndpZGdldC5hcHBlbmRDaGlsZCh0aGlzLnBvcG92ZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy53aWRnZXQpLHRoaXMucHcucHVzaChbXCJvblN1YnNjcmliZVwiLHRoaXMub25TdWJzY3JpYmVFdmVudF0pLHRoaXMucHcucHVzaChbXCJvblVuc3Vic2NyaWJlXCIsdGhpcy5vblVuc3Vic2NyaWJlRXZlbnRdKSx0aGlzLnB3LnB1c2goW1wib25QZXJtaXNzaW9uRGVuaWVkXCIsdGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudF0pLHRoaXMuaXNFbmFibGVDaGFubmVscz8odGhpcy53aWRnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrQmVsbElmRW5hYmxlQ2hhbm5lbHMpLFsyXSk6KHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnNJZkRpc2FibGVkQ2hhbm5lbHMoKSxbMl0pfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wdXNoKGZ1bmN0aW9uKGFwaSl7X3RoaXMucHcuZHJpdmVyLmNoZWNrSXNQZXJtaXNzaW9uRGVmYXVsdCgpP190aGlzLnB3LnN1YnNjcmlwdGlvblNlZ21lbnRXaWRnZXQuaW5pdCgpOmFwaS5wb3N0RXZlbnQoY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1NFR01FTlRfRVZFTlQse30pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnNJZkRpc2FibGVkQ2hhbm5lbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy53aWRnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbGlja0JlbGwpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmNsaWNrT3V0T2ZQb3BvdmVyKSxbNCx0aGlzLnRyaWdnZXJQd0V2ZW50KGNvbnN0YW50c18xLkVWRU5UX1NIT1dfU1VCU0NSSUJFX0JVVFRPTixjb25zdGFudHNfMS5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUudG9nZ2xlSGVscFBvcG92ZXI9ZnVuY3Rpb24oKXt0aGlzLnBvcG92ZXIuY2xhc3NMaXN0LnRvZ2dsZShcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNsaWNrQmVsbD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnN3aXRjaChwZXJtaXNzaW9uPXRoaXMucHcuZHJpdmVyLmdldFBlcm1pc3Npb24oKSxwZXJtaXNzaW9uKXtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fR1JBTlRFRDpyZXR1cm5bMywxXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fUFJPTVBUOnJldHVyblszLDNdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9ERU5JRUQ6cmV0dXJuWzMsNV19cmV0dXJuWzMsNl07Y2FzZSAxOnJldHVybls0LHRoaXMucHcuc3Vic2NyaWJlKCldO2Nhc2UgMjpyZXR1cm4gX2Iuc2VudCgpLFszLDddO2Nhc2UgMzpyZXR1cm5bNCx0aGlzLnB3LnN1YnNjcmliZSgpXTtjYXNlIDQ6cmV0dXJuIF9iLnNlbnQoKSxbMyw3XTtjYXNlIDU6cmV0dXJuIHRoaXMudG9nZ2xlSGVscFBvcG92ZXIoKSxbMyw3XTtjYXNlIDY6Y29uc29sZS53YXJuKFwiVW5rbm93biBicm93c2VyIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uXCIpLF9iLmxhYmVsPTc7Y2FzZSA3OnJldHVybls0LHRoaXMudHJpZ2dlclB3RXZlbnQoY29uc3RhbnRzXzEuRVZFTlRfQ0xJQ0tfU1VCU0NSSUJFX0JVVFRPTixjb25zdGFudHNfMS5LRVlfQ0xJQ0tfU1VCU0NSSUJFX1dJREdFVCldO2Nhc2UgODpyZXR1cm4gX2Iuc2VudCgpLFsyXX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uU3Vic2NyaWJlRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpc0VuYWJsZUNoYW5uZWxzLHRvb2x0aXBDb250ZW50LF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBpc0VuYWJsZUNoYW5uZWxzPXRoaXMucHcuaXNFbmFibGVDaGFubmVscygpLG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXToodG9vbHRpcENvbnRlbnQuaW5uZXJUZXh0PXRoaXMuY29uZmlnLnRvb2x0aXBUZXh0LnN1Y2Nlc3NTdWJzY3JpYmUsdGhpcy50b29sdGlwLmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy50b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZVwiKSxfYT10b29sdGlwQ29udGVudCxbNCx0aGlzLnRvb2x0aXBUZXh0RmFjdG9yeSgpXTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksaXNFbmFibGVDaGFubmVsc3x8dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19zdWJzY3JpYmVkXCIpLFsyXX19KX0pfSwyZTMpLFsyXSl9KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uUGVybWlzc2lvbkRlbmllZEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcENvbnRlbnQsX2E7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHcuaXNFbmFibGVDaGFubmVscygpXTtjYXNlIDE6cmV0dXJuIF9iLnNlbnQoKSYmKHRoaXMud2lkZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzKCkpLG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXTooX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV0pO2Nhc2UgMjpyZXR1cm4gX2EuaW5uZXJUZXh0PV9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jbGlja091dE9mUG9wb3Zlcj1mdW5jdGlvbihldil7dGhpcy5wb3BvdmVyLmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpJiYhZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyXCIpJiZudWxsPT09ZXYudGFyZ2V0LmNsb3Nlc3QoXCIucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJcIikmJiFldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIpJiZudWxsPT09ZXYudGFyZ2V0LmNsb3Nlc3QoXCIucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIpJiZ0aGlzLnBvcG92ZXIuY2xhc3NMaXN0LnJlbW92ZShcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRyaWdnZXJQd0V2ZW50PWZ1bmN0aW9uKGV2ZW50LHdpZGdldCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzJdfSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblVuc3Vic2NyaWJlRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwQ29udGVudCxfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXTooX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV0pO2Nhc2UgMTpyZXR1cm4gX2EuaW5uZXJUZXh0PV9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0fSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwdXNod29vc2guaW5pdGlhbGl6ZWRcIixmdW5jdGlvbihldil7ZXYuZGV0YWlsLnB3LnN1YnNjcmliZVdpZGdldENvbmZpZy5lbmFibGUmJm5ldyBTdWJzY3JpYmVXaWRnZXQoZXYuZGV0YWlsLnB3KX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NyksUG9zaXRpb25pbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQb3NpdGlvbmluZygpe31yZXR1cm4gUG9zaXRpb25pbmcuZ2V0QmVsbFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uLGluZGVudCl7dmFyIHBvc2l0aW9uU3R5bGVzO3N3aXRjaChwb3NpdGlvbil7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9SSUdIVDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOmluZGVudCxyaWdodDppbmRlbnR9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6aW5kZW50LGJvdHRvbTppbmRlbnQscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOmluZGVudCxsZWZ0OmluZGVudCxib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfUklHSFQ6cG9zaXRpb25TdHlsZXM9e3RvcDppbmRlbnQsbGVmdDpcImF1dG9cIixib3R0b206XCJhdXRvXCIscmlnaHQ6aW5kZW50fTticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXt0b3A6XCJhdXRvXCIsbGVmdDpcImF1dG9cIixib3R0b206aW5kZW50LHJpZ2h0OmluZGVudH19cmV0dXJuIHBvc2l0aW9uU3R5bGVzfSxQb3NpdGlvbmluZy5nZXRUb29sdGlwUG9zaXRpb249ZnVuY3Rpb24oYmVsbFBvc2l0aW9uLGJlbGxTaXplKXt2YXIgcG9zaXRpb25TdHlsZXMsdG9vbHRpcE1vZGlmaWNhdGlvbixpbmNyZWFzZUluZGVudD1wYXJzZUludChiZWxsU2l6ZSkrMTIrXCJweFwiO3N3aXRjaChiZWxsUG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e3JpZ2h0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwicmlnaHRcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOnBvc2l0aW9uU3R5bGVzPXtsZWZ0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwibGVmdFwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfUklHSFQ6cG9zaXRpb25TdHlsZXM9e3JpZ2h0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwicmlnaHRcIjticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCJ9cmV0dXJuW3Bvc2l0aW9uU3R5bGVzLHRvb2x0aXBNb2RpZmljYXRpb25dfSxQb3NpdGlvbmluZy5nZXRQb3BvdmVyUG9zaXRpb249ZnVuY3Rpb24oYmVsbFBvc2l0aW9uLGJlbGxTaXplKXt2YXIgcG9zaXRpb25TdHlsZXMscG9wb3Zlck1vZGlmaWNhdGlvbixpbmNyZWFzZUluZGVudD1wYXJzZUludChiZWxsU2l6ZSkrMTUrXCJweFwiO3N3aXRjaChiZWxsUG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e2JvdHRvbTppbmNyZWFzZUluZGVudCxyaWdodDpcIjBcIixsZWZ0OlwiYXV0b1wiLHRvcDpcImF1dG9cIn0scG9wb3Zlck1vZGlmaWNhdGlvbj1cImJvdHRvbVwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVDpwb3NpdGlvblN0eWxlcz17Ym90dG9tOmluY3JlYXNlSW5kZW50LGxlZnQ6XCIwXCIscmlnaHQ6XCJhdXRvXCIsdG9wOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwiYm90dG9tXCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5jcmVhc2VJbmRlbnQsbGVmdDpcIjBcIixyaWdodDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJ0b3BcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJ0b3BcIjticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXtib3R0b206aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIix0b3A6XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJib3R0b21cIn1yZXR1cm5bcG9zaXRpb25TdHlsZXMscG9wb3Zlck1vZGlmaWNhdGlvbl19LFBvc2l0aW9uaW5nLmdldFBvcG92ZXJBcnJvd1Bvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIGFycm93QWRkaXRpb25hbFN0eWxlcztzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6YXJyb3dBZGRpdGlvbmFsU3R5bGVzPVwiXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19ib3R0b206YWZ0ZXIge3JpZ2h0OiBhdXRvOyBsZWZ0OiBcIisocGFyc2VJbnQoYmVsbFNpemUpLzItMTIpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ6YXJyb3dBZGRpdGlvbmFsU3R5bGVzPVwiXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge3JpZ2h0OiBhdXRvOyBsZWZ0OiBcIisocGFyc2VJbnQoYmVsbFNpemUpLzItMTIpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIjticmVhaztkZWZhdWx0OmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIn1yZXR1cm4gYXJyb3dBZGRpdGlvbmFsU3R5bGVzfSxQb3NpdGlvbmluZ30oKTtleHBvcnRzLmRlZmF1bHQ9UG9zaXRpb25pbmd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbihmaWxsQ29sb3Isc3Ryb2tlQ29sb3Ipe3JldHVybic8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cXG48c3ZnXFxuICAgeG1sbnM6ZGM9XCJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xL1wiXFxuICAgeG1sbnM6Y2M9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNcIlxcbiAgIHhtbG5zOnJkZj1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNcIlxcbiAgIHhtbG5zOnN2Zz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcXG4gICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcXG4gICB4bWxuczpzb2RpcG9kaT1cImh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkXCJcXG4gICB4bWxuczppbmtzY2FwZT1cImh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGVcIlxcbiAgIHZlcnNpb249XCIxLjFcIlxcbiAgIGlkPVwiQ2FwYV8xXCJcXG4gICB4PVwiMHB4XCJcXG4gICB5PVwiMHB4XCJcXG4gICB2aWV3Qm94PVwiMCAwIDM0Ni4wMTMgMzQ2LjAxM1wiXFxuICAgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM0Ni4wMTMgMzQ2LjAxMzt3aWR0aDogODAlOyBoZWlnaHQ6IGF1dG87IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCJcXG4gICB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiXFxuICAgaW5rc2NhcGU6dmVyc2lvbj1cIjAuOTEgcjEzNzI1XCJcXG4gICBzb2RpcG9kaTpkb2NuYW1lPVwiYWxhcm1fd2hpdGUuc3ZnXCI+PG1ldGFkYXRhXFxuICAgICBpZD1cIm1ldGFkYXRhNTFcIj48cmRmOlJERj48Y2M6V29ya1xcbiAgICAgICAgIHJkZjphYm91dD1cIlwiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlXFxuICAgICAgICAgICByZGY6cmVzb3VyY2U9XCJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZVwiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzXFxuICAgICBpZD1cImRlZnM0OVwiIC8+PHNvZGlwb2RpOm5hbWVkdmlld1xcbiAgICAgYm9yZGVyb3BhY2l0eT1cIjFcIlxcbiAgICAgb2JqZWN0dG9sZXJhbmNlPVwiMTBcIlxcbiAgICAgZ3JpZHRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGd1aWRldG9sZXJhbmNlPVwiMTBcIlxcbiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9XCIwXCJcXG4gICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9XCIyXCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD1cIjE2MThcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD1cIjgyOFwiXFxuICAgICBpZD1cIm5hbWVkdmlldzQ3XCJcXG4gICAgIHNob3dncmlkPVwiZmFsc2VcIlxcbiAgICAgaW5rc2NhcGU6em9vbT1cIjAuNjgyMDU1M1wiXFxuICAgICBpbmtzY2FwZTpjeD1cIjE3My4wMDY1XCJcXG4gICAgIGlua3NjYXBlOmN5PVwiMTczLjAwNjVcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LXg9XCIwXCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy15PVwiMFwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPVwiMFwiXFxuICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPVwiZzNcIiAvPjxnXFxuICAgICBpZD1cImczXCI+PHBhdGhcXG4gICAgICAgZD1cIm0gMjU2Ljc2MjI3LDIyMC4xOTAwNiBjIC0xLjc3NTEzLC0yLjY5NzY2IC0zLjQ1MTU0LC01LjI0NTY0IC0zLjk4OTY2LC03LjQ2MzgyIC0wLjA0MiwtMC4xNzg2MSAtMC4wOTExLC0wLjM2MTI4IC0wLjE2MjM3LC0wLjYxNDM2IC0yLjI4MzU0LC03LjY3NjQ3IDAuNjkxNDcsLTI0LjQzOTIxIDIuNDY4ODYsLTM0LjQ1MTI0IDAuMjY3ODgsLTEuNTAzOTQgMC41MjI3NCwtMi45NDE5NyAwLjc1Mjg2LC00LjI5MDM1IDAuMDIzMiwtMC4xMzY3NSAwLjA0NCwtMC4yNzIxMSAwLjA3MjQsLTAuNDgwMDYgMS45NTU4MiwtMTUuMjgwNTEgMi41ODgxMSwtMzcuOTE5NTYgLTUuNTEwNDQsLTU4Ljk5MTQ3IC01LjYwMzIsLTE0LjU3OTc4IC0xNC40NTk3OCwtMjUuODI2MTIgLTI2LjM1NTksLTMzLjQ4MzkzIDEuMjY1OTgsLTkuODEyOTM4IC00Ljg1OTY3LC0xOS4zNDM2OTEgLTE0LjY2NjgyLC0yMi4wNTExIC05LjgwNzE1LC0yLjcwNzQxIC0xOS45NTcyNCwyLjMzMjI2IC0yMy45MDI5OCwxMS40MDU0MTMgLTE0LjEzODIsMC40Njc1MzMgLTI3LjUxMTExLDUuNTc3MDk3IC0zOS44MDExNCwxNS4yMTkyNjcgLTE3Ljc2MTI5LDEzLjkyOTggLTI4LjgzNDMxLDMzLjY4NzU3IC0zNC45OTM4OSw0Ny44MDc1NyBsIC0wLjA0NzksMC4xMTMzNSBjIC0wLjA1MTIsMC4xMjE3NSAtMC4wOTk4LDAuMjQxMTQgLTAuMTMyNDksMC4zMjk2MiAtMC40OTczMywxLjI4MjkyIC0xLjAxNTUyLDIuNjQ1MTQgLTEuNTU2ODksNC4wNzI1NSAtMy42MTMxMSw5LjUxMDQzIC05LjY2MDA0LDI1LjQyODI0IC0xNS42MTE5OTUsMzAuODkzNDIgLTAuMTA2NTI0LDAuMTAwMjcgLTAuMjA4MjI4LDAuMjAxODcgLTAuMzYyMzYyLDAuMzU0MzUgLTEuNjM2MjQzLDEuNjY1NjMgLTQuMzgyOTQxLDIuOTk0NjMgLTcuMjg4OTc5LDQuNDAxMDEgLTcuMTQ1NTMxLDMuNDUzMDEgLTIyLjAxMzYxMywxMC42NDE2NiAtMTcuMjA2Mzg5LDMxLjY3ODQ0IDAuOTI5MTU0LDQuMDcxMDUgNC4wMDg0MzcsNy4yOTA1NyA4LjAzMzg2MSw4LjQwMTg1IGwgMTY3LjU3MDgwNCw0Ni4yNjA0IGMgNC4wMjI1MywxLjExMDQ4IDguMzE1MjEsLTAuMDcyOSAxMS4yMDUyLC0zLjA4OTU4IDE0LjkxNjE3LC0xNS41ODg3NCA1Ljg0NjkzLC0yOS4zODY2OCAxLjQ4NjI1LC0zNi4wMjEzMyB6XCJcXG4gICAgICAgaWQ9XCJwYXRoNVwiXFxuICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9XCIwXCJcXG4gICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXFxuICAgICAgIHN0eWxlPVwiZmlsbDonK2ZpbGxDb2xvcitcIjsgc3Ryb2tlOiBcIitzdHJva2VDb2xvcisnOyBzdHJva2Utd2lkdGg6IDE7IFwiIC8+PHBhdGhcXG4gICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXFxuICAgICAgIGQ9XCJtIDE3NC4yNjczNywyNTkuNzIzNzggLTM4Ljc2Mzk5LC0xMC43MDEzNyBjIC0xLjU5MjQzLC0wLjQzOTYyIC0zLjI4MTgzLC0wLjE1NTk2IC00LjYzNTQ4LDAuNzc1NCAtMi41MzkwOSwxLjc0OTQgLTIuODQxODIsNC45MzE1OSAtMy4wMjMwNCw2LjgzMTg4IGwgLTAuMDE1MSwwLjE1MjQ3IGMgLTEuMjI4MTksMTIuNjcxMDYgNi43OTg1NCwyNC4zMzA0NiAxOS4wODY4OCwyNy43MjI4NCAxMi41MTU4MywzLjQ1NTE4IDI1LjgzMjQsLTIuOTE1ODYgMzAuOTY4MSwtMTQuODAzODUgbCAwLjA5MzUsLTAuMTkyMDUgYyAwLjUyMzA1LC0xLjA2NDE4IDEuNzQ2MTMsLTMuNTU1NTQgMC41MDg4MiwtNi4zMTExNiAtMC40NDMwMiwtMC45ODQzOSAtMS41Nzk0LC0yLjc0NTI5IC00LjIxOTY0LC0zLjQ3NDE2IHpcIlxcbiAgICAgICBpZD1cInBhdGg3XCJcXG4gICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT1cIjBcIlxcbiAgICAgICBzdHlsZT1cImZpbGw6JytmaWxsQ29sb3IrXCI7IHN0cm9rZTogXCIrc3Ryb2tlQ29sb3IrJzsgc3Ryb2tlLXdpZHRoOiAxO1wiIC8+PC9nPjxnXFxuICAgICBpZD1cImcxN1wiIC8+PGdcXG4gICAgIGlkPVwiZzE5XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjFcIiAvPjxnXFxuICAgICBpZD1cImcyM1wiIC8+PGdcXG4gICAgIGlkPVwiZzI1XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjdcIiAvPjxnXFxuICAgICBpZD1cImcyOVwiIC8+PGdcXG4gICAgIGlkPVwiZzMxXCIgLz48Z1xcbiAgICAgaWQ9XCJnMzNcIiAvPjxnXFxuICAgICBpZD1cImczNVwiIC8+PGdcXG4gICAgIGlkPVwiZzM3XCIgLz48Z1xcbiAgICAgaWQ9XCJnMzlcIiAvPjxnXFxuICAgICBpZD1cImc0MVwiIC8+PGdcXG4gICAgIGlkPVwiZzQzXCIgLz48Z1xcbiAgICAgaWQ9XCJnNDVcIiAvPjwvc3ZnPid9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcmVzdWx0PV9fd2VicGFja19yZXF1aXJlX18oMTQ5KTttb2R1bGUuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2YgcmVzdWx0P3Jlc3VsdDpyZXN1bHQudG9TdHJpbmcoKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KG1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMTUwKSh2b2lkIDApKS5wdXNoKFttb2R1bGUuaSwnLyogV2lkZ2V0ICovXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3N1YnNjcmliZWQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b24ge1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjkpIHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSkgdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIC1vLXRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dCwgLXdlYmtpdC10cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvbjpob3ZlciB7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxufVxcblxcbi8qIFRvb2x0aXAgKi9cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiA0OHB4O1xcbiAgbWF4LXdpZHRoOiAzMDBweDtcXG4gIG1pbi13aWR0aDogMjAwcHg7XFxuICBwYWRkaW5nOiA1cHggN3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNiNDQ0YjtcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGxpbmUtaGVpZ2h0OiAzOHB4O1xcbiAgZm9udC1zaXplOiAwO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIG9wYWNpdHk6IDA7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuM3MsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC4zcyBlYXNlLWluO1xcbiAgLW8tdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC4zcyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjNzIGVhc2UtaW47XFxuICB0cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjNzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuM3MgZWFzZS1pbjtcXG4gIHRvcDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwwLDAsMC41KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsMCwwLDAuNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fcmlnaHQ6YWZ0ZXIsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19sZWZ0OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICB0b3A6IDUwJTtcXG4gIGhlaWdodDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBiYWNrZ3JvdW5kOiAjM2I0NDRiO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3JpZ2h0OmFmdGVyIHtcXG4gIGxlZnQ6IGNhbGMoMTAwJSAtIDdweCk7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19sZWZ0OmFmdGVyIHtcXG4gIGxlZnQ6IC03cHg7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMnB4IC0ycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogLTJweCAtMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b246aG92ZXIgKyAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX192aXNpYmxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAtY29udGVudCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbiAgLW8tdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuXFxuLyogUG9wb3ZlciAqL1xcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IGF1dG87XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQ6ICM5Y2E4YjE7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjVzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuNXMgZWFzZS1pbjtcXG4gIC1vLXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuNXMsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC41cyBlYXNlLWluO1xcbiAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC41cyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjVzIGVhc2UtaW47XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX3Zpc2libGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbiAgb3BhY2l0eTogMTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMHM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAwcztcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19ib3R0b206YWZ0ZXIsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge1xcbiAgY29udGVudDogXCJcIjtcXG4gIGhlaWdodDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgIzljYThiMTtcXG4gIGJhY2tncm91bmQ6ICM5Y2E4YjE7XFxuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAtbXMtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtcXG4gIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjOWNhOGIxO1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMnB4IDJweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAtMnB4IDJweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgYm90dG9tOiAtMTZweDtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge1xcbiAgdG9wOiAwO1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICM5Y2E4YjE7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAtMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAtMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50LXdyYXBwZXIge1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudCB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHBhZGRpbmc6IDE0cHg7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1pbi13aWR0aDogMTAwJTtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWcge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi1ib3R0b206IDE0cHg7XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudCB7XFxuICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gICAgbWF4LXdpZHRoOiAyODBweDtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgfVxcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWc6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDA7XFxuICAgIG1hcmdpbi1ib3R0b206IDE0cHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSB7XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gICAgbWF4LXdpZHRoOiAyODBweDtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgfVxcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWc6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICB9XFxufVxcbicsXCJcIl0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odXNlU291cmNlTWFwKXt2YXIgbGlzdD1bXTtyZXR1cm4gbGlzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihpdGVtKXt2YXIgY29udGVudD1mdW5jdGlvbihpdGVtLHVzZVNvdXJjZU1hcCl7dmFyIGNvbnRlbnQ9aXRlbVsxXXx8XCJcIixjc3NNYXBwaW5nPWl0ZW1bM107aWYoIWNzc01hcHBpbmcpcmV0dXJuIGNvbnRlbnQ7aWYodXNlU291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgc291cmNlTWFwcGluZz1mdW5jdGlvbihzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIn0oY3NzTWFwcGluZyksc291cmNlVVJMcz1jc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK2Nzc01hcHBpbmcuc291cmNlUm9vdCtzb3VyY2UrXCIgKi9cIn0pO3JldHVybltjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKX1yZXR1cm5bY29udGVudF0uam9pbihcIlxcblwiKX0oaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBwd0luYm94V2lkZ2V0PV9fd2VicGFja19yZXF1aXJlX18oMTUyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIsZnVuY3Rpb24oZXYpe2V2LmRldGFpbC5wdy5wd2luYm94JiZldi5kZXRhaWwucHcuaW5ib3hXaWRnZXRDb25maWcuZW5hYmxlJiYoZXYuZGV0YWlsLnB3LnB3aW5ib3hXaWRnZXQ9bmV3IHB3SW5ib3hXaWRnZXQuUFdJbmJveFdpZGdldChldi5kZXRhaWwucHcpKX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihtb2R1bGVzKXt2YXIgaW5zdGFsbGVkTW9kdWxlcz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9Mil9KFtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKTtleHBvcnRzLmlzRWxlbWVudEZpeGVkPWZ1bmN0aW9uIGlzRWxlbWVudEZpeGVkKGVsZW1lbnQpe3ZhciBpc0ZpeGVkPVwiZml4ZWRcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uO3JldHVybiFpc0ZpeGVkJiZlbGVtZW50LnBhcmVudEVsZW1lbnQmJihpc0ZpeGVkPWlzRWxlbWVudEZpeGVkKGVsZW1lbnQucGFyZW50RWxlbWVudCkpLGlzRml4ZWR9LGV4cG9ydHMuZ2V0R2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX0sZXhwb3J0cy5nZXRNZXNzYWdlVGltZT1mdW5jdGlvbihkYXRlKXt2YXIgbG9jYWxEYXRlPW5ldyBEYXRlKGRhdGUpLGxvY2FsVGltZT1sb2NhbERhdGUuZ2V0SG91cnMoKStsb2NhbERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKS82MDtsb2NhbERhdGUuc2V0SG91cnMobG9jYWxUaW1lKTt2YXIgZ2FwPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWxvY2FsRGF0ZS5nZXRUaW1lKCk7cmV0dXJuIGdhcDw9NmU0P1wiSnVzdCBub3dcIjpnYXA8Y29uc3RhbnRzXzEuTUlMTElTRUNPTkRTX0lOX0hPVVImJmdhcD4wP01hdGguZmxvb3IoZ2FwLzZlNCkrXCIgbWludXRlcyBhZ29cIjpnYXA8Y29uc3RhbnRzXzEuTUlMTElTRUNPTkRTX0lOX0RBWSYmZ2FwPjA/TWF0aC5mbG9vcihnYXAvMzZlNSkrXCIgaG91cnMgYWdvXCI6bG9jYWxEYXRlLmdldERhdGUoKStcIiBcIitjb25zdGFudHNfMS5NT05USFNbbG9jYWxEYXRlLmdldE1vbnRoKCldK1wiIFwiK2xvY2FsRGF0ZS5nZXRGdWxsWWVhcigpK1wiLCBcIitsb2NhbERhdGUuZ2V0SG91cnMoKStcIjpcIisoXCIwXCIrbG9jYWxEYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpKS5zbGljZSgtMil9LGV4cG9ydHMuZ2V0VmFsaWRDb2xvcj1mdW5jdGlvbihjb2xvcil7cmV0dXJuXCJ0cmFuc3BhcmVudFwiPT09Y29sb3I/Y29sb3I6Y29uc3RhbnRzXzEuQ09MT1JfVEVTVF9SRUdFWFAudGVzdChjb2xvcik/Y29sb3I6XCIjMzMzXCJ9LGV4cG9ydHMuY29tcGFyZUJ5U2VuZERhdGU9ZnVuY3Rpb24oZGF0ZU9uZSxkYXRlVHdvKXt2YXIgbG9jYWxEYXRlT25lPW5ldyBEYXRlKGRhdGVPbmUpLGxvY2FsVGltZU9uZT1sb2NhbERhdGVPbmUuZ2V0SG91cnMoKStsb2NhbERhdGVPbmUuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCxsb2NhbERhdGVUd289bmV3IERhdGUoZGF0ZVR3byksbG9jYWxUaW1lVHdvPWxvY2FsRGF0ZVR3by5nZXRIb3VycygpK2xvY2FsRGF0ZVR3by5nZXRUaW1lem9uZU9mZnNldCgpLzYwO3JldHVybiBsb2NhbERhdGVPbmUuc2V0SG91cnMobG9jYWxUaW1lT25lKSxsb2NhbERhdGVUd28uc2V0SG91cnMobG9jYWxUaW1lVHdvKSxsb2NhbERhdGVUd28uZ2V0VGltZSgpLWxvY2FsRGF0ZU9uZS5nZXRUaW1lKCl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLk1JTExJU0VDT05EU19JTl9EQVk9ODY0ZTUsZXhwb3J0cy5NSUxMSVNFQ09ORFNfSU5fSE9VUj0zNmU1LGV4cG9ydHMuTU9OVEhTPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWdcIixcIlNlcHRcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sZXhwb3J0cy5DT05GSUdfU1RZTEVTPVt7bmFtZTpcIndpZGdldFdpZHRoXCIsdHlwZTpcInNpemVcIn0se25hbWU6XCJib3JkZXJSYWRpdXNcIix0eXBlOlwic2l6ZVwifSx7bmFtZTpcInpJbmRleFwiLHR5cGU6XCJudW1iZXJcIn0se25hbWU6XCJmb250RmFtaWx5XCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcImJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0ZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhcnJvd0JvcmRlckNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYm9yZGVyQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJiYWRnZUJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJiYWRnZVRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcInRpbWVUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJtZXNzYWdlVGl0bGVDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImVtcHR5SW5ib3hUaXRsZUNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiZW1wdHlJbmJveFRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifV0sZXhwb3J0cy5ERUZBVUxUX0NPTkZJRz17ZW5hYmxlOiExLHRyaWdnZXJJZDpcInB3SW5ib3hcIixwb3NpdGlvbjpcImJvdHRvbVwiLGFwcGVuZFRvOlwiYm9keVwiLHRpdGxlOlwiSW5ib3hcIixiZ0NvbG9yOlwiI2ZmZmZmZlwiLHRleHRDb2xvcjpcIiMzMzMzMzNcIixmb250RmFtaWx5OlwiaW5oZXJpdFwiLGJvcmRlclJhZGl1czo0LGJvcmRlckNvbG9yOlwidHJhbnNwYXJlbnRcIixiYWRnZUJnQ29sb3I6XCIjZmY0YzAwXCIsYmFkZ2VUZXh0Q29sb3I6XCIjZmZmZmZmXCIsd2lkZ2V0V2lkdGg6MzUwLHpJbmRleDoxMDAsbWVzc2FnZVRpdGxlQ29sb3I6XCIjN2E3YTdhXCIsdGltZVRleHRDb2xvcjpcIiNjNGM0YzRcIixlbXB0eUluYm94VGl0bGU6XCJZb3UncmUgYWxsIGNhdWdodCB1cFwiLGVtcHR5SW5ib3hUaXRsZUNvbG9yOlwiIzMzMzMzM1wiLGVtcHR5SW5ib3hUZXh0OlwiVGhlcmUgYXJlIG5vIG5ldyBtZXNzYWdlcy4gU3RheSB0dW5lZCFcIixlbXB0eUluYm94VGV4dENvbG9yOlwiIzdhN2E3YVwiLGVtcHR5SW5ib3hJY29uVXJsOlwiaHR0cHM6Ly9wdXNob24ucHVzaHdvb3NoLmNvbS9pbWFnZXMvaWNvbi1lbXB0eS1pbmJveC5wbmdcIixhcnJvd0JvcmRlckNvbG9yOlwicmdiYSgwLDAsMCwuMSlcIn0sZXhwb3J0cy5DT0xPUl9URVNUX1JFR0VYUD0vXigjKFtcXGRhLWZdezN9KXsxLDJ9JHwocmdifGhzbClhXFwoKFxcZHsxLDN9JT8sXFxzPyl7M30oMXwwP1xcLlxcZCspXFwpJHwocmdifGhzbClcXChcXGR7MSwzfSU/KCxcXHM/XFxkezEsM30lPyl7Mn1cXCkkKS99LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBJbmJveFdpZGdldF8xPV9fd2VicGFja19yZXF1aXJlX18oMyk7ZXhwb3J0cy5QV0luYm94V2lkZ2V0PUluYm94V2lkZ2V0XzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fE9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHdpZGdldFRlbXBsYXRlc18xPV9fd2VicGFja19yZXF1aXJlX18oNCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxJbmJveFdpZGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIEluYm94V2lkZ2V0KHB3KXt0aGlzLnB3PXB3LHRoaXMuY29uZmlnPV9fYXNzaWduKHt9LGNvbnN0YW50c18xLkRFRkFVTFRfQ09ORklHLHthcnJvd0JvcmRlckNvbG9yOnRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3ImJlwidHJhbnNwYXJlbnRcIiE9PXRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3I/dGhpcy5wdy5pbmJveFdpZGdldENvbmZpZy5ib3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsLjEpXCJ9LHRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcpLHRoaXMudXBkYXRlSW5ib3g9dGhpcy51cGRhdGVJbmJveC5iaW5kKHRoaXMpLHRoaXMubWFya1Zpc2libGVJdGVtc0FzUmVhZD10aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQuYmluZCh0aGlzKSx0aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyPXRoaXMub25XaWRnZXRDbGlja0hhbmRsZXIuYmluZCh0aGlzKSx0aGlzLm9uVHJpZ2dlckNsaWNrSGFuZGxlcj10aGlzLm9uVHJpZ2dlckNsaWNrSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMub25XaW5kb3dTY3JvbGxIYW5kbGVyPXRoaXMub25XaW5kb3dTY3JvbGxIYW5kbGVyLmJpbmQodGhpcyksdGhpcy50b2dnbGU9dGhpcy50b2dnbGUuYmluZCh0aGlzKTt0cnl7dGhpcy5pbml0VHJpZ2dlcigpLHRoaXMudXBkYXRlSW5ib3goKSx0aGlzLmFkZExpc3RlbmVycygpfWNhdGNoKGVycil7Y29uc29sZS53YXJuKGVycil9fXJldHVybiBJbmJveFdpZGdldC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGlzT3BlbmVkKXsodm9pZCAwPT09aXNPcGVuZWQ/IXRoaXMuaXNPcGVuZWQ6aXNPcGVuZWQpP3RoaXMub3BlbldpZGdldCgpOnRoaXMuY2xvc2VXaWRnZXQoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmluaXRUcmlnZ2VyPWZ1bmN0aW9uKCl7aWYoIXRoaXMucHcucHdpbmJveCl0aHJvdyBuZXcgRXJyb3IoXCJXZWIgaW5ib3ggaXMgbm90IGFsbG93ZWQuXCIpO3ZhciB0cmlnZ2VyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnLnRyaWdnZXJJZCk7aWYoIXRyaWdnZXIpdGhyb3cgbmV3IEVycm9yKFwiSW5ib3ggdHJpZ2dlciBlbGVtZW50IGRvZXNuJ3QgZXhpc3QuIFlvdSBtdXN0IHNldCB0cmlnZ2VySWQgaW4gaW5ib3hXaWRnZXQgY29uZmlnLiBTZWUgdGhlIGRvY3VtZW50YXRpb24uXCIpO3RoaXMudHJpZ2dlcj10cmlnZ2VyLHRoaXMudHJpZ2dlci5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtdHJpZ2dlclwiKSx0aGlzLmRlZmF1bHRNYXJnaW49MTIsdGhpcy5tZXNzYWdlc0VsZW1lbnRzPXt9LHRoaXMubWVzc2FnZXM9W10sdGhpcy5yZWFkSXRlbXM9W10sdGhpcy51cGRhdGVDb3VudGVyKDApLHRoaXMuaXNPcGVuZWQ9ITEsdGhpcy5yZW5kZXJXaWRnZXQoKSx0aGlzLmlzRml4ZWQ9aGVscGVyc18xLmlzRWxlbWVudEZpeGVkKHRoaXMudHJpZ2dlcil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5yZW5kZXJXaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLndpZGdldD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud2lkZ2V0LmlkPVwicHdJbmJveFdpZGdldFwiLHRoaXMud2lkZ2V0LmNsYXNzTmFtZT1cInB3LWluYm94LXdpZGdldFwiLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwdy1vcGVuXCIsdGhpcy5pc09wZW5lZCksdGhpcy53aWRnZXRQYXJlbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5hcHBlbmRUbyl8fGRvY3VtZW50LmJvZHksdGhpcy53aWRnZXRQYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy53aWRnZXQpLHRoaXMud2lkZ2V0UGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0U3R5bGUoKSksdGhpcy5yZW5kZXJXaWRnZXRJbm5lcigpfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPV9fd2VicGFja19yZXF1aXJlX18oNSksc3R5bGVOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVOb2RlLmlubmVySFRNTD10aGlzLmNvbmZpZ3VyZVN0eWxlKHN0eWxlcyksc3R5bGVOb2RlfSxJbmJveFdpZGdldC5wcm90b3R5cGUuY29uZmlndXJlU3R5bGU9ZnVuY3Rpb24oc3R5bGVzKXt2YXIgX3RoaXM9dGhpcyxyZXN1bHRTdHlsZXM9c3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIGNvbnN0YW50c18xLkNPTkZJR19TVFlMRVMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSl7dmFyIHRlbXBsYXRlPW5ldyBSZWdFeHAoXCJ2YXJcXFxcKC0tXCIrc3R5bGUubmFtZStcIlxcXFwpXCIsXCJpZ1wiKSxyZXN1bHQ9X3RoaXMuZ2V0U3R5bGVGb3JtYXR0ZXIoc3R5bGUpO3Jlc3VsdFN0eWxlcz1yZXN1bHRTdHlsZXMucmVwbGFjZSh0ZW1wbGF0ZSxyZXN1bHQpfSkscmVzdWx0U3R5bGVzfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0U3R5bGVGb3JtYXR0ZXI9ZnVuY3Rpb24oc3R5bGUpe3N3aXRjaChzdHlsZS50eXBlKXtjYXNlXCJzaXplXCI6cmV0dXJuKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdfHwwKStcInB4XCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKSkudG9TdHJpbmcoKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKTtjYXNlXCJjb2xvclwiOnJldHVybiBoZWxwZXJzXzEuZ2V0VmFsaWRDb2xvcih0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKTtkZWZhdWx0OnJldHVyblwibm9uZVwifX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbmRlcldpZGdldElubmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5tZXNzYWdlcy5sZW5ndGg+MCl0aGlzLndpZGdldC5jbGFzc0xpc3QucmVtb3ZlKFwicHctaW5ib3gtd2lkZ2V0LS1lbXB0eVwiKSx0aGlzLndpZGdldC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEud2lkZ2V0VGVtcGxhdGUodGhpcy5jb25maWcudGl0bGUpLHRoaXMucmVuZGVyTWVzc2FnZXMoKTtlbHNle3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1pbmJveC13aWRnZXQtLWVtcHR5XCIpO3ZhciBfYT10aGlzLmNvbmZpZyxlbXB0eUluYm94VGl0bGU9X2EuZW1wdHlJbmJveFRpdGxlLGVtcHR5SW5ib3hUZXh0PV9hLmVtcHR5SW5ib3hUZXh0LGVtcHR5SW5ib3hJY29uVXJsPV9hLmVtcHR5SW5ib3hJY29uVXJsO3RoaXMud2lkZ2V0LmlubmVySFRNTD13aWRnZXRUZW1wbGF0ZXNfMS53aWRnZXRUZW1wbGF0ZUVtcHR5KGVtcHR5SW5ib3hJY29uVXJsLGVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dCl9fSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVuZGVyTWVzc2FnZXM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLmxpc3Q9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9saXN0XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIiksdGhpcy5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKG1lc3NhZ2Upe3ZhciBtZXNzYWdlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7bWVzc2FnZUVsZW1lbnQuY2xhc3NOYW1lPVwicHctaW5ib3hfaXRlbVwiLG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJwdy1uZXdcIiwhbWVzc2FnZS5pc1JlYWQpLG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJwdy11bnJlYWRcIiwhbWVzc2FnZS5pc0FjdGlvblBlcmZvcm1lZCksbWVzc2FnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1wdy1pbmJveC1tZXNzYWdlLWlkXCIsbWVzc2FnZS5jb2RlKSxtZXNzYWdlRWxlbWVudC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEubWVzc2FnZVRlbXBsYXRlKG1lc3NhZ2UpLF90aGlzLmxpc3QuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpLF90aGlzLm1lc3NhZ2VzRWxlbWVudHNbbWVzc2FnZS5jb2RlXT1tZXNzYWdlRWxlbWVudH0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUudXBkYXRlQ291bnRlcj1mdW5jdGlvbihjb3VudCl7dGhpcy5jb3VudD1jb3VudCx0aGlzLnRyaWdnZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1wdy1jb3VudFwiLFwiXCIrdGhpcy5jb3VudCksdGhpcy50cmlnZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJwdy1lbXB0eVwiLDA9PT10aGlzLmNvdW50KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUluYm94TWVzc2FnZXM9ZnVuY3Rpb24obWVzc2FnZXMpe3RoaXMubWVzc2FnZXM9bWVzc2FnZXMuc29ydChmdW5jdGlvbihfYSxfYil7dmFyIHNlbmREYXRlT25lPV9hLnNlbmREYXRlLHNlbmREYXRlVHdvPV9iLnNlbmREYXRlO3JldHVybiBoZWxwZXJzXzEuY29tcGFyZUJ5U2VuZERhdGUoc2VuZERhdGVPbmUsc2VuZERhdGVUd28pfSksdGhpcy5yZW5kZXJXaWRnZXRJbm5lcigpfSxJbmJveFdpZGdldC5wcm90b3R5cGUub3BlbldpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQ9ITAsdGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LW9wZW5cIiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpZGdldENsaWNrSGFuZGxlciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKCksdGhpcy5tZXNzYWdlcy5sZW5ndGg+MCYmdGhpcy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQpLHRoaXMucG9zaXRpb25XaWRnZXQoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmNsb3NlV2lkZ2V0PWZ1bmN0aW9uKCl7dGhpcy5pc09wZW5lZD0hMSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksdGhpcy51cGRhdGVSZWFkU3RhdHVzKCksdGhpcy5tZXNzYWdlcy5sZW5ndGg+MCYmdGhpcy5saXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQpLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJwdy1vcGVuXCIsXCJwdy10b3BcIixcInB3LWJvdHRvbVwiLFwicHctcmlnaHRcIixcInB3LWxlZnRcIiksdGhpcy53aWRnZXQucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5wb3NpdGlvbldpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQmJih0aGlzLndpZGdldFBhcmVudD09PWRvY3VtZW50LmJvZHk/dGhpcy5kZWZhdWx0UGxhY2VXaWRnZXQoKTp0aGlzLmN1c3RvbVBsYWNlV2lkZ2V0KCkpfSxJbmJveFdpZGdldC5wcm90b3R5cGUuY3VzdG9tUGxhY2VXaWRnZXQ9ZnVuY3Rpb24oKXt2YXIgcG9zaXRpb249dGhpcy5jb25maWcucG9zaXRpb247dGhpcy53aWRnZXRQYXJlbnQuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1pbmJveC13aWRnZXQtLWluc2V0XCIpLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1cIitwb3NpdGlvbil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5kZWZhdWx0UGxhY2VXaWRnZXQ9ZnVuY3Rpb24oKXt2YXIgcG9zaXRpb249dGhpcy5wdy5pbmJveFdpZGdldENvbmZpZy5wb3NpdGlvbj90aGlzLmNvbmZpZy5wb3NpdGlvbjp0aGlzLmdldERlZmF1bHRQb3NpdGlvbigpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSx3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApO3N3aXRjaCh3aWRnZXRSZWN0LndpZHRoKzIqdGhpcy5kZWZhdWx0TWFyZ2luPndpbmRvd1dpZHRoJiYodGhpcy53aWRnZXQuc3R5bGUud2lkdGg9d2luZG93V2lkdGgtMip0aGlzLmRlZmF1bHRNYXJnaW4rXCJweFwiKSx3aWRnZXRSZWN0LmhlaWdodCsyND53aW5kb3dIZWlnaHQmJih0aGlzLndpZGdldC5zdHlsZS5oZWlnaHQ9d2luZG93SGVpZ2h0LTIqdGhpcy5kZWZhdWx0TWFyZ2luK1wicHhcIikscG9zaXRpb24pe2Nhc2VcInRvcFwiOnRoaXMuYWxpZ25XaWRnZXRUb3AoKTticmVhaztjYXNlXCJyaWdodFwiOnRoaXMuYWxpZ25XaWRnZXRSaWdodCgpO2JyZWFrO2Nhc2VcImxlZnRcIjp0aGlzLmFsaWduV2lkZ2V0TGVmdCgpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnRoaXMuYWxpZ25XaWRnZXRCb3R0b20oKX19fSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWxpZ25XaWRnZXRUb3A9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctdG9wXCIpO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3Qud2lkdGgvMiksaXNVbmRlckxlZnQ9bGVmdDxwYWdlWE9mZnNldCxpc1VuZGVyUmlnaHQ9bGVmdCt3aWRnZXRSZWN0LndpZHRoPnBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoO2lzVW5kZXJMZWZ0JiYobGVmdD1wYWdlWE9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJSaWdodCYmKGxlZnQ9cGFnZVhPZmZzZXQrd2luZG93V2lkdGgtd2lkZ2V0UmVjdC53aWR0aC10aGlzLmRlZmF1bHRNYXJnaW4pO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wLXdpZGdldFJlY3QuaGVpZ2h0O3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS5sZWZ0PXRyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1sZWZ0K1wicHhcIjt2YXIgdG9wTWFyZ2luPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtpZih0b3BNYXJnaW48MCl7dmFyIG5ld0hlaWdodD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQrdG9wTWFyZ2luLXRoaXMuZGVmYXVsdE1hcmdpbixuZXdUb3A9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXRvcE1hcmdpbit0aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PW5ld0hlaWdodCtcInB4XCIsdGhpcy53aWRnZXQuc3R5bGUudG9wPW5ld1RvcCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0UmlnaHQ9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSx3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGFycm93PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfX2Fycm93XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1yaWdodFwiKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3QuaGVpZ2h0LzIpLGlzVW5kZXJUb3A9dG9wPHBhZ2VZT2Zmc2V0LGlzVW5kZXJCb3R0b209cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0PHRvcCt3aWRnZXRSZWN0LmhlaWdodDtpc1VuZGVyVG9wJiYodG9wPXBhZ2VZT2Zmc2V0K3RoaXMuZGVmYXVsdE1hcmdpbiksaXNVbmRlckJvdHRvbSYmKHRvcD1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQtd2lkZ2V0UmVjdC5oZWlnaHQtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K3RyaWdnZXJSZWN0LndpZHRoO3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS50b3A9dHJpZ2dlclJlY3QudG9wK01hdGguZmxvb3IodHJpZ2dlclJlY3QuaGVpZ2h0LzIpLXRvcCtcInB4XCI7dmFyIHJpZ2h0TWFyZ2luPXdpbmRvd1dpZHRoLXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O2lmKHJpZ2h0TWFyZ2luPHRoaXMuZGVmYXVsdE1hcmdpbil7dmFyIG5ld1dpZHRoPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoK3JpZ2h0TWFyZ2luLXRoaXMuZGVmYXVsdE1hcmdpbjt0aGlzLndpZGdldC5zdHlsZS53aWR0aD1uZXdXaWR0aCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0TGVmdD1mdW5jdGlvbigpe3ZhciB0cmlnZ2VyUmVjdD10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksd2lkZ2V0UmVjdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpe3ZhciB3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGFycm93PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfX2Fycm93XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1sZWZ0XCIpO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wK01hdGguZmxvb3IodHJpZ2dlclJlY3QuaGVpZ2h0LzIpLU1hdGguZmxvb3Iod2lkZ2V0UmVjdC5oZWlnaHQvMiksaXNVbmRlclRvcD10b3A8cGFnZVlPZmZzZXQsaXNVbmRlckJvdHRvbT1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQ8dG9wK3dpZGdldFJlY3QuaGVpZ2h0O2lzVW5kZXJUb3AmJih0b3A9cGFnZVlPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyQm90dG9tJiYodG9wPXBhZ2VZT2Zmc2V0K3dpbmRvd0hlaWdodC13aWRnZXRSZWN0LmhlaWdodC10aGlzLmRlZmF1bHRNYXJnaW4pO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQtd2lkZ2V0UmVjdC53aWR0aDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUudG9wPXRyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS10b3ArXCJweFwiO3ZhciBsZWZ0TWFyZ2luPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7aWYobGVmdE1hcmdpbjwwKXt2YXIgbmV3V2lkdGg9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgrbGVmdE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW4sbmV3TGVmdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWxlZnRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUud2lkdGg9bmV3V2lkdGgrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLmxlZnQ9bmV3TGVmdCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0Qm90dG9tPWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctYm90dG9tXCIpO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3Qud2lkdGgvMiksaXNVbmRlckxlZnQ9bGVmdDxwYWdlWE9mZnNldCxpc1VuZGVyUmlnaHQ9bGVmdCt3aWRnZXRSZWN0LndpZHRoPnBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoO2lzVW5kZXJMZWZ0JiYobGVmdD1wYWdlWE9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJSaWdodCYmKGxlZnQ9cGFnZVhPZmZzZXQrd2luZG93V2lkdGgtd2lkZ2V0UmVjdC53aWR0aC0xMik7dmFyIHRvcD1wYWdlWU9mZnNldCt0cmlnZ2VyUmVjdC50b3ArdHJpZ2dlclJlY3QuaGVpZ2h0O3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS5sZWZ0PXRyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1sZWZ0K1wicHhcIjt2YXIgYm90dG9tUmFuZ2U9d2luZG93SGVpZ2h0LXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtpZihib3R0b21SYW5nZTx0aGlzLmRlZmF1bHRNYXJnaW4pe3ZhciBuZXdIZWlnaHQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K2JvdHRvbVJhbmdlLXRoaXMuZGVmYXVsdE1hcmdpbjt0aGlzLndpZGdldC5zdHlsZS5oZWlnaHQ9bmV3SGVpZ2h0K1wicHhcIn19fSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWxpZ25XaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGxlZnQsdG9wKXt0aGlzLndpZGdldC5zdHlsZS5sZWZ0PWxlZnQrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLnRvcD10b3ArXCJweFwifSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIF9hPXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsZWZ0PV9hLmxlZnQsdG9wPV9hLnRvcCx3aWR0aD1fYS53aWR0aCxoZWlnaHQ9X2EuaGVpZ2h0O2lmKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpcmV0dXJuXCJcIjt2YXIgYW50aU1hcmdpbnM9e3JpZ2h0OmxlZnQsYm90dG9tOnRvcCxsZWZ0Ok1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCktKGxlZnQrd2lkdGgpLHRvcDpNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCktKHRvcCtoZWlnaHQpfSxsZWFzdE1hcmdpbj1NYXRoLm1pbihsZWZ0LHRvcCxhbnRpTWFyZ2lucy5sZWZ0LGFudGlNYXJnaW5zLnRvcCkscG9zaXRpb249XCJib3R0b21cIjtyZXR1cm4gT2JqZWN0LmtleXMoYW50aU1hcmdpbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXthbnRpTWFyZ2luc1trZXldPT09bGVhc3RNYXJnaW4mJihwb3NpdGlvbj1rZXkpfSkscG9zaXRpb259LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLnRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXIpLHRoaXMucHcucHVzaChbXCJvblB1dE5ld01lc3NhZ2VUb0luYm94U3RvcmVcIixmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9XSksdGhpcy5wdy5wdXNoKFtcIm9uVXBkYXRlSW5ib3hNZXNzYWdlc1wiLGZ1bmN0aW9uKCl7X3RoaXMudXBkYXRlSW5ib3goKX1dKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQ9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztpZigwIT09dGhpcy5tZXNzYWdlcy5sZW5ndGgpe3ZhciBzY3JvbGxUb3A9dGhpcy5saXN0LmNsaWVudEhlaWdodCt0aGlzLmxpc3Quc2Nyb2xsVG9wLTUwO09iamVjdC5rZXlzKHRoaXMubWVzc2FnZXNFbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbihjb2RlKXtpZihfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW2NvZGVdJiYhKF90aGlzLm1lc3NhZ2VzRWxlbWVudHNbY29kZV0ub2Zmc2V0VG9wPnNjcm9sbFRvcCkpe3ZhciBtZXNzYWdlPV90aGlzLm1lc3NhZ2VzLmZpbmQoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIG1lc3NhZ2UuY29kZT09PWNvZGV9KTshbWVzc2FnZXx8bWVzc2FnZS5pc1JlYWR8fF90aGlzLnJlYWRJdGVtcy5pbmRleE9mKGNvZGUpKzF8fF90aGlzLnJlYWRJdGVtcy5wdXNoKGNvZGUpfX0pfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZVJlYWRTdGF0dXM9ZnVuY3Rpb24oKXt0aGlzLnB3LnB3aW5ib3gucmVhZE1lc3NhZ2VzV2l0aENvZGVzKHRoaXMucmVhZEl0ZW1zKS50aGVuKHRoaXMudXBkYXRlSW5ib3gpfSxJbmJveFdpZGdldC5wcm90b3R5cGUudXBkYXRlSW5ib3g9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLnB3LnB3aW5ib3gubG9hZE1lc3NhZ2VzKCkudGhlbihmdW5jdGlvbihtZXNzYWdlcyl7X3RoaXMudXBkYXRlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyl9KSx0aGlzLnB3LnB3aW5ib3gudW5yZWFkTWVzc2FnZXNDb3VudCgpLnRoZW4oZnVuY3Rpb24oY291bnQpe190aGlzLnVwZGF0ZUNvdW50ZXIoY291bnQpfSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5wZXJmb3JtTWVzc2FnZUFjdGlvbj1mdW5jdGlvbihjb2RlKXt2YXIgX3RoaXM9dGhpczt0aGlzLnB3LnB3aW5ib3gucGVyZm9ybUFjdGlvbkZvck1lc3NhZ2VXaXRoQ29kZShjb2RlKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMudXBkYXRlSW5ib3goKX0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVtb3ZlTWVzc2FnZXM9ZnVuY3Rpb24obWVzc2FnZXMpe3ZhciBfdGhpcz10aGlzO21lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24oY29kZSl7X3RoaXMucmVhZEl0ZW1zPV90aGlzLnJlYWRJdGVtcy5zbGljZShfdGhpcy5yZWFkSXRlbXMuaW5kZXhPZihjb2RlKSwxKX0pLHRoaXMucHcucHdpbmJveC5kZWxldGVNZXNzYWdlc1dpdGhDb2RlcyhtZXNzYWdlcykudGhlbihmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uVHJpZ2dlckNsaWNrSGFuZGxlcj1mdW5jdGlvbihldmVudCl7ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksZXZlbnQudGFyZ2V0JiZ0aGlzLnRvZ2dsZSgpfSxJbmJveFdpZGdldC5wcm90b3R5cGUub25XaWRnZXRDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50LnRhcmdldCl7dmFyIGl0ZW1FbGVtZW50PWV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLnB3LWluYm94X2l0ZW1cIik7aWYoaXRlbUVsZW1lbnQpe3ZhciBtZXNzYWdlQ29kZT1pdGVtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXB3LWluYm94LW1lc3NhZ2UtaWRcIik7bWVzc2FnZUNvZGUmJihldmVudC50YXJnZXQuY2xvc2VzdChcIi5wdy1pbmJveF9pdGVtLXJlbW92ZVwiKT90aGlzLnJlbW92ZU1lc3NhZ2VzKFttZXNzYWdlQ29kZV0pOnRoaXMucGVyZm9ybU1lc3NhZ2VBY3Rpb24obWVzc2FnZUNvZGUpKX1lbHNlIHRoaXMudG9nZ2xlKCl9fSxJbmJveFdpZGdldC5wcm90b3R5cGUub25XaW5kb3dTY3JvbGxIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5pc0ZpeGVkJiZ0aGlzLmlzT3BlbmVkP3RoaXMudG9nZ2xlKCk6dGhpcy5wb3NpdGlvbldpZGdldCgpfSxJbmJveFdpZGdldH0oKTtleHBvcnRzLmRlZmF1bHQ9SW5ib3hXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtleHBvcnRzLndpZGdldFRlbXBsYXRlPWZ1bmN0aW9uKHRpdGxlKXtyZXR1cm4nXFxuPGRpdiBjbGFzcz1cInB3LWluYm94X19hcnJvd1wiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9pbm5lclwiPlxcbiAgICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfdGl0bGVcIj5cXG4gICAgICAnK3RpdGxlKydcXG4gICAgPC9kaXY+XFxuICAgIDx1bCBjbGFzcz1cInB3LWluYm94X2xpc3RcIj5cXG4gICAgXFxuICAgIDwvdWw+XFxuPC9kaXY+J30sZXhwb3J0cy53aWRnZXRUZW1wbGF0ZUVtcHR5PWZ1bmN0aW9uKGVtcHR5SW5ib3hJY29uVXJsLGVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dCl7cmV0dXJuJ1xcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9fYXJyb3dcIj48L2Rpdj5cXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfbGlzdC0tZW1wdHlcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtaWNvblwiPlxcbiAgICAgIDxpbWcgc3JjPVwiJytlbXB0eUluYm94SWNvblVybCsnXCIgYWx0PVwiJytlbXB0eUluYm94VGl0bGUrJ1wiPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtdGl0bGVcIj5cXG4gICAgICAnK2VtcHR5SW5ib3hUaXRsZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiaXB3LWluYm94X2xpc3QtYm9keVwiPlxcbiAgICAgICcrZW1wdHlJbmJveFRleHQrXCJcXG4gICAgPC9kaXY+XFxuPC9kaXY+XCJ9LGV4cG9ydHMubWVzc2FnZVRlbXBsYXRlPWZ1bmN0aW9uKF9hKXt2YXIgaW1hZ2VVcmw9X2EuaW1hZ2VVcmwsdGl0bGU9X2EudGl0bGUsbWVzc2FnZT1fYS5tZXNzYWdlLHNlbmREYXRlPV9hLnNlbmREYXRlO3JldHVybidcXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfaXRlbS1pbm5lclwiPlxcbiAgPGRpdiBjbGFzcz1cInB3LWluYm94X2ljb25cIj5cXG4gICAgPGltZyBzcmM9XCInK2ltYWdlVXJsKydcIiBhbHQ9XCInKyh0aXRsZXx8bWVzc2FnZSkrJ1wiIGNsYXNzPVwicHctaW5ib3hfbWVzc2FnZS1pbWFnZVwiPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfY29udGVudFwiPlxcbiAgICAnKyh0aXRsZT8nPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tdGl0bGVcIj5cXG4gICAgICAnK3RpdGxlK1wiXFxuICAgIDwvZGl2PlwiOm51bGwpKydcXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tYm9keVwiPlxcbiAgICAgICcrbWVzc2FnZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfaXRlbS10aW1lXCI+XFxuICAgICAgJytoZWxwZXJzXzEuZ2V0TWVzc2FnZVRpbWUoc2VuZERhdGUpKydcXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG48c3BhbiBjbGFzcz1cInB3LWluYm94X2l0ZW0tcmVtb3ZlXCI+PC9zcGFuPid9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcmVzdWx0PV9fd2VicGFja19yZXF1aXJlX18oNik7bW9kdWxlLmV4cG9ydHM9XCJzdHJpbmdcIj09dHlwZW9mIHJlc3VsdD9yZXN1bHQ6cmVzdWx0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhtb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpKHZvaWQgMCkpLnB1c2goW21vZHVsZS5pLFwiLnB3LWluYm94LXRyaWdnZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4ucHctaW5ib3gtdHJpZ2dlcjphZnRlciB7XFxuICBjb250ZW50OiBhdHRyKGRhdGEtcHctY291bnQpO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMDtcXG4gIHRvcDogMDtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJhZGdlQmdDb2xvcik7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDhweDtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgY29sb3I6IHZhcigtLWJhZGdlVGV4dENvbG9yKTtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgcGFkZGluZzogMCAycHg7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5wdy1pbmJveC10cmlnZ2VyLnB3LWVtcHR5OmFmdGVyIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5wdy1pbmJveC13aWRnZXQgKiB7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnRGYW1pbHkpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IC0xMDAwcHg7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIGJvcmRlcjogc29saWQgMXB4IHZhcigtLWJvcmRlckNvbG9yKTtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyUmFkaXVzKTtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyUmFkaXVzKTtcXG4gIHdpZHRoOiB2YXIoLS13aWRnZXRXaWR0aCk7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYmEoMCwwLDAsLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNHB4IDAgcmdiYSgwLDAsMCwuMjUpO1xcbiAgei1pbmRleDogdmFyKC0tekluZGV4KTtcXG4gIG9wYWNpdHk6IDA7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjZzIGVhc2U7XFxuICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IC42cyBlYXNlO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNnMgZWFzZTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMTAwbXM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDEwMG1zO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAxMDBtcztcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1vcGVuIHtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBtcztcXG4gICAgICAgLW8tdHJhbnNpdGlvbi1kZWxheTogMG1zO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAwbXM7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldCB7XFxuICB0b3A6IGF1dG87XFxuICBsZWZ0OiBhdXRvO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LW9wZW4ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1ib3R0b20ge1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQucHctdG9wIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LXJpZ2h0IHtcXG4gIGxlZnQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LWxlZnQge1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWVtcHR5IHtcXG4gIG1heC1oZWlnaHQ6IG5vbmU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQgLnB3LWluYm94X19hcnJvdyB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAxMHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAxMHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctdG9wIHtcXG4gIG1hcmdpbi10b3A6IC0xMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXRvcCAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgYm90dG9tOiAtMjFweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy10b3AgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICB0b3A6IC0xMXB4O1xcbiAgbGVmdDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctYm90dG9tIHtcXG4gIG1hcmdpbi10b3A6IDEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctYm90dG9tIC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tYXJyb3dCb3JkZXJDb2xvcik7XFxuICB0b3A6IC0yMXB4O1xcbiAgbGVmdDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIGJvdHRvbTogLTExcHg7XFxuICBsZWZ0OiAtMTBweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1sZWZ0IHtcXG4gIG1hcmdpbi1sZWZ0OiAtMTJweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1sZWZ0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgcmlnaHQ6IC0yMXB4O1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICBsZWZ0OiAtMTFweDtcXG4gIHRvcDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQge1xcbiAgbWFyZ2luLWxlZnQ6IDEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQgLnB3LWluYm94X19hcnJvdyB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgbGVmdDogLTIxcHg7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1yaWdodCAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgcmlnaHQ6IC0xMXB4O1xcbiAgdG9wOiAtMTBweDtcXG59XFxuLnB3LWluYm94X2lubmVyIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLnB3LWluYm94X3RpdGxlIHtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMjhweCAzMnB4IDEycHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgbGluZS1oZWlnaHQ6IDEuMTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICAtd2Via2l0LWJveC1mbGV4OiAwO1xcbiAgICAgIC1tcy1mbGV4OiAwIDAgNjZweDtcXG4gICAgICAgICAgZmxleDogMCAwIDY2cHg7XFxufVxcbi5wdy1pbmJveF9saXN0IHtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBtaW4td2lkdGg6IDIwMHB4O1xcbiAgbWF4LWhlaWdodDogMzAwcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgLW1zLWZsZXg6IDEgMSBhdXRvO1xcbiAgICAgICAgICBmbGV4OiAxIDEgYXV0bztcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZzogOHB4IDMycHg7XFxuICBtYXJnaW46IDA7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4ucHctaW5ib3hfaXRlbS1pbm5lciB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnB3LWluYm94X2ljb24ge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAwIDQwcHg7XFxuICAgICAgICAgIGZsZXg6IDAgMCA0MHB4O1xcbn1cXG4ucHctaW5ib3hfbWVzc2FnZS1pbWFnZSB7XFxuICB3aWR0aDogMjhweDtcXG59XFxuLnB3LWluYm94X2NvbnRlbnQge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAxIDEwMCU7XFxuICAgICAgICAgIGZsZXg6IDAgMSAxMDAlO1xcbn1cXG4ucHctaW5ib3hfaXRlbS10aXRsZSB7XFxuICBjb2xvcjogdmFyKC0tbWVzc2FnZVRpdGxlQ29sb3IpO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW4tYm90dG9tOiA0cHg7XFxufVxcbi5wdy1pbmJveF9pdGVtLWJvZHkge1xcbiAgY29sb3I6IHZhcigtLXRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMjBweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG59XFxuLnB3LWluYm94X2l0ZW0tdGltZSB7XFxuICBjb2xvcjogdmFyKC0tdGltZVRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBsaW5lLWhlaWdodDogMTdweDtcXG59XFxuLnB3LWluYm94X2l0ZW0tcmVtb3ZlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDI7XFxuICB0b3A6IDhweDtcXG4gIHJpZ2h0OiA4cHg7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgd2lkdGg6IDEwcHg7XFxuICBoZWlnaHQ6IDEwcHg7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJ2h0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvaWNvbkNsb3NlLnN2ZycpIDUwJSBuby1yZXBlYXQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5wdy1pbmJveF9pdGVtOmhvdmVyIC5wdy1pbmJveF9pdGVtLXJlbW92ZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ucHctbmV3IC5wdy1pbmJveF9pdGVtLXRpdGxlIHtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ucHctbmV3IC5wdy1pbmJveF9pdGVtLWJvZHkge1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IHtcXG4gIHBhZGRpbmc6IDUwcHggMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LWljb24ge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG59XFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LWljb24gaW1nIHtcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LXRpdGxlIHtcXG4gIGZvbnQtc2l6ZTogMjhweDtcXG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xcbiAgY29sb3I6IHZhcigtLWVtcHR5SW5ib3hUaXRsZUNvbG9yKTtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSAuaXB3LWluYm94X2xpc3QtYm9keSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMThweDtcXG4gIGNvbG9yOiB2YXIoLS1lbXB0eUluYm94VGV4dENvbG9yKTtcXG59XFxuXCIsXCJcIl0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odXNlU291cmNlTWFwKXt2YXIgbGlzdD1bXTtyZXR1cm4gbGlzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihpdGVtKXt2YXIgY29udGVudD1mdW5jdGlvbihpdGVtLHVzZVNvdXJjZU1hcCl7dmFyIGNvbnRlbnQ9aXRlbVsxXXx8XCJcIixjc3NNYXBwaW5nPWl0ZW1bM107aWYoIWNzc01hcHBpbmcpcmV0dXJuIGNvbnRlbnQ7aWYodXNlU291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgc291cmNlTWFwcGluZz1mdW5jdGlvbihzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIn0oY3NzTWFwcGluZyksc291cmNlVVJMcz1jc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK2Nzc01hcHBpbmcuc291cmNlUm9vdCtzb3VyY2UrXCIgKi9cIn0pO3JldHVybltjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKX1yZXR1cm5bY29udGVudF0uam9pbihcIlxcblwiKX0oaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19XSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB3ZWJfcHVzaF9zdWJzY3JpYmVfcG9wdXBfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInB1c2h3b29zaC5pbml0aWFsaXplZFwiLGZ1bmN0aW9uKGV2KXtpZihldi5kZXRhaWwucHcuc3Vic2NyaWJlUG9wdXBDb25maWcmJmV2LmRldGFpbC5wdy5zdWJzY3JpYmVQb3B1cENvbmZpZy5lbmFibGUpe3ZhciBwb3B1cF8xPW5ldyB3ZWJfcHVzaF9zdWJzY3JpYmVfcG9wdXBfMS5QV1N1YnNjcmliZVBvcHVwKGV2LmRldGFpbC5wdyk7cG9wdXBfMS5pbml0UG9wdXAoKS50aGVuKGZ1bmN0aW9uKCl7ZXYuZGV0YWlsLnB3LnN1YnNjcmliZVBvcHVwPXBvcHVwXzF9KX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTEpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5ERUZBVUxUX0NPTkZJRz17dGV4dDpcIkRvbuKAmXQgbWlzcyBvdXQgb24gb3VyIG5ld3MgYW5kIHVwZGF0ZXMhIEVuYWJsZSBwdXNoIG5vdGlmaWNhdGlvbnNcIixhc2tMYXRlckJ1dHRvblRleHQ6XCJOb3Qgbm93XCIsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ6XCJTdWJzY3JpYmVcIixkZWxheTo2MCxyZXRyeU9mZnNldDo2MDQ4MDAsb3ZlcmxheTohMSxwb3NpdGlvbjpcInRvcFwiLGJnQ29sb3I6XCIjZmZmXCIsYm9yZGVyQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGJveFNoYWRvdzpcIjAgM3B4IDZweCByZ2JhKDAsMCwwLDAuMTYpLCAwIDNweCA2cHggcmdiYSgwLDAsMCwwLjIzKVwiLHRleHRDb2xvcjpcIiMwMDBcIix0ZXh0U2l6ZTpcImluaGVyaXRcIixmb250RmFtaWx5OlwiaW5oZXJpdFwiLHN1YnNjcmliZUJ0bkJnQ29sb3I6XCIjNDI4NWY0XCIsc3Vic2NyaWJlQnRuVGV4dENvbG9yOlwiI2ZmZlwiLGFza0xhdGVyQnRuQmdDb2xvcjpcInRyYW5zcGFyZW50XCIsYXNrTGF0ZXJCdG5UZXh0Q29sb3I6XCIjMDAwXCIsdGhlbWU6XCJtYXRlcmlhbFwiLHZpZXdwb3J0OlwiaHRtbFwifSxleHBvcnRzLkNPTE9SX1RFU1RfUkVHRVhQPS9eKCMoW1xcZGEtZl17M30pezEsMn0kfChyZ2J8aHNsKWFcXCgoXFxkezEsM30lPyxcXHM/KXszfSgxfDA/XFwuXFxkKylcXCkkfChyZ2J8aHNsKVxcKFxcZHsxLDN9JT8oLFxccz9cXGR7MSwzfSU/KXsyfVxcKSQpLyxleHBvcnRzLlBFUk1JU1NJT05fREVOSUVEPVwiZGVuaWVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX0dSQU5URUQ9XCJncmFudGVkXCIsZXhwb3J0cy5DT05GSUdfU1RZTEVTPVt7bmFtZTpcImJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJib3JkZXJDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImJveFNoYWRvd1wiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJ0ZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0ZXh0U2l6ZVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJmb250RmFtaWx5XCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcInN1YnNjcmliZUJ0bkJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJzdWJzY3JpYmVCdG5UZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhc2tMYXRlckJ0bkJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhc2tMYXRlckJ0blRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdWJzY3JpYmVQb3B1cF8xPV9fd2VicGFja19yZXF1aXJlX18oMik7ZXhwb3J0cy5QV1N1YnNjcmliZVBvcHVwPVN1YnNjcmliZVBvcHVwXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fE9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUocmVzdWx0LnZhbHVlKX0pLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHBvcHVwVGVtcGxhdGVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxjb25zdGFudHNfMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLGhlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLFN1YnNjcmliZVBvcHVwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlUG9wdXAocHcpe3RoaXMucHc9cHcsdGhpcy5jb25maWc9X19hc3NpZ24oe30sY29uc3RhbnRzXzEuREVGQVVMVF9DT05GSUcsdGhpcy5wdy5zdWJzY3JpYmVQb3B1cENvbmZpZyksdGhpcy5vbkFza0xhdGVyQ2xpY2s9dGhpcy5vbkFza0xhdGVyQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9uU3Vic2NyaWJlQ2xpY2s9dGhpcy5vblN1YnNjcmliZUNsaWNrLmJpbmQodGhpcyl9cmV0dXJuIFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5pbml0UG9wdXA9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpc1N1YnNjcmliZWQsaXNNYW51YWxVbnN1YnNjcmliZWQscGVybWlzc2lvbixsYXN0UG9wdXBPcGVuLGxhc3RQb3B1cE9wZW5UaW1lLG5vdyxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnB3LmlzU3Vic2NyaWJlZCgpXTtjYXNlIDE6cmV0dXJuIGlzU3Vic2NyaWJlZD1fYS5zZW50KCksWzQsdGhpcy5wdy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDI6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9hLnNlbnQoKSxpc1N1YnNjcmliZWR8fGlzTWFudWFsVW5zdWJzY3JpYmVkP1syXTpbNCx0aGlzLnB3LmRyaXZlci5nZXRQZXJtaXNzaW9uKCldO2Nhc2UgMzpyZXR1cm4ocGVybWlzc2lvbj1fYS5zZW50KCkpPT09Y29uc3RhbnRzXzIuUEVSTUlTU0lPTl9HUkFOVEVEfHxwZXJtaXNzaW9uPT09Y29uc3RhbnRzXzIuUEVSTUlTU0lPTl9ERU5JRUQ/WzJdOih0aGlzLnJlbmRlclBvcHVwKCksdGhpcy5hcHBlbmRTdHlsZXMoKSxsYXN0UG9wdXBPcGVuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiTEFTVF9PUEVOX1NVQlNDUklQVElPTl9QT1BVUFwiKSxsYXN0UG9wdXBPcGVuVGltZT1sYXN0UG9wdXBPcGVuP3BhcnNlSW50KGxhc3RQb3B1cE9wZW4pOjAsbm93PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGxhc3RQb3B1cE9wZW5UaW1lKzFlMyp0aGlzLmNvbmZpZy5yZXRyeU9mZnNldDxub3cmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtfdGhpcy50b2dnbGUoITApfSwxZTMqdGhpcy5jb25maWcuZGVsYXkpLFsyXSl9fSl9KX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihpc1Nob3duKXsoXCJib29sZWFuXCI9PXR5cGVvZiBpc1Nob3duP2lzU2hvd246IXRoaXMuaXNTaG93bik/KHRoaXMuc2hvd1BvcHVwKCksdGhpcy5wdy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlLXBvcHVwLXNob3dcIix7fSkpOih0aGlzLmNsb3NlUG9wdXAoKSx0aGlzLnB3LmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzdWJzY3JpYmUtcG9wdXAtaGlkZVwiLHt9KSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITAsdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcInNob3dQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO2lmKHRoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1cIm1hcmdpbi10b3AgLjNzIGVhc2Utb3V0XCIsdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblRvcD1wYXJzZUludChjdXJyZW50TWFyZ2luVG9wKSt0aGlzLnBvcHVwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtcInB4XCJ9fX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmNsb3NlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITEsdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcImhpZGVQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO3RoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCk7dmFyIG5vdz0obmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpO2lmKGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTEFTVF9PUEVOX1NVQlNDUklQVElPTl9QT1BVUFwiLG5vdyksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luVG9wPXBhcnNlSW50KGN1cnJlbnRNYXJnaW5Ub3ApLXRoaXMucG9wdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K1wicHhcIn19fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUucmVuZGVyUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5wb3B1cC5pZD1cInB3U3Vic2NyaWJlUG9wdXBcIjt2YXIgX2E9dGhpcy5jb25maWcsdGV4dD1fYS50ZXh0LGFza0xhdGVyQnV0dG9uVGV4dD1fYS5hc2tMYXRlckJ1dHRvblRleHQsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ9X2EuY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQsaWNvblVybD1fYS5pY29uVXJsLHBvc2l0aW9uPV9hLnBvc2l0aW9uLG92ZXJsYXk9X2Eub3ZlcmxheSx0aGVtZT1fYS50aGVtZTt0aGlzLnBvcHVwLmNsYXNzTmFtZT1cInB3LXN1YnNjcmliZS1wb3B1cCBwdy1wb3NpdGlvbi1cIitwb3NpdGlvbitcIiBwdy1zdWJzY3JpYmUtcG9wdXAtXCIrdGhlbWUsdGhpcy5wb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwicHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5XCIsb3ZlcmxheSksdGhpcy5wb3B1cC5pbm5lckhUTUw9cG9wdXBUZW1wbGF0ZXNfMS5pbm5lclRlbXBsYXRlKHt0ZXh0OnRleHQsYXNrTGF0ZXJCdXR0b25UZXh0OmFza0xhdGVyQnV0dG9uVGV4dCxjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDpjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dCxpY29uVXJsOmljb25Vcmx9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wdXApLHRoaXMuYWRkTGlzdGVuZXJzKCl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5hcHBlbmRTdHlsZXM9ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPV9fd2VicGFja19yZXF1aXJlX18oNSksc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3N0eWxlLmlubmVySFRNTD10aGlzLmNvbmZpZ3VyZVN0eWxlKHN0eWxlcyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5nZXRTdHlsZUZvcm1hdHRlcj1mdW5jdGlvbihzdHlsZSl7c3dpdGNoKHN0eWxlLnR5cGUpe2Nhc2VcInNpemVcIjpyZXR1cm4odGhpcy5jb25maWdbc3R5bGUubmFtZV18fDApK1wicHhcIjtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKS50b1N0cmluZygpO2Nhc2VcInN0cmluZ1wiOnJldHVybiB0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpO2Nhc2VcImNvbG9yXCI6cmV0dXJuIGhlbHBlcnNfMS5nZXRWYWxpZENvbG9yKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCkpO2RlZmF1bHQ6cmV0dXJuXCJub25lXCJ9fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuY29uZmlndXJlU3R5bGU9ZnVuY3Rpb24oc3R5bGVzKXt2YXIgX3RoaXM9dGhpcyxyZXN1bHRTdHlsZXM9c3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIGNvbnN0YW50c18xLkNPTkZJR19TVFlMRVMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSl7dmFyIHRlbXBsYXRlPW5ldyBSZWdFeHAoXCJ2YXJcXFxcKC0tXCIrc3R5bGUubmFtZStcIlxcXFwpXCIsXCJpZ1wiKSxyZXN1bHQ9X3RoaXMuZ2V0U3R5bGVGb3JtYXR0ZXIoc3R5bGUpO3Jlc3VsdFN0eWxlcz1yZXN1bHRTdHlsZXMucmVwbGFjZSh0ZW1wbGF0ZSxyZXN1bHQpfSkscmVzdWx0U3R5bGVzfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGFza0xhdGVyQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd0Fza0xhdGVyXCJdJyl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksc3Vic2NyaWJlQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd1N1YnNjcmliZVwiXScpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Fza0xhdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25Bc2tMYXRlckNsaWNrKSxzdWJzY3JpYmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vblN1YnNjcmliZUNsaWNrKX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uQXNrTGF0ZXJDbGljaz1mdW5jdGlvbigpe3RoaXMudG9nZ2xlKCExKSx0aGlzLnB3LmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzdWJzY3JpYmUtcG9wdXAtZGVjbGluZVwiLHt9KX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uU3Vic2NyaWJlQ2xpY2s9ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZSghMSksdGhpcy5wdy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlLXBvcHVwLWFjY2VwdFwiLHt9KSx0aGlzLnB3LnN1YnNjcmliZSgpfSxTdWJzY3JpYmVQb3B1cH0oKTtleHBvcnRzLmRlZmF1bHQ9U3Vic2NyaWJlUG9wdXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuaW5uZXJUZW1wbGF0ZT1mdW5jdGlvbihfYSl7dmFyIGljb25Vcmw9X2EuaWNvblVybCx0ZXh0PV9hLnRleHQsYXNrTGF0ZXJCdXR0b25UZXh0PV9hLmFza0xhdGVyQnV0dG9uVGV4dCxjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dD1fYS5jb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDtyZXR1cm4nPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lclwiPlxcbiAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRlbnRcIj5cXG4gICAgICAnKyhpY29uVXJsPyc8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWljb25cIj5cXG4gICAgICAgIDxpbWcgc3JjPVwiJytpY29uVXJsKydcIj5cXG4gICAgICA8L2Rpdj4nOlwiXCIpKydcXG4gICAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLXRleHRcIj5cXG4gICAgICAgICcrdGV4dCsnXFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzXCI+XFxuICAgICAgPGJ1dHRvbiBuYW1lPVwicHdTdWJzY3JpYmVcIiBjbGFzcz1cInB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24gcHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmVcIj4nK2NvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0Kyc8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIG5hbWU9XCJwd0Fza0xhdGVyXCIgY2xhc3M9XCJwdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uXCI+Jythc2tMYXRlckJ1dHRvblRleHQrXCI8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO2V4cG9ydHMuZ2V0VmFsaWRDb2xvcj1mdW5jdGlvbihjb2xvcil7cmV0dXJuXCJ0cmFuc3BhcmVudFwiPT09Y29sb3I/Y29sb3I6Y29uc3RhbnRzXzEuQ09MT1JfVEVTVF9SRUdFWFAudGVzdChjb2xvcik/Y29sb3I6XCIjMzMzXCJ9LGV4cG9ydHMuZ2V0R2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciByZXN1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTttb2R1bGUuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2YgcmVzdWx0P3Jlc3VsdDpyZXN1bHQudG9TdHJpbmcoKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KG1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNykodm9pZCAwKSkucHVzaChbbW9kdWxlLmksXCIucHctc3Vic2NyaWJlLXBvcHVwIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgei1pbmRleDogMTAwMDAwMDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2Utb3V0O1xcbiAgLW8tdHJhbnNpdGlvbjogYWxsIC40cyBlYXNlLW91dDtcXG4gIHRyYW5zaXRpb246IGFsbCAuNHMgZWFzZS1vdXQ7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tdG9wIHtcXG4gIHRvcDogY2FsYygtMTAwJSAtIDI0cHgpO1xcbn1cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLXRvcC5wdy1zaG93IHtcXG4gIHRvcDogMDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgYm90dG9tOiBjYWxjKC0xMDAlIC0gMjRweCk7XFxufVxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tYm90dG9tLnB3LXNob3cge1xcbiAgYm90dG9tOiAwO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWNlbnRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWNlbnRlci5wdy1zaG93IHtcXG4gIHRvcDogNTAlO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiBub25lO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC40KTtcXG4gIHotaW5kZXg6IDEwMDAwMDA7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgdG9wOiAwO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5LnB3LXBvc2l0aW9uLXRvcCB7XFxuICAtd2Via2l0LWJveC1hbGlnbjogc3RhcnQ7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheS5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkucHctcG9zaXRpb24tY2VudGVyIHtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICBtYXgtd2lkdGg6IDQwMHB4O1xcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0U2l6ZSk7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250RmFtaWx5KTtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItd2lkdGg6IDFweDtcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyQ29sb3IpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IHZhcigtLWJveFNoYWRvdyk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLWJveFNoYWRvdyk7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udGVudCB7XFxuICBwYWRkaW5nOiAxNnB4IDE2cHggNHB4O1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1wYWNrOiBzdHJldGNoO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pY29uIHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgICAgLW1zLWZsZXg6IDAgMCA1MHB4O1xcbiAgICAgICAgICBmbGV4OiAwIDAgNTBweDtcXG4gIG1hcmdpbi1yaWdodDogMTJweDtcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvbiBpbWcge1xcbiAgbWF4LXdpZHRoOiA2MHB4O1xcbiAgbWF4LWhlaWdodDogNjBweDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC10ZXh0IHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgLW1zLWZsZXg6IDEgMSAzMDBweDtcXG4gICAgICAgICAgZmxleDogMSAxIDMwMHB4O1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzIHtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XFxuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDhweCAxNnB4IDE2cHg7XFxufVxcblxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uIHtcXG4gIGJvcmRlcjogc29saWQgMXB4IHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGhlaWdodDogMzZweDtcXG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xcbiAgcGFkZGluZzogMCAxNnB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgb3V0bGluZTogMDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGNvbG9yOiB2YXIoLS1hc2tMYXRlckJ0blRleHRDb2xvcik7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBsZXR0ZXItc3BhY2luZzogLjVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWFza0xhdGVyQnRuQmdDb2xvcik7XFxuICBtYXJnaW46IDRweCA4cHg7XFxufVxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjA0KTtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b246YWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjEyKTtcXG59XFxuXFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmUge1xcbiAgY29sb3I6IHZhcigtLXN1YnNjcmliZUJ0blRleHRDb2xvcik7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1zdWJzY3JpYmVCdG5CZ0NvbG9yKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbn1cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLWFjdGl2ZTpob3ZlciB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgM3B4IDNweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDFweCA3cHggMCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAzcHggMXB4IC0xcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDNweCAzcHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAxcHggN3B4IDAgcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgM3B4IDFweCAtMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmU6YWN0aXZlIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1NDFweCkge1xcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXIge1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gICAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBwYWRkaW5nOiAycHggNDBweDtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAtbXMtZmxleC13cmFwOiBub3dyYXA7XFxuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udGVudCB7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0YXJ0O1xcbiAgICAgICAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAtd2Via2l0LWJveC1mbGV4OiAxO1xcbiAgICAgICAgLW1zLWZsZXg6IDEgMSA2MCU7XFxuICAgICAgICAgICAgZmxleDogMSAxIDYwJTtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvbiBpbWcge1xcbiAgICBtYXgtd2lkdGg6IDI4cHg7XFxuICAgIG1heC1oZWlnaHQ6IDI4cHg7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciBidXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbiB7XFxuICAgIGhlaWdodDogMzJweDtcXG4gICAgbGluZS1oZWlnaHQ6IDMycHg7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzIHtcXG4gICAgcGFkZGluZzogMCAwIDAgMTZweDtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG59XFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTQwcHgpIHtcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAsXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLXRvcCxcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tY2VudGVyLFxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgICB0b3A6IGF1dG87XFxuICAgIGJvdHRvbTogLTExMCU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAgIC1tcy10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBub25lO1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgLW8tdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctc2hvdyB7XFxuICAgIGJvdHRvbTogMDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazogc3RyZXRjaDtcXG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzdHJldGNoO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICB9XFxufVxcblwiLFwiXCJdKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHVzZVNvdXJjZU1hcCl7dmFyIGxpc3Q9W107cmV0dXJuIGxpc3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIGNvbnRlbnQ9ZnVuY3Rpb24oaXRlbSx1c2VTb3VyY2VNYXApe3ZhciBjb250ZW50PWl0ZW1bMV18fFwiXCIsY3NzTWFwcGluZz1pdGVtWzNdO2lmKCFjc3NNYXBwaW5nKXJldHVybiBjb250ZW50O2lmKHVzZVNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIHNvdXJjZU1hcHBpbmc9ZnVuY3Rpb24oc291cmNlTWFwKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpK1wiICovXCJ9KGNzc01hcHBpbmcpLHNvdXJjZVVSTHM9Y3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2Upe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitjc3NNYXBwaW5nLnNvdXJjZVJvb3Qrc291cmNlK1wiICovXCJ9KTtyZXR1cm5bY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW2NvbnRlbnRdLmpvaW4oXCJcXG5cIil9KGl0ZW0sdXNlU291cmNlTWFwKTtyZXR1cm4gaXRlbVsyXT9cIkBtZWRpYSBcIitpdGVtWzJdK1wie1wiK2NvbnRlbnQrXCJ9XCI6Y29udGVudH0pLmpvaW4oXCJcIil9LGxpc3QuaT1mdW5jdGlvbihtb2R1bGVzLG1lZGlhUXVlcnkpe1wic3RyaW5nXCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcz1bW251bGwsbW9kdWxlcyxcIlwiXV0pO2Zvcih2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBpZD10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBpZCYmKGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdPSEwKX1mb3IoaT0wO2k8bW9kdWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1tb2R1bGVzW2ldO1wibnVtYmVyXCI9PXR5cGVvZiBpdGVtWzBdJiZhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dfHwobWVkaWFRdWVyeSYmIWl0ZW1bMl0/aXRlbVsyXT1tZWRpYVF1ZXJ5Om1lZGlhUXVlcnkmJihpdGVtWzJdPVwiKFwiK2l0ZW1bMl0rXCIpIGFuZCAoXCIrbWVkaWFRdWVyeStcIilcIiksbGlzdC5wdXNoKGl0ZW0pKX19LGxpc3R9fV0pfV0pfSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/web-push-notifications/lib/index.js\n");

/***/ })

}]);